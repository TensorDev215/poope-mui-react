"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["vendors-node_modules_ox__esm_e"],{

/***/ "./node_modules/ox/_esm/erc6492/SignatureErc6492.js"
/*!**********************************************************!*\
  !*** ./node_modules/ox/_esm/erc6492/SignatureErc6492.js ***!
  \**********************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InvalidWrappedSignatureError: () => (/* binding */ InvalidWrappedSignatureError),\n/* harmony export */   assert: () => (/* binding */ assert),\n/* harmony export */   from: () => (/* binding */ from),\n/* harmony export */   magicBytes: () => (/* binding */ magicBytes),\n/* harmony export */   universalSignatureValidatorAbi: () => (/* binding */ universalSignatureValidatorAbi),\n/* harmony export */   universalSignatureValidatorBytecode: () => (/* binding */ universalSignatureValidatorBytecode),\n/* harmony export */   unwrap: () => (/* binding */ unwrap),\n/* harmony export */   validate: () => (/* binding */ validate),\n/* harmony export */   wrap: () => (/* binding */ wrap)\n/* harmony export */ });\n/* harmony import */ var _core_AbiParameters_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/AbiParameters.js */ \"./node_modules/ox/_esm/core/AbiParameters.js\");\n/* harmony import */ var _core_Errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Errors.js */ \"./node_modules/ox/_esm/core/Errors.js\");\n/* harmony import */ var _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/Hex.js */ \"./node_modules/ox/_esm/core/Hex.js\");\n\n\n\n/**\n * Magic bytes used to identify ERC-6492 wrapped signatures.\n */\nconst magicBytes = '0x6492649264926492649264926492649264926492649264926492649264926492';\n/**\n * Deployless ERC-6492 signature verification bytecode.\n */\nconst universalSignatureValidatorBytecode = '0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572';\n/**\n * ABI for the ERC-6492 universal deployless signature validator contract.\n *\n * Constructor return value is `0x1` (valid) or `0x0` (invalid).\n */\nconst universalSignatureValidatorAbi = [\n    {\n        inputs: [\n            {\n                name: '_signer',\n                type: 'address',\n            },\n            {\n                name: '_hash',\n                type: 'bytes32',\n            },\n            {\n                name: '_signature',\n                type: 'bytes',\n            },\n        ],\n        stateMutability: 'nonpayable',\n        type: 'constructor',\n    },\n    {\n        inputs: [\n            {\n                name: '_signer',\n                type: 'address',\n            },\n            {\n                name: '_hash',\n                type: 'bytes32',\n            },\n            {\n                name: '_signature',\n                type: 'bytes',\n            },\n        ],\n        outputs: [\n            {\n                type: 'bool',\n            },\n        ],\n        stateMutability: 'nonpayable',\n        type: 'function',\n        name: 'isValidSig',\n    },\n];\n/**\n * Asserts that the wrapped signature is valid.\n *\n * @example\n * ```ts twoslash\n * import { SignatureErc6492 } from 'ox/erc6492'\n *\n * SignatureErc6492.assert('0xdeadbeef')\n * // @error: InvalidWrappedSignatureError: Value `0xdeadbeef` is an invalid ERC-6492 wrapped signature.\n * ```\n *\n * @param wrapped - The wrapped signature to assert.\n */\nfunction assert(wrapped) {\n    if (_core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.slice(wrapped, -32) !== magicBytes)\n        throw new InvalidWrappedSignatureError(wrapped);\n}\n/**\n * Parses an [ERC-6492 wrapped signature](https://eips.ethereum.org/EIPS/eip-6492#specification) into its constituent parts.\n *\n * @example\n * ```ts twoslash\n * // @noErrors\n * import { Secp256k1 } from 'ox'\n * import { SignatureErc6492 } from 'ox/erc6492' // [!code focus]\n *\n * const signature = Secp256k1.sign({\n *   payload: '0x...',\n *   privateKey: '0x...',\n * })\n *\n * // Instantiate from serialized format. // [!code focus]\n * const wrapped = SignatureErc6492.from('0x...') // [!code focus]\n * // @log: { data: '0x...', signature: { ... }, to: '0x...', } // [!code focus]\n *\n * // Instantiate from constituent parts. // [!code focus]\n * const wrapped = SignatureErc6492.from({ // [!code focus]\n *   data: '0x...', // [!code focus]\n *   signature, // [!code focus]\n *   to: '0x...', // [!code focus]\n * })\n * // @log: { data: '0x...', signature: { ... }, to: '0x...', }\n * ```\n *\n * @param wrapped - Wrapped signature to parse.\n * @returns Wrapped signature.\n */\nfunction from(wrapped) {\n    if (typeof wrapped === 'string')\n        return unwrap(wrapped);\n    return wrapped;\n}\n/**\n * Parses an [ERC-6492 wrapped signature](https://eips.ethereum.org/EIPS/eip-6492#specification) into its constituent parts.\n *\n * @example\n * ```ts twoslash\n * import { SignatureErc6492 } from 'ox/erc6492'\n *\n * const { data, signature, to } = SignatureErc6492.unwrap('0x...')\n * ```\n *\n * @param wrapped - Wrapped signature to parse.\n * @returns Wrapped signature.\n */\nfunction unwrap(wrapped) {\n    assert(wrapped);\n    const [to, data, signature] = _core_AbiParameters_js__WEBPACK_IMPORTED_MODULE_0__.decode(_core_AbiParameters_js__WEBPACK_IMPORTED_MODULE_0__.from('address, bytes, bytes'), wrapped);\n    return { data, signature, to };\n}\n/**\n * Serializes an [ERC-6492 wrapped signature](https://eips.ethereum.org/EIPS/eip-6492#specification).\n *\n * @example\n * ```ts twoslash\n * import { Secp256k1, Signature } from 'ox'\n * import { SignatureErc6492 } from 'ox/erc6492' // [!code focus]\n *\n * const signature = Secp256k1.sign({\n *   payload: '0x...',\n *   privateKey: '0x...',\n * })\n *\n * const wrapped = SignatureErc6492.wrap({ // [!code focus]\n *   data: '0xdeadbeef', // [!code focus]\n *   signature: Signature.toHex(signature), // [!code focus]\n *   to: '0x00000000219ab540356cBB839Cbe05303d7705Fa', // [!code focus]\n * }) // [!code focus]\n * ```\n *\n * @param value - Wrapped signature to serialize.\n * @returns Serialized wrapped signature.\n */\nfunction wrap(value) {\n    const { data, signature, to } = value;\n    return _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.concat(_core_AbiParameters_js__WEBPACK_IMPORTED_MODULE_0__.encode(_core_AbiParameters_js__WEBPACK_IMPORTED_MODULE_0__.from('address, bytes, bytes'), [\n        to,\n        data,\n        signature,\n    ]), magicBytes);\n}\n/**\n * Validates a wrapped signature. Returns `true` if the wrapped signature is valid, `false` otherwise.\n *\n * @example\n * ```ts twoslash\n * import { SignatureErc6492 } from 'ox/erc6492'\n *\n * const valid = SignatureErc6492.validate('0xdeadbeef')\n * // @log: false\n * ```\n *\n * @param wrapped - The wrapped signature to validate.\n * @returns `true` if the wrapped signature is valid, `false` otherwise.\n */\nfunction validate(wrapped) {\n    try {\n        assert(wrapped);\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\n/** Thrown when the ERC-6492 wrapped signature is invalid. */\nclass InvalidWrappedSignatureError extends _core_Errors_js__WEBPACK_IMPORTED_MODULE_1__.BaseError {\n    constructor(wrapped) {\n        super(`Value \\`${wrapped}\\` is an invalid ERC-6492 wrapped signature.`);\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'SignatureErc6492.InvalidWrappedSignatureError'\n        });\n    }\n}\n//# sourceMappingURL=SignatureErc6492.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvb3gvX2VzbS9lcmM2NDkyL1NpZ25hdHVyZUVyYzY0OTIuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9veC9fZXNtL2VyYzY0OTIvU2lnbmF0dXJlRXJjNjQ5Mi5qcz9jODRjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIEFiaVBhcmFtZXRlcnMgZnJvbSAnLi4vY29yZS9BYmlQYXJhbWV0ZXJzLmpzJztcbmltcG9ydCAqIGFzIEVycm9ycyBmcm9tICcuLi9jb3JlL0Vycm9ycy5qcyc7XG5pbXBvcnQgKiBhcyBIZXggZnJvbSAnLi4vY29yZS9IZXguanMnO1xuLyoqXG4gKiBNYWdpYyBieXRlcyB1c2VkIHRvIGlkZW50aWZ5IEVSQy02NDkyIHdyYXBwZWQgc2lnbmF0dXJlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IG1hZ2ljQnl0ZXMgPSAnMHg2NDkyNjQ5MjY0OTI2NDkyNjQ5MjY0OTI2NDkyNjQ5MjY0OTI2NDkyNjQ5MjY0OTI2NDkyNjQ5MjY0OTI2NDkyJztcbi8qKlxuICogRGVwbG95bGVzcyBFUkMtNjQ5MiBzaWduYXR1cmUgdmVyaWZpY2F0aW9uIGJ5dGVjb2RlLlxuICovXG5leHBvcnQgY29uc3QgdW5pdmVyc2FsU2lnbmF0dXJlVmFsaWRhdG9yQnl0ZWNvZGUgPSAnMHg2MDgwNjA0MDUyMzQ4MDE1NjEwMDEwNTc2MDAwODBmZDViNTA2MDQwNTE2MTA2OTQzODAzODA2MTA2OTQ4MzM5ODEwMTYwNDA4MTkwNTI2MTAwMmY5MTYxMDUxZTU2NWI2MDAwNjEwMDNjODQ4NDg0NjEwMDQ4NTY1YjkwNTA4MDYwMDA1MjYwMDE2MDFmZjM1YjYwMDA3ZjY0OTI2NDkyNjQ5MjY0OTI2NDkyNjQ5MjY0OTI2NDkyNjQ5MjY0OTI2NDkyNjQ5MjY0OTI2NDkyNjQ5MjY0OTI2MTAwNzQ4MzYxMDQwYzU2NWIwMzYxMDFlNzU3NjAwMDYwNjA4MDg0ODA2MDIwMDE5MDUxODEwMTkwNjEwMDkyOTE5MDYxMDU3NzU2NWI2MDQwNTE5Mjk1NTA5MDkzNTA5MTUwNjAwMDkwNjAwMTYwMDE2MGEwMWIwMzg1MTY5MDYxMDBiNjkwODU5MDYxMDVkZDU2NWI2MDAwNjA0MDUxODA4MzAzODE2MDAwODY1YWYxOTE1MDUwM2Q4MDYwMDA4MTE0NjEwMGYzNTc2MDQwNTE5MTUwNjAxZjE5NjAzZjNkMDExNjgyMDE2MDQwNTIzZDgyNTIzZDYwMDA2MDIwODQwMTNlNjEwMGY4NTY1YjYwNjA5MTUwNWI1MDUwOTA1MDg3NjAwMTYwMDE2MGEwMWIwMzE2M2I2MDAwMDM2MTAxNjA1NzgwNjEwMTYwNTc2MDQwNTE2MjQ2MWJjZDYwZTUxYjgxNTI2MDIwNjAwNDgyMDE1MjYwMWU2MDI0ODIwMTUyN2Y1MzY5Njc2ZTYxNzQ3NTcyNjU1NjYxNmM2OTY0NjE3NDZmNzIzYTIwNjQ2NTcwNmM2Zjc5NmQ2NTZlNzQwMDAwNjA0NDgyMDE1MjYwNjQwMTViNjA0MDUxODA5MTAzOTBmZDViNjA0MDUxNjMwYjEzNWQzZjYwZTExYjgwODI1MjkwNjAwMTYwMDE2MGEwMWIwMzhhMTY5MDYzMTYyNmJhN2U5MDYxMDE5MDkwOGI5MDg3OTA2MDA0MDE2MTA1Zjk1NjViNjAyMDYwNDA1MTgwODMwMzgxODY1YWZhMTU4MDE1NjEwMWFkNTczZDYwMDA4MDNlM2Q2MDAwZmQ1YjUwNTA1MDUwNjA0MDUxM2Q2MDFmMTk2MDFmODIwMTE2ODIwMTgwNjA0MDUyNTA4MTAxOTA2MTAxZDE5MTkwNjEwNjMzNTY1YjYwMDE2MDAxNjBlMDFiMDMxOTE2MTQ5NDUwNTA1MDUwNTA2MTA0MDU1NjViNjAwMTYwMDE2MGEwMWIwMzg0MTYzYjE1NjEwMjdhNTc2MDQwNTE2MzBiMTM1ZDNmNjBlMTFiODA4MjUyOTA2MDAxNjAwMTYwYTAxYjAzODYxNjkwNjMxNjI2YmE3ZTkwNjEwMjI3OTA4NzkwODc5MDYwMDQwMTYxMDVmOTU2NWI2MDIwNjA0MDUxODA4MzAzODE4NjVhZmExNTgwMTU2MTAyNDQ1NzNkNjAwMDgwM2UzZDYwMDBmZDViNTA1MDUwNTA2MDQwNTEzZDYwMWYxOTYwMWY4MjAxMTY4MjAxODA2MDQwNTI1MDgxMDE5MDYxMDI2ODkxOTA2MTA2MzM1NjViNjAwMTYwMDE2MGUwMWIwMzE5MTYxNDkwNTA2MTA0MDU1NjViODE1MTYwNDExNDYxMDJkZjU3NjA0MDUxNjI0NjFiY2Q2MGU1MWI4MTUyNjAyMDYwMDQ4MjAxNTI2MDNhNjAyNDgyMDE1MjYwMDA4MDUxNjAyMDYxMDY3NDgzMzk4MTUxOTE1MjYwNDQ4MjAxNTI3ZjNhMjA2OTZlNzY2MTZjNjk2NDIwNzM2OTY3NmU2MTc0NzU3MjY1MjA2YzY1NmU2Nzc0NjgwMDAwMDAwMDAwMDA2MDY0ODIwMTUyNjA4NDAxNjEwMTU3NTY1YjYxMDJlNzYxMDQyNTU2NWI1MDYwMjA4MjAxNTE2MDQwODA4NDAxNTE4NDUxODU5MzkyNjAwMDkxODU5MTkwODExMDYxMDMwYzU3NjEwMzBjNjEwNjVkNTY1YjAxNjAyMDAxNTE2MGY4MWM5MDUwNjAxYjgxMTQ4MDE1OTA2MTAzMmI1NzUwODA2MGZmMTY2MDFjMTQxNTViMTU2MTAzOGM1NzYwNDA1MTYyNDYxYmNkNjBlNTFiODE1MjYwMjA2MDA0ODIwMTUyNjAzYjYwMjQ4MjAxNTI2MDAwODA1MTYwMjA2MTA2NzQ4MzM5ODE1MTkxNTI2MDQ0ODIwMTUyN2YzYTIwNjk2ZTc2NjE2YzY5NjQyMDczNjk2NzZlNjE3NDc1NzI2NTIwNzYyMDc2NjE2Yzc1NjUwMDAwMDAwMDAwNjA2NDgyMDE1MjYwODQwMTYxMDE1NzU2NWI2MDQwODA1MTYwMDA4MTUyNjAyMDgxMDE4MDgzNTI4OTkwNTI2MGZmODMxNjkxODEwMTkxOTA5MTUyNjA2MDgxMDE4NDkwNTI2MDgwODEwMTgzOTA1MjYwMDE2MDAxNjBhMDFiMDM4OTE2OTA2MDAxOTA2MGEwMDE2MDIwNjA0MDUxNjAyMDgxMDM5MDgwODQwMzkwODU1YWZhMTU4MDE1NjEwM2VhNTczZDYwMDA4MDNlM2Q2MDAwZmQ1YjUwNTA1MDYwMjA2MDQwNTEwMzUxNjAwMTYwMDE2MGEwMWIwMzE2MTQ5NDUwNTA1MDUwNTA1YjkzOTI1MDUwNTA1NjViNjAwMDYwMjA4MjUxMTAxNTYxMDQxZDU3NjAwMDgwZmQ1YjUwODA1MTAxNTE5MDU2NWI2MDQwNTE4MDYwNjAwMTYwNDA1MjgwNjAwMzkwNjAyMDgyMDI4MDM2ODMzNzUwOTE5MjkxNTA1MDU2NWI2MDAxNjAwMTYwYTAxYjAzODExNjgxMTQ2MTA0NTg1NzYwMDA4MGZkNWI1MDU2NWI2MzRlNDg3YjcxNjBlMDFiNjAwMDUyNjA0MTYwMDQ1MjYwMjQ2MDAwZmQ1YjYwMDA1YjgzODExMDE1NjEwNDhjNTc4MTgxMDE1MTgzODIwMTUyNjAyMDAxNjEwNDc0NTY1YjUwNTA2MDAwOTEwMTUyNTY1YjYwMDA4MjYwMWY4MzAxMTI2MTA0YTY1NzYwMDA4MGZkNWI4MTUxNjAwMTYwMDE2MDQwMWIwMzgxMTExNTYxMDRiZjU3NjEwNGJmNjEwNDViNTY1YjYwNDA1MTYwMWY4MjAxNjAxZjE5OTA4MTE2NjAzZjAxMTY4MTAxNjAwMTYwMDE2MDQwMWIwMzgxMTE4MjgyMTAxNzE1NjEwNGVkNTc2MTA0ZWQ2MTA0NWI1NjViNjA0MDUyODE4MTUyODM4MjAxNjAyMDAxODUxMDE1NjEwNTA1NTc2MDAwODBmZDViNjEwNTE2ODI2MDIwODMwMTYwMjA4NzAxNjEwNDcxNTY1Yjk0OTM1MDUwNTA1MDU2NWI2MDAwODA2MDAwNjA2MDg0ODYwMzEyMTU2MTA1MzM1NzYwMDA4MGZkNWI4MzUxNjEwNTNlODE2MTA0NDM1NjViNjAyMDg1MDE1MTYwNDA4NjAxNTE5MTk0NTA5MjUwNjAwMTYwMDE2MDQwMWIwMzgxMTExNTYxMDU2MTU3NjAwMDgwZmQ1YjYxMDU2ZDg2ODI4NzAxNjEwNDk1NTY1YjkxNTA1MDkyNTA5MjUwOTI1NjViNjAwMDgwNjAwMDYwNjA4NDg2MDMxMjE1NjEwNThjNTc2MDAwODBmZDViODM1MTYxMDU5NzgxNjEwNDQzNTY1YjYwMjA4NTAxNTE5MDkzNTA2MDAxNjAwMTYwNDAxYjAzODExMTE1NjEwNWIzNTc2MDAwODBmZDViNjEwNWJmODY4Mjg3MDE2MTA0OTU1NjViNjA0MDg2MDE1MTkwOTM1MDkwNTA2MDAxNjAwMTYwNDAxYjAzODExMTE1NjEwNTYxNTc2MDAwODBmZDViNjAwMDgyNTE2MTA1ZWY4MTg0NjAyMDg3MDE2MTA0NzE1NjViOTE5MDkxMDE5MjkxNTA1MDU2NWI4MjgxNTI2MDQwNjAyMDgyMDE1MjYwMDA4MjUxODA2MDQwODQwMTUyNjEwNjFlODE2MDYwODUwMTYwMjA4NzAxNjEwNDcxNTY1YjYwMWYwMTYwMWYxOTE2OTE5MDkxMDE2MDYwMDE5MzkyNTA1MDUwNTY1YjYwMDA2MDIwODI4NDAzMTIxNTYxMDY0NTU3NjAwMDgwZmQ1YjgxNTE2MDAxNjAwMTYwZTAxYjAzMTk4MTE2ODExNDYxMDQwNTU3NjAwMDgwZmQ1YjYzNGU0ODdiNzE2MGUwMWI2MDAwNTI2MDMyNjAwNDUyNjAyNDYwMDBmZGZlNTM2OTY3NmU2MTc0NzU3MjY1NTY2MTZjNjk2NDYxNzQ2ZjcyMjM3MjY1NjM2Zjc2NjU3MjUzNjk2NzZlNjU3Mic7XG4vKipcbiAqIEFCSSBmb3IgdGhlIEVSQy02NDkyIHVuaXZlcnNhbCBkZXBsb3lsZXNzIHNpZ25hdHVyZSB2YWxpZGF0b3IgY29udHJhY3QuXG4gKlxuICogQ29uc3RydWN0b3IgcmV0dXJuIHZhbHVlIGlzIGAweDFgICh2YWxpZCkgb3IgYDB4MGAgKGludmFsaWQpLlxuICovXG5leHBvcnQgY29uc3QgdW5pdmVyc2FsU2lnbmF0dXJlVmFsaWRhdG9yQWJpID0gW1xuICAgIHtcbiAgICAgICAgaW5wdXRzOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ19zaWduZXInLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdhZGRyZXNzJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbmFtZTogJ19oYXNoJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnYnl0ZXMzMicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdfc2lnbmF0dXJlJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnYnl0ZXMnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSxcbiAgICAgICAgc3RhdGVNdXRhYmlsaXR5OiAnbm9ucGF5YWJsZScsXG4gICAgICAgIHR5cGU6ICdjb25zdHJ1Y3RvcicsXG4gICAgfSxcbiAgICB7XG4gICAgICAgIGlucHV0czogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdfc2lnbmVyJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnYWRkcmVzcycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG5hbWU6ICdfaGFzaCcsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2J5dGVzMzInLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBuYW1lOiAnX3NpZ25hdHVyZScsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2J5dGVzJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0sXG4gICAgICAgIG91dHB1dHM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0eXBlOiAnYm9vbCcsXG4gICAgICAgICAgICB9LFxuICAgICAgICBdLFxuICAgICAgICBzdGF0ZU11dGFiaWxpdHk6ICdub25wYXlhYmxlJyxcbiAgICAgICAgdHlwZTogJ2Z1bmN0aW9uJyxcbiAgICAgICAgbmFtZTogJ2lzVmFsaWRTaWcnLFxuICAgIH0sXG5dO1xuLyoqXG4gKiBBc3NlcnRzIHRoYXQgdGhlIHdyYXBwZWQgc2lnbmF0dXJlIGlzIHZhbGlkLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0cyB0d29zbGFzaFxuICogaW1wb3J0IHsgU2lnbmF0dXJlRXJjNjQ5MiB9IGZyb20gJ294L2VyYzY0OTInXG4gKlxuICogU2lnbmF0dXJlRXJjNjQ5Mi5hc3NlcnQoJzB4ZGVhZGJlZWYnKVxuICogLy8gQGVycm9yOiBJbnZhbGlkV3JhcHBlZFNpZ25hdHVyZUVycm9yOiBWYWx1ZSBgMHhkZWFkYmVlZmAgaXMgYW4gaW52YWxpZCBFUkMtNjQ5MiB3cmFwcGVkIHNpZ25hdHVyZS5cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB3cmFwcGVkIC0gVGhlIHdyYXBwZWQgc2lnbmF0dXJlIHRvIGFzc2VydC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydCh3cmFwcGVkKSB7XG4gICAgaWYgKEhleC5zbGljZSh3cmFwcGVkLCAtMzIpICE9PSBtYWdpY0J5dGVzKVxuICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFdyYXBwZWRTaWduYXR1cmVFcnJvcih3cmFwcGVkKTtcbn1cbi8qKlxuICogUGFyc2VzIGFuIFtFUkMtNjQ5MiB3cmFwcGVkIHNpZ25hdHVyZV0oaHR0cHM6Ly9laXBzLmV0aGVyZXVtLm9yZy9FSVBTL2VpcC02NDkyI3NwZWNpZmljYXRpb24pIGludG8gaXRzIGNvbnN0aXR1ZW50IHBhcnRzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0cyB0d29zbGFzaFxuICogLy8gQG5vRXJyb3JzXG4gKiBpbXBvcnQgeyBTZWNwMjU2azEgfSBmcm9tICdveCdcbiAqIGltcG9ydCB7IFNpZ25hdHVyZUVyYzY0OTIgfSBmcm9tICdveC9lcmM2NDkyJyAvLyBbIWNvZGUgZm9jdXNdXG4gKlxuICogY29uc3Qgc2lnbmF0dXJlID0gU2VjcDI1NmsxLnNpZ24oe1xuICogICBwYXlsb2FkOiAnMHguLi4nLFxuICogICBwcml2YXRlS2V5OiAnMHguLi4nLFxuICogfSlcbiAqXG4gKiAvLyBJbnN0YW50aWF0ZSBmcm9tIHNlcmlhbGl6ZWQgZm9ybWF0LiAvLyBbIWNvZGUgZm9jdXNdXG4gKiBjb25zdCB3cmFwcGVkID0gU2lnbmF0dXJlRXJjNjQ5Mi5mcm9tKCcweC4uLicpIC8vIFshY29kZSBmb2N1c11cbiAqIC8vIEBsb2c6IHsgZGF0YTogJzB4Li4uJywgc2lnbmF0dXJlOiB7IC4uLiB9LCB0bzogJzB4Li4uJywgfSAvLyBbIWNvZGUgZm9jdXNdXG4gKlxuICogLy8gSW5zdGFudGlhdGUgZnJvbSBjb25zdGl0dWVudCBwYXJ0cy4gLy8gWyFjb2RlIGZvY3VzXVxuICogY29uc3Qgd3JhcHBlZCA9IFNpZ25hdHVyZUVyYzY0OTIuZnJvbSh7IC8vIFshY29kZSBmb2N1c11cbiAqICAgZGF0YTogJzB4Li4uJywgLy8gWyFjb2RlIGZvY3VzXVxuICogICBzaWduYXR1cmUsIC8vIFshY29kZSBmb2N1c11cbiAqICAgdG86ICcweC4uLicsIC8vIFshY29kZSBmb2N1c11cbiAqIH0pXG4gKiAvLyBAbG9nOiB7IGRhdGE6ICcweC4uLicsIHNpZ25hdHVyZTogeyAuLi4gfSwgdG86ICcweC4uLicsIH1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB3cmFwcGVkIC0gV3JhcHBlZCBzaWduYXR1cmUgdG8gcGFyc2UuXG4gKiBAcmV0dXJucyBXcmFwcGVkIHNpZ25hdHVyZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb20od3JhcHBlZCkge1xuICAgIGlmICh0eXBlb2Ygd3JhcHBlZCA9PT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiB1bndyYXAod3JhcHBlZCk7XG4gICAgcmV0dXJuIHdyYXBwZWQ7XG59XG4vKipcbiAqIFBhcnNlcyBhbiBbRVJDLTY0OTIgd3JhcHBlZCBzaWduYXR1cmVdKGh0dHBzOi8vZWlwcy5ldGhlcmV1bS5vcmcvRUlQUy9laXAtNjQ5MiNzcGVjaWZpY2F0aW9uKSBpbnRvIGl0cyBjb25zdGl0dWVudCBwYXJ0cy5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHMgdHdvc2xhc2hcbiAqIGltcG9ydCB7IFNpZ25hdHVyZUVyYzY0OTIgfSBmcm9tICdveC9lcmM2NDkyJ1xuICpcbiAqIGNvbnN0IHsgZGF0YSwgc2lnbmF0dXJlLCB0byB9ID0gU2lnbmF0dXJlRXJjNjQ5Mi51bndyYXAoJzB4Li4uJylcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB3cmFwcGVkIC0gV3JhcHBlZCBzaWduYXR1cmUgdG8gcGFyc2UuXG4gKiBAcmV0dXJucyBXcmFwcGVkIHNpZ25hdHVyZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVud3JhcCh3cmFwcGVkKSB7XG4gICAgYXNzZXJ0KHdyYXBwZWQpO1xuICAgIGNvbnN0IFt0bywgZGF0YSwgc2lnbmF0dXJlXSA9IEFiaVBhcmFtZXRlcnMuZGVjb2RlKEFiaVBhcmFtZXRlcnMuZnJvbSgnYWRkcmVzcywgYnl0ZXMsIGJ5dGVzJyksIHdyYXBwZWQpO1xuICAgIHJldHVybiB7IGRhdGEsIHNpZ25hdHVyZSwgdG8gfTtcbn1cbi8qKlxuICogU2VyaWFsaXplcyBhbiBbRVJDLTY0OTIgd3JhcHBlZCBzaWduYXR1cmVdKGh0dHBzOi8vZWlwcy5ldGhlcmV1bS5vcmcvRUlQUy9laXAtNjQ5MiNzcGVjaWZpY2F0aW9uKS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHMgdHdvc2xhc2hcbiAqIGltcG9ydCB7IFNlY3AyNTZrMSwgU2lnbmF0dXJlIH0gZnJvbSAnb3gnXG4gKiBpbXBvcnQgeyBTaWduYXR1cmVFcmM2NDkyIH0gZnJvbSAnb3gvZXJjNjQ5MicgLy8gWyFjb2RlIGZvY3VzXVxuICpcbiAqIGNvbnN0IHNpZ25hdHVyZSA9IFNlY3AyNTZrMS5zaWduKHtcbiAqICAgcGF5bG9hZDogJzB4Li4uJyxcbiAqICAgcHJpdmF0ZUtleTogJzB4Li4uJyxcbiAqIH0pXG4gKlxuICogY29uc3Qgd3JhcHBlZCA9IFNpZ25hdHVyZUVyYzY0OTIud3JhcCh7IC8vIFshY29kZSBmb2N1c11cbiAqICAgZGF0YTogJzB4ZGVhZGJlZWYnLCAvLyBbIWNvZGUgZm9jdXNdXG4gKiAgIHNpZ25hdHVyZTogU2lnbmF0dXJlLnRvSGV4KHNpZ25hdHVyZSksIC8vIFshY29kZSBmb2N1c11cbiAqICAgdG86ICcweDAwMDAwMDAwMjE5YWI1NDAzNTZjQkI4MzlDYmUwNTMwM2Q3NzA1RmEnLCAvLyBbIWNvZGUgZm9jdXNdXG4gKiB9KSAvLyBbIWNvZGUgZm9jdXNdXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSBXcmFwcGVkIHNpZ25hdHVyZSB0byBzZXJpYWxpemUuXG4gKiBAcmV0dXJucyBTZXJpYWxpemVkIHdyYXBwZWQgc2lnbmF0dXJlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JhcCh2YWx1ZSkge1xuICAgIGNvbnN0IHsgZGF0YSwgc2lnbmF0dXJlLCB0byB9ID0gdmFsdWU7XG4gICAgcmV0dXJuIEhleC5jb25jYXQoQWJpUGFyYW1ldGVycy5lbmNvZGUoQWJpUGFyYW1ldGVycy5mcm9tKCdhZGRyZXNzLCBieXRlcywgYnl0ZXMnKSwgW1xuICAgICAgICB0byxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgc2lnbmF0dXJlLFxuICAgIF0pLCBtYWdpY0J5dGVzKTtcbn1cbi8qKlxuICogVmFsaWRhdGVzIGEgd3JhcHBlZCBzaWduYXR1cmUuIFJldHVybnMgYHRydWVgIGlmIHRoZSB3cmFwcGVkIHNpZ25hdHVyZSBpcyB2YWxpZCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBTaWduYXR1cmVFcmM2NDkyIH0gZnJvbSAnb3gvZXJjNjQ5MidcbiAqXG4gKiBjb25zdCB2YWxpZCA9IFNpZ25hdHVyZUVyYzY0OTIudmFsaWRhdGUoJzB4ZGVhZGJlZWYnKVxuICogLy8gQGxvZzogZmFsc2VcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB3cmFwcGVkIC0gVGhlIHdyYXBwZWQgc2lnbmF0dXJlIHRvIHZhbGlkYXRlLlxuICogQHJldHVybnMgYHRydWVgIGlmIHRoZSB3cmFwcGVkIHNpZ25hdHVyZSBpcyB2YWxpZCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB2YWxpZGF0ZSh3cmFwcGVkKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgYXNzZXJ0KHdyYXBwZWQpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuLyoqIFRocm93biB3aGVuIHRoZSBFUkMtNjQ5MiB3cmFwcGVkIHNpZ25hdHVyZSBpcyBpbnZhbGlkLiAqL1xuZXhwb3J0IGNsYXNzIEludmFsaWRXcmFwcGVkU2lnbmF0dXJlRXJyb3IgZXh0ZW5kcyBFcnJvcnMuQmFzZUVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcih3cmFwcGVkKSB7XG4gICAgICAgIHN1cGVyKGBWYWx1ZSBcXGAke3dyYXBwZWR9XFxgIGlzIGFuIGludmFsaWQgRVJDLTY0OTIgd3JhcHBlZCBzaWduYXR1cmUuYCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6ICdTaWduYXR1cmVFcmM2NDkyLkludmFsaWRXcmFwcGVkU2lnbmF0dXJlRXJyb3InXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNpZ25hdHVyZUVyYzY0OTIuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/ox/_esm/erc6492/SignatureErc6492.js\n\n}");

/***/ },

/***/ "./node_modules/ox/_esm/erc8010/SignatureErc8010.js"
/*!**********************************************************!*\
  !*** ./node_modules/ox/_esm/erc8010/SignatureErc8010.js ***!
  \**********************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   InvalidWrappedSignatureError: () => (/* binding */ InvalidWrappedSignatureError),\n/* harmony export */   assert: () => (/* binding */ assert),\n/* harmony export */   from: () => (/* binding */ from),\n/* harmony export */   magicBytes: () => (/* binding */ magicBytes),\n/* harmony export */   suffixParameters: () => (/* binding */ suffixParameters),\n/* harmony export */   unwrap: () => (/* binding */ unwrap),\n/* harmony export */   validate: () => (/* binding */ validate),\n/* harmony export */   wrap: () => (/* binding */ wrap)\n/* harmony export */ });\n/* harmony import */ var _core_AbiParameters_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/AbiParameters.js */ \"./node_modules/ox/_esm/core/AbiParameters.js\");\n/* harmony import */ var _core_Authorization_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Authorization.js */ \"./node_modules/ox/_esm/core/Authorization.js\");\n/* harmony import */ var _core_Errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/Errors.js */ \"./node_modules/ox/_esm/core/Errors.js\");\n/* harmony import */ var _core_Hex_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Hex.js */ \"./node_modules/ox/_esm/core/Hex.js\");\n/* harmony import */ var _core_Secp256k1_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/Secp256k1.js */ \"./node_modules/ox/_esm/core/Secp256k1.js\");\n/* harmony import */ var _core_Signature_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/Signature.js */ \"./node_modules/ox/_esm/core/Signature.js\");\n\n\n\n\n\n\n/**\n * Magic bytes used to identify ERC-8010 wrapped signatures.\n */\nconst magicBytes = '0x8010801080108010801080108010801080108010801080108010801080108010';\n/** Suffix ABI parameters for the ERC-8010 wrapped signature. */\nconst suffixParameters = _core_AbiParameters_js__WEBPACK_IMPORTED_MODULE_0__.from('(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data');\n/**\n * Asserts that the wrapped signature is valid.\n *\n * @example\n * ```ts twoslash\n * import { SignatureErc8010 } from 'ox/erc8010'\n *\n * SignatureErc8010.assert('0xdeadbeef')\n * // @error: InvalidWrappedSignatureError: Value `0xdeadbeef` is an invalid ERC-8010 wrapped signature.\n * ```\n *\n * @param value - The value to assert.\n */\nfunction assert(value) {\n    if (typeof value === 'string') {\n        if (_core_Hex_js__WEBPACK_IMPORTED_MODULE_3__.slice(value, -32) !== magicBytes)\n            throw new InvalidWrappedSignatureError(value);\n    }\n    else\n        _core_Signature_js__WEBPACK_IMPORTED_MODULE_5__.assert(value.authorization);\n}\n/**\n * Parses an [ERC-8010 wrapped signature](https://github.com/jxom/ERCs/blob/16f7e3891fff2e1e9c25dea0485497739db8a816/ERCS/erc-8010.md) into its constituent parts.\n *\n * @example\n * ```ts twoslash\n * // @noErrors\n * import { Secp256k1 } from 'ox'\n * import { SignatureErc8010 } from 'ox/erc8010' // [!code focus]\n *\n * const signature = Secp256k1.sign({\n *   payload: '0x...',\n *   privateKey: '0x...',\n * })\n *\n * // Instantiate from serialized format. // [!code focus]\n * const wrapped = SignatureErc8010.from('0x...') // [!code focus]\n * // @log: { authorization: { ... }, data: '0x...', signature: { ... } } // [!code focus]\n *\n * // Instantiate from constituent parts. // [!code focus]\n * const wrapped = SignatureErc8010.from({ // [!code focus]\n *   authorization: { ... }, // [!code focus]\n *   data: '0x...', // [!code focus]\n *   signature, // [!code focus]\n * })\n * // @log: { authorization: { ... }, data: '0x...', signature: { ... } }\n * ```\n *\n * @param value - Value to parse.\n * @returns Parsed value.\n */\nfunction from(value) {\n    if (typeof value === 'string')\n        return unwrap(value);\n    return value;\n}\n/**\n * Unwraps an [ERC-8010 wrapped signature](https://github.com/jxom/ERCs/blob/16f7e3891fff2e1e9c25dea0485497739db8a816/ERCS/erc-8010.md) into its constituent parts.\n *\n * @example\n * ```ts twoslash\n * import { SignatureErc8010 } from 'ox/erc8010'\n *\n * const { authorization, data, signature } = SignatureErc8010.unwrap('0x...')\n * ```\n *\n * @param wrapped - Wrapped signature to unwrap.\n * @returns Unwrapped signature.\n */\nfunction unwrap(wrapped) {\n    assert(wrapped);\n    const suffixLength = _core_Hex_js__WEBPACK_IMPORTED_MODULE_3__.toNumber(_core_Hex_js__WEBPACK_IMPORTED_MODULE_3__.slice(wrapped, -64, -32));\n    const suffix = _core_Hex_js__WEBPACK_IMPORTED_MODULE_3__.slice(wrapped, -suffixLength - 64, -64);\n    const signature = _core_Hex_js__WEBPACK_IMPORTED_MODULE_3__.slice(wrapped, 0, -suffixLength - 64);\n    const [auth, to, data] = _core_AbiParameters_js__WEBPACK_IMPORTED_MODULE_0__.decode(suffixParameters, suffix);\n    const authorization = _core_Authorization_js__WEBPACK_IMPORTED_MODULE_1__.from({\n        address: auth.delegation,\n        chainId: Number(auth.chainId),\n        nonce: auth.nonce,\n        yParity: auth.yParity,\n        r: auth.r,\n        s: auth.s,\n    });\n    return {\n        authorization,\n        signature,\n        ...(data && data !== '0x' ? { data, to } : {}),\n    };\n}\n/**\n * Wraps a signature into [ERC-8010 format](https://github.com/jxom/ERCs/blob/16f7e3891fff2e1e9c25dea0485497739db8a816/ERCS/erc-8010.md).\n *\n * @example\n * ```ts twoslash\n * // @noErrors\n * import { Secp256k1, Signature } from 'ox'\n * import { SignatureErc8010 } from 'ox/erc8010' // [!code focus]\n *\n * const signature = Secp256k1.sign({\n *   payload: '0x...',\n *   privateKey: '0x...',\n * })\n *\n * const wrapped = SignatureErc8010.wrap({ // [!code focus]\n *   authorization: { ... }, // [!code focus]\n *   data: '0xdeadbeef', // [!code focus]\n *   signature: Signature.toHex(signature), // [!code focus]\n * }) // [!code focus]\n * ```\n *\n * @param value - Values to wrap.\n * @returns Wrapped signature.\n */\nfunction wrap(value) {\n    const { data, signature } = value;\n    assert(value);\n    const self = _core_Secp256k1_js__WEBPACK_IMPORTED_MODULE_4__.recoverAddress({\n        payload: _core_Authorization_js__WEBPACK_IMPORTED_MODULE_1__.getSignPayload(value.authorization),\n        signature: _core_Signature_js__WEBPACK_IMPORTED_MODULE_5__.from(value.authorization),\n    });\n    const suffix = _core_AbiParameters_js__WEBPACK_IMPORTED_MODULE_0__.encode(suffixParameters, [\n        {\n            ...value.authorization,\n            delegation: value.authorization.address,\n            chainId: BigInt(value.authorization.chainId),\n        },\n        value.to ?? self,\n        data ?? '0x',\n    ]);\n    const suffixLength = _core_Hex_js__WEBPACK_IMPORTED_MODULE_3__.fromNumber(_core_Hex_js__WEBPACK_IMPORTED_MODULE_3__.size(suffix), { size: 32 });\n    return _core_Hex_js__WEBPACK_IMPORTED_MODULE_3__.concat(signature, suffix, suffixLength, magicBytes);\n}\n/**\n * Validates a wrapped signature. Returns `true` if the wrapped signature is valid, `false` otherwise.\n *\n * @example\n * ```ts twoslash\n * import { SignatureErc8010 } from 'ox/erc8010'\n *\n * const valid = SignatureErc8010.validate('0xdeadbeef')\n * // @log: false\n * ```\n *\n * @param value - The value to validate.\n * @returns `true` if the value is valid, `false` otherwise.\n */\nfunction validate(value) {\n    try {\n        assert(value);\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\n/** Thrown when the ERC-8010 wrapped signature is invalid. */\nclass InvalidWrappedSignatureError extends _core_Errors_js__WEBPACK_IMPORTED_MODULE_2__.BaseError {\n    constructor(wrapped) {\n        super(`Value \\`${wrapped}\\` is an invalid ERC-8010 wrapped signature.`);\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'SignatureErc8010.InvalidWrappedSignatureError'\n        });\n    }\n}\n//# sourceMappingURL=SignatureErc8010.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvb3gvX2VzbS9lcmM4MDEwL1NpZ25hdHVyZUVyYzgwMTAuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb3gvX2VzbS9lcmM4MDEwL1NpZ25hdHVyZUVyYzgwMTAuanM/Y2UxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBBYmlQYXJhbWV0ZXJzIGZyb20gJy4uL2NvcmUvQWJpUGFyYW1ldGVycy5qcyc7XG5pbXBvcnQgKiBhcyBBdXRob3JpemF0aW9uIGZyb20gJy4uL2NvcmUvQXV0aG9yaXphdGlvbi5qcyc7XG5pbXBvcnQgKiBhcyBFcnJvcnMgZnJvbSAnLi4vY29yZS9FcnJvcnMuanMnO1xuaW1wb3J0ICogYXMgSGV4IGZyb20gJy4uL2NvcmUvSGV4LmpzJztcbmltcG9ydCAqIGFzIFNlY3AyNTZrMSBmcm9tICcuLi9jb3JlL1NlY3AyNTZrMS5qcyc7XG5pbXBvcnQgKiBhcyBTaWduYXR1cmUgZnJvbSAnLi4vY29yZS9TaWduYXR1cmUuanMnO1xuLyoqXG4gKiBNYWdpYyBieXRlcyB1c2VkIHRvIGlkZW50aWZ5IEVSQy04MDEwIHdyYXBwZWQgc2lnbmF0dXJlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IG1hZ2ljQnl0ZXMgPSAnMHg4MDEwODAxMDgwMTA4MDEwODAxMDgwMTA4MDEwODAxMDgwMTA4MDEwODAxMDgwMTA4MDEwODAxMDgwMTA4MDEwJztcbi8qKiBTdWZmaXggQUJJIHBhcmFtZXRlcnMgZm9yIHRoZSBFUkMtODAxMCB3cmFwcGVkIHNpZ25hdHVyZS4gKi9cbmV4cG9ydCBjb25zdCBzdWZmaXhQYXJhbWV0ZXJzID0gQWJpUGFyYW1ldGVycy5mcm9tKCcodWludDI1NiBjaGFpbklkLCBhZGRyZXNzIGRlbGVnYXRpb24sIHVpbnQyNTYgbm9uY2UsIHVpbnQ4IHlQYXJpdHksIHVpbnQyNTYgciwgdWludDI1NiBzKSwgYWRkcmVzcyB0bywgYnl0ZXMgZGF0YScpO1xuLyoqXG4gKiBBc3NlcnRzIHRoYXQgdGhlIHdyYXBwZWQgc2lnbmF0dXJlIGlzIHZhbGlkLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0cyB0d29zbGFzaFxuICogaW1wb3J0IHsgU2lnbmF0dXJlRXJjODAxMCB9IGZyb20gJ294L2VyYzgwMTAnXG4gKlxuICogU2lnbmF0dXJlRXJjODAxMC5hc3NlcnQoJzB4ZGVhZGJlZWYnKVxuICogLy8gQGVycm9yOiBJbnZhbGlkV3JhcHBlZFNpZ25hdHVyZUVycm9yOiBWYWx1ZSBgMHhkZWFkYmVlZmAgaXMgYW4gaW52YWxpZCBFUkMtODAxMCB3cmFwcGVkIHNpZ25hdHVyZS5cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBhc3NlcnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnQodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoSGV4LnNsaWNlKHZhbHVlLCAtMzIpICE9PSBtYWdpY0J5dGVzKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRXcmFwcGVkU2lnbmF0dXJlRXJyb3IodmFsdWUpO1xuICAgIH1cbiAgICBlbHNlXG4gICAgICAgIFNpZ25hdHVyZS5hc3NlcnQodmFsdWUuYXV0aG9yaXphdGlvbik7XG59XG4vKipcbiAqIFBhcnNlcyBhbiBbRVJDLTgwMTAgd3JhcHBlZCBzaWduYXR1cmVdKGh0dHBzOi8vZ2l0aHViLmNvbS9qeG9tL0VSQ3MvYmxvYi8xNmY3ZTM4OTFmZmYyZTFlOWMyNWRlYTA0ODU0OTc3MzlkYjhhODE2L0VSQ1MvZXJjLTgwMTAubWQpIGludG8gaXRzIGNvbnN0aXR1ZW50IHBhcnRzLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0cyB0d29zbGFzaFxuICogLy8gQG5vRXJyb3JzXG4gKiBpbXBvcnQgeyBTZWNwMjU2azEgfSBmcm9tICdveCdcbiAqIGltcG9ydCB7IFNpZ25hdHVyZUVyYzgwMTAgfSBmcm9tICdveC9lcmM4MDEwJyAvLyBbIWNvZGUgZm9jdXNdXG4gKlxuICogY29uc3Qgc2lnbmF0dXJlID0gU2VjcDI1NmsxLnNpZ24oe1xuICogICBwYXlsb2FkOiAnMHguLi4nLFxuICogICBwcml2YXRlS2V5OiAnMHguLi4nLFxuICogfSlcbiAqXG4gKiAvLyBJbnN0YW50aWF0ZSBmcm9tIHNlcmlhbGl6ZWQgZm9ybWF0LiAvLyBbIWNvZGUgZm9jdXNdXG4gKiBjb25zdCB3cmFwcGVkID0gU2lnbmF0dXJlRXJjODAxMC5mcm9tKCcweC4uLicpIC8vIFshY29kZSBmb2N1c11cbiAqIC8vIEBsb2c6IHsgYXV0aG9yaXphdGlvbjogeyAuLi4gfSwgZGF0YTogJzB4Li4uJywgc2lnbmF0dXJlOiB7IC4uLiB9IH0gLy8gWyFjb2RlIGZvY3VzXVxuICpcbiAqIC8vIEluc3RhbnRpYXRlIGZyb20gY29uc3RpdHVlbnQgcGFydHMuIC8vIFshY29kZSBmb2N1c11cbiAqIGNvbnN0IHdyYXBwZWQgPSBTaWduYXR1cmVFcmM4MDEwLmZyb20oeyAvLyBbIWNvZGUgZm9jdXNdXG4gKiAgIGF1dGhvcml6YXRpb246IHsgLi4uIH0sIC8vIFshY29kZSBmb2N1c11cbiAqICAgZGF0YTogJzB4Li4uJywgLy8gWyFjb2RlIGZvY3VzXVxuICogICBzaWduYXR1cmUsIC8vIFshY29kZSBmb2N1c11cbiAqIH0pXG4gKiAvLyBAbG9nOiB7IGF1dGhvcml6YXRpb246IHsgLi4uIH0sIGRhdGE6ICcweC4uLicsIHNpZ25hdHVyZTogeyAuLi4gfSB9XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSBWYWx1ZSB0byBwYXJzZS5cbiAqIEByZXR1cm5zIFBhcnNlZCB2YWx1ZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb20odmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJylcbiAgICAgICAgcmV0dXJuIHVud3JhcCh2YWx1ZSk7XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuLyoqXG4gKiBVbndyYXBzIGFuIFtFUkMtODAxMCB3cmFwcGVkIHNpZ25hdHVyZV0oaHR0cHM6Ly9naXRodWIuY29tL2p4b20vRVJDcy9ibG9iLzE2ZjdlMzg5MWZmZjJlMWU5YzI1ZGVhMDQ4NTQ5NzczOWRiOGE4MTYvRVJDUy9lcmMtODAxMC5tZCkgaW50byBpdHMgY29uc3RpdHVlbnQgcGFydHMuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBTaWduYXR1cmVFcmM4MDEwIH0gZnJvbSAnb3gvZXJjODAxMCdcbiAqXG4gKiBjb25zdCB7IGF1dGhvcml6YXRpb24sIGRhdGEsIHNpZ25hdHVyZSB9ID0gU2lnbmF0dXJlRXJjODAxMC51bndyYXAoJzB4Li4uJylcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB3cmFwcGVkIC0gV3JhcHBlZCBzaWduYXR1cmUgdG8gdW53cmFwLlxuICogQHJldHVybnMgVW53cmFwcGVkIHNpZ25hdHVyZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVud3JhcCh3cmFwcGVkKSB7XG4gICAgYXNzZXJ0KHdyYXBwZWQpO1xuICAgIGNvbnN0IHN1ZmZpeExlbmd0aCA9IEhleC50b051bWJlcihIZXguc2xpY2Uod3JhcHBlZCwgLTY0LCAtMzIpKTtcbiAgICBjb25zdCBzdWZmaXggPSBIZXguc2xpY2Uod3JhcHBlZCwgLXN1ZmZpeExlbmd0aCAtIDY0LCAtNjQpO1xuICAgIGNvbnN0IHNpZ25hdHVyZSA9IEhleC5zbGljZSh3cmFwcGVkLCAwLCAtc3VmZml4TGVuZ3RoIC0gNjQpO1xuICAgIGNvbnN0IFthdXRoLCB0bywgZGF0YV0gPSBBYmlQYXJhbWV0ZXJzLmRlY29kZShzdWZmaXhQYXJhbWV0ZXJzLCBzdWZmaXgpO1xuICAgIGNvbnN0IGF1dGhvcml6YXRpb24gPSBBdXRob3JpemF0aW9uLmZyb20oe1xuICAgICAgICBhZGRyZXNzOiBhdXRoLmRlbGVnYXRpb24sXG4gICAgICAgIGNoYWluSWQ6IE51bWJlcihhdXRoLmNoYWluSWQpLFxuICAgICAgICBub25jZTogYXV0aC5ub25jZSxcbiAgICAgICAgeVBhcml0eTogYXV0aC55UGFyaXR5LFxuICAgICAgICByOiBhdXRoLnIsXG4gICAgICAgIHM6IGF1dGgucyxcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICBhdXRob3JpemF0aW9uLFxuICAgICAgICBzaWduYXR1cmUsXG4gICAgICAgIC4uLihkYXRhICYmIGRhdGEgIT09ICcweCcgPyB7IGRhdGEsIHRvIH0gOiB7fSksXG4gICAgfTtcbn1cbi8qKlxuICogV3JhcHMgYSBzaWduYXR1cmUgaW50byBbRVJDLTgwMTAgZm9ybWF0XShodHRwczovL2dpdGh1Yi5jb20vanhvbS9FUkNzL2Jsb2IvMTZmN2UzODkxZmZmMmUxZTljMjVkZWEwNDg1NDk3NzM5ZGI4YTgxNi9FUkNTL2VyYy04MDEwLm1kKS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHMgdHdvc2xhc2hcbiAqIC8vIEBub0Vycm9yc1xuICogaW1wb3J0IHsgU2VjcDI1NmsxLCBTaWduYXR1cmUgfSBmcm9tICdveCdcbiAqIGltcG9ydCB7IFNpZ25hdHVyZUVyYzgwMTAgfSBmcm9tICdveC9lcmM4MDEwJyAvLyBbIWNvZGUgZm9jdXNdXG4gKlxuICogY29uc3Qgc2lnbmF0dXJlID0gU2VjcDI1NmsxLnNpZ24oe1xuICogICBwYXlsb2FkOiAnMHguLi4nLFxuICogICBwcml2YXRlS2V5OiAnMHguLi4nLFxuICogfSlcbiAqXG4gKiBjb25zdCB3cmFwcGVkID0gU2lnbmF0dXJlRXJjODAxMC53cmFwKHsgLy8gWyFjb2RlIGZvY3VzXVxuICogICBhdXRob3JpemF0aW9uOiB7IC4uLiB9LCAvLyBbIWNvZGUgZm9jdXNdXG4gKiAgIGRhdGE6ICcweGRlYWRiZWVmJywgLy8gWyFjb2RlIGZvY3VzXVxuICogICBzaWduYXR1cmU6IFNpZ25hdHVyZS50b0hleChzaWduYXR1cmUpLCAvLyBbIWNvZGUgZm9jdXNdXG4gKiB9KSAvLyBbIWNvZGUgZm9jdXNdXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdmFsdWUgLSBWYWx1ZXMgdG8gd3JhcC5cbiAqIEByZXR1cm5zIFdyYXBwZWQgc2lnbmF0dXJlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JhcCh2YWx1ZSkge1xuICAgIGNvbnN0IHsgZGF0YSwgc2lnbmF0dXJlIH0gPSB2YWx1ZTtcbiAgICBhc3NlcnQodmFsdWUpO1xuICAgIGNvbnN0IHNlbGYgPSBTZWNwMjU2azEucmVjb3ZlckFkZHJlc3Moe1xuICAgICAgICBwYXlsb2FkOiBBdXRob3JpemF0aW9uLmdldFNpZ25QYXlsb2FkKHZhbHVlLmF1dGhvcml6YXRpb24pLFxuICAgICAgICBzaWduYXR1cmU6IFNpZ25hdHVyZS5mcm9tKHZhbHVlLmF1dGhvcml6YXRpb24pLFxuICAgIH0pO1xuICAgIGNvbnN0IHN1ZmZpeCA9IEFiaVBhcmFtZXRlcnMuZW5jb2RlKHN1ZmZpeFBhcmFtZXRlcnMsIFtcbiAgICAgICAge1xuICAgICAgICAgICAgLi4udmFsdWUuYXV0aG9yaXphdGlvbixcbiAgICAgICAgICAgIGRlbGVnYXRpb246IHZhbHVlLmF1dGhvcml6YXRpb24uYWRkcmVzcyxcbiAgICAgICAgICAgIGNoYWluSWQ6IEJpZ0ludCh2YWx1ZS5hdXRob3JpemF0aW9uLmNoYWluSWQpLFxuICAgICAgICB9LFxuICAgICAgICB2YWx1ZS50byA/PyBzZWxmLFxuICAgICAgICBkYXRhID8/ICcweCcsXG4gICAgXSk7XG4gICAgY29uc3Qgc3VmZml4TGVuZ3RoID0gSGV4LmZyb21OdW1iZXIoSGV4LnNpemUoc3VmZml4KSwgeyBzaXplOiAzMiB9KTtcbiAgICByZXR1cm4gSGV4LmNvbmNhdChzaWduYXR1cmUsIHN1ZmZpeCwgc3VmZml4TGVuZ3RoLCBtYWdpY0J5dGVzKTtcbn1cbi8qKlxuICogVmFsaWRhdGVzIGEgd3JhcHBlZCBzaWduYXR1cmUuIFJldHVybnMgYHRydWVgIGlmIHRoZSB3cmFwcGVkIHNpZ25hdHVyZSBpcyB2YWxpZCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBTaWduYXR1cmVFcmM4MDEwIH0gZnJvbSAnb3gvZXJjODAxMCdcbiAqXG4gKiBjb25zdCB2YWxpZCA9IFNpZ25hdHVyZUVyYzgwMTAudmFsaWRhdGUoJzB4ZGVhZGJlZWYnKVxuICogLy8gQGxvZzogZmFsc2VcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byB2YWxpZGF0ZS5cbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWUgaXMgdmFsaWQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGUodmFsdWUpIHtcbiAgICB0cnkge1xuICAgICAgICBhc3NlcnQodmFsdWUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuLyoqIFRocm93biB3aGVuIHRoZSBFUkMtODAxMCB3cmFwcGVkIHNpZ25hdHVyZSBpcyBpbnZhbGlkLiAqL1xuZXhwb3J0IGNsYXNzIEludmFsaWRXcmFwcGVkU2lnbmF0dXJlRXJyb3IgZXh0ZW5kcyBFcnJvcnMuQmFzZUVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcih3cmFwcGVkKSB7XG4gICAgICAgIHN1cGVyKGBWYWx1ZSBcXGAke3dyYXBwZWR9XFxgIGlzIGFuIGludmFsaWQgRVJDLTgwMTAgd3JhcHBlZCBzaWduYXR1cmUuYCk7XG4gICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCBcIm5hbWVcIiwge1xuICAgICAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6ICdTaWduYXR1cmVFcmM4MDEwLkludmFsaWRXcmFwcGVkU2lnbmF0dXJlRXJyb3InXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVNpZ25hdHVyZUVyYzgwMTAuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/ox/_esm/erc8010/SignatureErc8010.js\n\n}");

/***/ },

/***/ "./node_modules/ox/_esm/tempo/AuthorizationTempo.js"
/*!**********************************************************!*\
  !*** ./node_modules/ox/_esm/tempo/AuthorizationTempo.js ***!
  \**********************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   from: () => (/* binding */ from),\n/* harmony export */   fromRpc: () => (/* binding */ fromRpc),\n/* harmony export */   fromRpcList: () => (/* binding */ fromRpcList),\n/* harmony export */   fromTuple: () => (/* binding */ fromTuple),\n/* harmony export */   fromTupleList: () => (/* binding */ fromTupleList),\n/* harmony export */   getSignPayload: () => (/* binding */ getSignPayload),\n/* harmony export */   hash: () => (/* binding */ hash),\n/* harmony export */   toRpc: () => (/* binding */ toRpc),\n/* harmony export */   toRpcList: () => (/* binding */ toRpcList),\n/* harmony export */   toTuple: () => (/* binding */ toTuple),\n/* harmony export */   toTupleList: () => (/* binding */ toTupleList)\n/* harmony export */ });\n/* harmony import */ var _core_Hash_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Hash.js */ \"./node_modules/ox/_esm/core/Hash.js\");\n/* harmony import */ var _core_Hex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Hex.js */ \"./node_modules/ox/_esm/core/Hex.js\");\n/* harmony import */ var _core_Rlp_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/Rlp.js */ \"./node_modules/ox/_esm/core/Rlp.js\");\n/* harmony import */ var _SignatureEnvelope_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SignatureEnvelope.js */ \"./node_modules/ox/_esm/tempo/SignatureEnvelope.js\");\n\n\n\n\n/**\n * Converts an EIP-7702 Authorization object into a typed {@link ox#AuthorizationTempo.AuthorizationTempo}.\n *\n * Tempo extends EIP-7702 to support secp256k1, P256, and WebAuthn signature types.\n *\n * [Tempo Authorization Specification](https://docs.tempo.xyz/protocol/transactions/spec-tempo-transaction#tempo-authorization-list)\n *\n * @example\n * An Authorization can be instantiated from an EIP-7702 Authorization tuple in object format.\n *\n * ```ts twoslash\n * import { AuthorizationTempo } from 'ox/tempo'\n *\n * const authorization = AuthorizationTempo.from({\n *   address: '0x1234567890abcdef1234567890abcdef12345678',\n *   chainId: 1,\n *   nonce: 69n,\n * })\n * ```\n *\n * @example\n * ### Attaching Signatures (Secp256k1)\n *\n * Standard Ethereum ECDSA signature using the secp256k1 curve.\n *\n * ```ts twoslash\n * import { Secp256k1 } from 'ox'\n * import { AuthorizationTempo } from 'ox/tempo'\n *\n * const privateKey = Secp256k1.randomPrivateKey()\n *\n * const authorization = AuthorizationTempo.from({\n *   address: '0xbe95c3f554e9fc85ec51be69a3d807a0d55bcf2c',\n *   chainId: 1,\n *   nonce: 40n,\n * })\n *\n * const signature = Secp256k1.sign({\n *   payload: AuthorizationTempo.getSignPayload(authorization),\n *   privateKey,\n * })\n *\n * const authorization_signed = AuthorizationTempo.from(\n *   authorization,\n *   { signature }, // [!code focus]\n * )\n * ```\n *\n * @example\n * ### Attaching Signatures (P256)\n *\n * ECDSA signature using the P-256 (secp256r1) curve. Requires embedding the\n * public key and a `prehash` flag indicating whether the payload was hashed\n * before signing.\n *\n * ```ts twoslash\n * import { P256 } from 'ox'\n * import { AuthorizationTempo, SignatureEnvelope } from 'ox/tempo'\n *\n * const { privateKey, publicKey } = P256.createKeyPair()\n *\n * const authorization = AuthorizationTempo.from({\n *   address: '0xbe95c3f554e9fc85ec51be69a3d807a0d55bcf2c',\n *   chainId: 1,\n *   nonce: 40n,\n * })\n *\n * const signature = P256.sign({\n *   payload: AuthorizationTempo.getSignPayload(authorization),\n *   privateKey,\n * })\n * const signatureEnvelope = SignatureEnvelope.from({\n *   signature,\n *   publicKey,\n *   prehash: false,\n * })\n *\n * const authorization_signed = AuthorizationTempo.from(\n *   authorization,\n *   { signature: signatureEnvelope }, // [!code focus]\n * )\n * ```\n *\n * @example\n * ### Attaching Signatures (P256 WebCrypto)\n *\n * When using WebCrypto keys, `prehash` must be `true` since WebCrypto always\n * hashes the payload internally before signing.\n *\n * ```ts twoslash\n * // @noErrors\n * import { WebCryptoP256 } from 'ox'\n * import { AuthorizationTempo, SignatureEnvelope } from 'ox/tempo'\n *\n * const { privateKey, publicKey } = await WebCryptoP256.createKeyPair()\n *\n * const authorization = AuthorizationTempo.from({\n *   address: '0xbe95c3f554e9fc85ec51be69a3d807a0d55bcf2c',\n *   chainId: 1,\n *   nonce: 40n,\n * })\n *\n * const signature = await WebCryptoP256.sign({\n *   payload: AuthorizationTempo.getSignPayload(authorization),\n *   privateKey,\n * })\n * const signatureEnvelope = SignatureEnvelope.from({\n *   signature,\n *   publicKey,\n *   prehash: true,\n * })\n *\n * const authorization_signed = AuthorizationTempo.from(\n *   authorization,\n *   { signature: signatureEnvelope }, // [!code focus]\n * )\n * ```\n *\n * @example\n * ### Attaching Signatures (WebAuthn)\n *\n * Passkey-based signature using WebAuthn. Includes authenticator metadata\n * (authenticatorData and clientDataJSON) along with the P-256 signature and\n * public key.\n *\n * ```ts twoslash\n * // @noErrors\n * import { WebAuthnP256 } from 'ox'\n * import { AuthorizationTempo, SignatureEnvelope } from 'ox/tempo'\n *\n * const credential = await WebAuthnP256.createCredential({ name: 'Example' })\n *\n * const authorization = AuthorizationTempo.from({\n *   address: '0xbe95c3f554e9fc85ec51be69a3d807a0d55bcf2c',\n *   chainId: 1,\n *   nonce: 40n,\n * })\n *\n * const { metadata, signature } = await WebAuthnP256.sign({\n *   challenge: AuthorizationTempo.getSignPayload(authorization),\n *   credentialId: credential.id,\n * })\n * const signatureEnvelope = SignatureEnvelope.from({\n *   signature,\n *   publicKey: credential.publicKey,\n *   metadata,\n * })\n *\n * const authorization_signed = AuthorizationTempo.from(\n *   authorization,\n *   { signature: signatureEnvelope }, // [!code focus]\n * )\n * ```\n *\n * @param authorization - An [EIP-7702](https://eips.ethereum.org/EIPS/eip-7702) AA Authorization tuple in object format.\n * @param options - AA Authorization options.\n * @returns The {@link ox#AuthorizationTempo.AuthorizationTempo}.\n */\nfunction from(authorization, options = {}) {\n    if (typeof authorization.chainId === 'string')\n        return fromRpc(authorization);\n    if (options.signature) {\n        return { ...authorization, signature: options.signature };\n    }\n    return authorization;\n}\n/**\n * Converts an {@link ox#AuthorizationTempo.Rpc} to an {@link ox#AuthorizationTempo.AuthorizationTempo}.\n *\n * @example\n * ```ts twoslash\n * import { AuthorizationTempo } from 'ox/tempo'\n *\n * const authorization = AuthorizationTempo.fromRpc({\n *   address: '0x0000000000000000000000000000000000000000',\n *   chainId: '0x1',\n *   nonce: '0x1',\n *   signature: {\n *     type: 'secp256k1',\n *     r: '0x635dc2033e60185bb36709c29c75d64ea51dfbd91c32ef4be198e4ceb169fb4d',\n *     s: '0x50c2667ac4c771072746acfdcf1f1483336dcca8bd2df47cd83175dbe60f0540',\n *     yParity: '0x0',\n *   },\n * })\n * ```\n *\n * @param authorization - The RPC-formatted AA Authorization.\n * @returns A signed {@link ox#AuthorizationTempo.AuthorizationTempo}.\n */\nfunction fromRpc(authorization) {\n    const { address, chainId, nonce } = authorization;\n    const signature = _SignatureEnvelope_js__WEBPACK_IMPORTED_MODULE_3__.fromRpc(authorization.signature);\n    return {\n        address,\n        chainId: Number(chainId),\n        nonce: BigInt(nonce),\n        signature,\n    };\n}\n/**\n * Converts an {@link ox#AuthorizationTempo.ListRpc} to an {@link ox#AuthorizationTempo.List}.\n *\n * @example\n * ```ts twoslash\n * import { AuthorizationTempo } from 'ox/tempo'\n *\n * const authorizationList = AuthorizationTempo.fromRpcList([{\n *   address: '0x0000000000000000000000000000000000000000',\n *   chainId: '0x1',\n *   nonce: '0x1',\n *   signature: {\n *     type: 'secp256k1',\n *     r: '0x635dc2033e60185bb36709c29c75d64ea51dfbd91c32ef4be198e4ceb169fb4d',\n *     s: '0x50c2667ac4c771072746acfdcf1f1483336dcca8bd2df47cd83175dbe60f0540',\n *     yParity: '0x0',\n *   },\n * }])\n * ```\n *\n * @param authorizationList - The RPC-formatted AA Authorization list.\n * @returns A signed {@link ox#AuthorizationTempo.List}.\n */\nfunction fromRpcList(authorizationList) {\n    return authorizationList.map((x) => fromRpc(x));\n}\n/**\n * Converts an {@link ox#AuthorizationTempo.Tuple} to an {@link ox#AuthorizationTempo.AuthorizationTempo}.\n *\n * @example\n * ```ts twoslash\n * import { AuthorizationTempo } from 'ox/tempo'\n *\n * const authorization = AuthorizationTempo.fromTuple([\n *   '0x1',\n *   '0xbe95c3f554e9fc85ec51be69a3d807a0d55bcf2c',\n *   '0x3'\n * ])\n * // @log: {\n * // @log:   address: '0xbe95c3f554e9fc85ec51be69a3d807a0d55bcf2c',\n * // @log:   chainId: 1,\n * // @log:   nonce: 3n\n * // @log: }\n * ```\n *\n * @example\n * It is also possible to append a serialized SignatureEnvelope to the end of an AA Authorization tuple.\n *\n * ```ts twoslash\n * import { AuthorizationTempo } from 'ox/tempo'\n *\n * const authorization = AuthorizationTempo.fromTuple([\n *   '0x1',\n *   '0xbe95c3f554e9fc85ec51be69a3d807a0d55bcf2c',\n *   '0x3',\n *   '0x01a068a020a209d3d56c46f38cc50a33f704f4a9a10a59377f8dd762ac66910e9b907e865ad05c4035ab5792787d4a0297a43617ae897930a6fe4d822b8faea52064',\n * ])\n * // @log: {\n * // @log:   address: '0xbe95c3f554e9fc85ec51be69a3d807a0d55bcf2c',\n * // @log:   chainId: 1,\n * // @log:   nonce: 3n\n * // @log:   signature: {\n * // @log:     r: BigInt('0x68a020a209d3d56c46f38cc50a33f704f4a9a10a59377f8dd762ac66910e9b90'),\n * // @log:     s: BigInt('0x7e865ad05c4035ab5792787d4a0297a43617ae897930a6fe4d822b8faea52064'),\n * // @log:     yParity: 0,\n * // @log:   },\n * // @log: }\n * ```\n *\n * @param tuple - The [EIP-7702](https://eips.ethereum.org/EIPS/eip-7702) AA Authorization tuple.\n * @returns The {@link ox#AuthorizationTempo.AuthorizationTempo}.\n */\nfunction fromTuple(tuple) {\n    const [chainId, address, nonce, signatureSerialized] = tuple;\n    const args = {\n        address,\n        chainId: chainId === '0x' ? 0 : Number(chainId),\n        nonce: nonce === '0x' ? 0n : BigInt(nonce),\n    };\n    if (signatureSerialized)\n        args.signature = _SignatureEnvelope_js__WEBPACK_IMPORTED_MODULE_3__.deserialize(signatureSerialized);\n    return from(args);\n}\n/**\n * Converts an {@link ox#AuthorizationTempo.TupleList} to an {@link ox#AuthorizationTempo.List}.\n *\n * @example\n * ```ts twoslash\n * import { AuthorizationTempo } from 'ox/tempo'\n *\n * const authorizationList = AuthorizationTempo.fromTupleList([\n *   ['0x1', '0xbe95c3f554e9fc85ec51be69a3d807a0d55bcf2c', '0x3'],\n *   ['0x3', '0xbe95c3f554e9fc85ec51be69a3d807a0d55bcf2c', '0x14'],\n * ])\n * // @log: [\n * // @log:   {\n * // @log:     address: '0xbe95c3f554e9fc85ec51be69a3d807a0d55bcf2c',\n * // @log:     chainId: 1,\n * // @log:     nonce: 3n,\n * // @log:   },\n * // @log:   {\n * // @log:     address: '0xbe95c3f554e9fc85ec51be69a3d807a0d55bcf2c',\n * // @log:     chainId: 3,\n * // @log:     nonce: 20n,\n * // @log:   },\n * // @log: ]\n * ```\n *\n * @example\n * It is also possible to append a serialized SignatureEnvelope to the end of an AA Authorization tuple.\n *\n * ```ts twoslash\n * import { AuthorizationTempo } from 'ox/tempo'\n *\n * const authorizationList = AuthorizationTempo.fromTupleList([\n *   ['0x1', '0xbe95c3f554e9fc85ec51be69a3d807a0d55bcf2c', '0x3', '0x01a068a020a209d3d56c46f38cc50a33f704f4a9a10a59377f8dd762ac66910e9b907e865ad05c4035ab5792787d4a0297a43617ae897930a6fe4d822b8faea52064'],\n *   ['0x3', '0xbe95c3f554e9fc85ec51be69a3d807a0d55bcf2c', '0x14', '0x01a068a020a209d3d56c46f38cc50a33f704f4a9a10a59377f8dd762ac66910e9b907e865ad05c4035ab5792787d4a0297a43617ae897930a6fe4d822b8faea52064'],\n * ])\n * // @log: [\n * // @log:   {\n * // @log:     address: '0xbe95c3f554e9fc85ec51be69a3d807a0d55bcf2c',\n * // @log:     chainId: 1,\n * // @log:     nonce: 3n,\n * // @log:     signature: {\n * // @log:       r: BigInt('0x68a020a209d3d56c46f38cc50a33f704f4a9a10a59377f8dd762ac66910e9b90'),\n * // @log:       s: BigInt('0x7e865ad05c4035ab5792787d4a0297a43617ae897930a6fe4d822b8faea52064'),\n * // @log:       yParity: 0,\n * // @log:     },\n * // @log:   },\n * // @log:   {\n * // @log:     address: '0xbe95c3f554e9fc85ec51be69a3d807a0d55bcf2c',\n * // @log:     chainId: 3,\n * // @log:     nonce: 20n,\n * // @log:     signature: {\n * // @log:       r: BigInt('0x68a020a209d3d56c46f38cc50a33f704f4a9a10a59377f8dd762ac66910e9b90'),\n * // @log:       s: BigInt('0x7e865ad05c4035ab5792787d4a0297a43617ae897930a6fe4d822b8faea52064'),\n * // @log:       yParity: 0,\n * // @log:     },\n * // @log:   },\n * // @log: ]\n * ```\n *\n * @param tupleList - The [EIP-7702](https://eips.ethereum.org/EIPS/eip-7702) AA Authorization tuple list.\n * @returns An {@link ox#AuthorizationTempo.List}.\n */\nfunction fromTupleList(tupleList) {\n    const list = [];\n    for (const tuple of tupleList)\n        list.push(fromTuple(tuple));\n    return list;\n}\n/**\n * Computes the sign payload for an {@link ox#AuthorizationTempo.AuthorizationTempo} in [EIP-7702 format](https://eips.ethereum.org/EIPS/eip-7702): `keccak256('0x05' || rlp([chain_id, address, nonce]))`.\n *\n * @example\n * ### Secp256k1\n *\n * Standard Ethereum ECDSA signature using the secp256k1 curve.\n *\n * ```ts twoslash\n * import { Secp256k1 } from 'ox'\n * import { AuthorizationTempo } from 'ox/tempo'\n *\n * const privateKey = Secp256k1.randomPrivateKey()\n *\n * const authorization = AuthorizationTempo.from({\n *   address: '0x1234567890abcdef1234567890abcdef12345678',\n *   chainId: 1,\n *   nonce: 69n,\n * })\n *\n * const payload = AuthorizationTempo.getSignPayload(authorization) // [!code focus]\n *\n * const signature = Secp256k1.sign({ payload, privateKey })\n * const authorization_signed = AuthorizationTempo.from(\n *   authorization,\n *   { signature }\n * )\n * ```\n *\n * @example\n * ### P256\n *\n * ECDSA signature using the P-256 (secp256r1) curve. Requires embedding the\n * public key and a `prehash` flag indicating whether the payload was hashed\n * before signing.\n *\n * ```ts twoslash\n * import { P256 } from 'ox'\n * import { AuthorizationTempo, SignatureEnvelope } from 'ox/tempo'\n *\n * const { privateKey, publicKey } = P256.createKeyPair()\n *\n * const authorization = AuthorizationTempo.from({\n *   address: '0x1234567890abcdef1234567890abcdef12345678',\n *   chainId: 1,\n *   nonce: 69n,\n * })\n *\n * const payload = AuthorizationTempo.getSignPayload(authorization) // [!code focus]\n *\n * const signature = P256.sign({ payload, privateKey })\n * const signatureEnvelope = SignatureEnvelope.from({\n *   prehash: false,\n *   publicKey,\n *   signature,\n * })\n * const authorization_signed = AuthorizationTempo.from(\n *   authorization,\n *   { signature: signatureEnvelope }\n * )\n * ```\n *\n * @example\n * ### P256 (WebCrypto)\n *\n * When using WebCrypto keys, `prehash` must be `true` since WebCrypto always\n * hashes the payload internally before signing.\n *\n * ```ts twoslash\n * // @noErrors\n * import { WebCryptoP256 } from 'ox'\n * import { AuthorizationTempo, SignatureEnvelope } from 'ox/tempo'\n *\n * const { privateKey, publicKey } = await WebCryptoP256.createKeyPair()\n *\n * const authorization = AuthorizationTempo.from({\n *   address: '0x1234567890abcdef1234567890abcdef12345678',\n *   chainId: 1,\n *   nonce: 69n,\n * })\n *\n * const payload = AuthorizationTempo.getSignPayload(authorization) // [!code focus]\n *\n * const signature = await WebCryptoP256.sign({ payload, privateKey })\n * const signatureEnvelope = SignatureEnvelope.from({\n *   prehash: true,\n *   publicKey,\n *   signature,\n * })\n * const authorization_signed = AuthorizationTempo.from(\n *   authorization,\n *   { signature: signatureEnvelope }\n * )\n * ```\n *\n * @example\n * ### WebAuthn\n *\n * Passkey-based signature using WebAuthn. Includes authenticator metadata\n * (authenticatorData and clientDataJSON) along with the P-256 signature and\n * public key.\n *\n * ```ts twoslash\n * // @noErrors\n * import { WebAuthnP256 } from 'ox'\n * import { AuthorizationTempo, SignatureEnvelope } from 'ox/tempo'\n *\n * const credential = await WebAuthnP256.createCredential({ name: 'Example' })\n *\n * const authorization = AuthorizationTempo.from({\n *   address: '0x1234567890abcdef1234567890abcdef12345678',\n *   chainId: 1,\n *   nonce: 69n,\n * })\n *\n * const challenge = AuthorizationTempo.getSignPayload(authorization) // [!code focus]\n *\n * const { metadata, signature } = await WebAuthnP256.sign({\n *   challenge,\n *   credentialId: credential.id,\n * })\n * const signatureEnvelope = SignatureEnvelope.from({\n *   signature,\n *   publicKey: credential.publicKey,\n *   metadata,\n * })\n * const authorization_signed = AuthorizationTempo.from(\n *   authorization,\n *   { signature: signatureEnvelope }\n * )\n * ```\n *\n * @param authorization - The {@link ox#AuthorizationTempo.AuthorizationTempo}.\n * @returns The sign payload.\n */\nfunction getSignPayload(authorization) {\n    return hash(authorization, { presign: true });\n}\n/**\n * Computes the hash for an {@link ox#AuthorizationTempo.AuthorizationTempo} in [EIP-7702 format](https://eips.ethereum.org/EIPS/eip-7702): `keccak256('0x05' || rlp([chain_id, address, nonce]))`.\n *\n * @example\n * ```ts twoslash\n * import { AuthorizationTempo } from 'ox/tempo'\n *\n * const authorization = AuthorizationTempo.from({\n *   address: '0x1234567890abcdef1234567890abcdef12345678',\n *   chainId: 1,\n *   nonce: 69n,\n * })\n *\n * const hash = AuthorizationTempo.hash(authorization) // [!code focus]\n * ```\n *\n * @param authorization - The {@link ox#AuthorizationTempo.AuthorizationTempo}.\n * @returns The hash.\n */\nfunction hash(authorization, options = {}) {\n    const { presign } = options;\n    return _core_Hash_js__WEBPACK_IMPORTED_MODULE_0__.keccak256(_core_Hex_js__WEBPACK_IMPORTED_MODULE_1__.concat('0x05', _core_Rlp_js__WEBPACK_IMPORTED_MODULE_2__.fromHex(toTuple(presign\n        ? {\n            address: authorization.address,\n            chainId: authorization.chainId,\n            nonce: authorization.nonce,\n        }\n        : authorization))));\n}\n/**\n * Converts an {@link ox#AuthorizationTempo.AuthorizationTempo} to an {@link ox#AuthorizationTempo.Rpc}.\n *\n * @example\n * ```ts twoslash\n * import { AuthorizationTempo } from 'ox/tempo'\n *\n * const authorization = AuthorizationTempo.toRpc({\n *   address: '0x0000000000000000000000000000000000000000',\n *   chainId: 1,\n *   nonce: 1n,\n *   signature: {\n *     type: 'secp256k1',\n *     signature: {\n *       r: 44944627813007772897391531230081695102703289123332187696115181104739239197517n,\n *       s: 36528503505192438307355164441104001310566505351980369085208178712678799181120n,\n *       yParity: 0,\n *     },\n *   },\n * })\n * ```\n *\n * @param authorization - An AA Authorization.\n * @returns An RPC-formatted AA Authorization.\n */\nfunction toRpc(authorization) {\n    const { address, chainId, nonce, signature } = authorization;\n    return {\n        address,\n        chainId: _core_Hex_js__WEBPACK_IMPORTED_MODULE_1__.fromNumber(chainId),\n        nonce: _core_Hex_js__WEBPACK_IMPORTED_MODULE_1__.fromNumber(nonce),\n        signature: _SignatureEnvelope_js__WEBPACK_IMPORTED_MODULE_3__.toRpc(signature),\n    };\n}\n/**\n * Converts an {@link ox#AuthorizationTempo.List} to an {@link ox#AuthorizationTempo.ListRpc}.\n *\n * @example\n * ```ts twoslash\n * import { AuthorizationTempo } from 'ox/tempo'\n *\n * const authorization = AuthorizationTempo.toRpcList([{\n *   address: '0x0000000000000000000000000000000000000000',\n *   chainId: 1,\n *   nonce: 1n,\n *   signature: {\n *     type: 'secp256k1',\n *     signature: {\n *       r: 44944627813007772897391531230081695102703289123332187696115181104739239197517n,\n *       s: 36528503505192438307355164441104001310566505351980369085208178712678799181120n,\n *       yParity: 0,\n *     },\n *   },\n * }])\n * ```\n *\n * @param authorizationList - An AA Authorization List.\n * @returns An RPC-formatted AA Authorization List.\n */\nfunction toRpcList(authorizationList) {\n    return authorizationList.map((x) => toRpc(x));\n}\n/**\n * Converts an {@link ox#AuthorizationTempo.AuthorizationTempo} to an {@link ox#AuthorizationTempo.Tuple}.\n *\n * @example\n * ```ts twoslash\n * import { AuthorizationTempo } from 'ox/tempo'\n *\n * const authorization = AuthorizationTempo.from({\n *   address: '0x1234567890abcdef1234567890abcdef12345678',\n *   chainId: 1,\n *   nonce: 69n,\n * })\n *\n * const tuple = AuthorizationTempo.toTuple(authorization) // [!code focus]\n * // @log: [\n * // @log:   address: '0x1234567890abcdef1234567890abcdef12345678',\n * // @log:   chainId: 1,\n * // @log:   nonce: 69n,\n * // @log: ]\n * ```\n *\n * @param authorization - The {@link ox#AuthorizationTempo.AuthorizationTempo}.\n * @returns An [EIP-7702](https://eips.ethereum.org/EIPS/eip-7702) AA Authorization tuple.\n */\nfunction toTuple(authorization) {\n    const { address, chainId, nonce } = authorization;\n    const signature = authorization.signature\n        ? _SignatureEnvelope_js__WEBPACK_IMPORTED_MODULE_3__.serialize(authorization.signature)\n        : undefined;\n    return [\n        chainId ? _core_Hex_js__WEBPACK_IMPORTED_MODULE_1__.fromNumber(chainId) : '0x',\n        address,\n        nonce ? _core_Hex_js__WEBPACK_IMPORTED_MODULE_1__.fromNumber(nonce) : '0x',\n        ...(signature ? [signature] : []),\n    ];\n}\n/**\n * Converts an {@link ox#AuthorizationTempo.List} to an {@link ox#AuthorizationTempo.TupleList}.\n *\n * @example\n * ```ts twoslash\n * import { AuthorizationTempo } from 'ox/tempo'\n *\n * const authorization_1 = AuthorizationTempo.from({\n *   address: '0x1234567890abcdef1234567890abcdef12345678',\n *   chainId: 1,\n *   nonce: 69n,\n * })\n * const authorization_2 = AuthorizationTempo.from({\n *   address: '0x1234567890abcdef1234567890abcdef12345678',\n *   chainId: 3,\n *   nonce: 20n,\n * })\n *\n * const tuple = AuthorizationTempo.toTupleList([authorization_1, authorization_2]) // [!code focus]\n * // @log: [\n * // @log:   [\n * // @log:     address: '0x1234567890abcdef1234567890abcdef12345678',\n * // @log:     chainId: 1,\n * // @log:     nonce: 69n,\n * // @log:   ],\n * // @log:   [\n * // @log:     address: '0x1234567890abcdef1234567890abcdef12345678',\n * // @log:     chainId: 3,\n * // @log:     nonce: 20n,\n * // @log:   ],\n * // @log: ]\n * ```\n *\n * @param list - An {@link ox#AuthorizationTempo.List}.\n * @returns An [EIP-7702](https://eips.ethereum.org/EIPS/eip-7702) AA Authorization tuple list.\n */\nfunction toTupleList(list) {\n    if (!list || list.length === 0)\n        return [];\n    const tupleList = [];\n    for (const authorization of list)\n        tupleList.push(toTuple(authorization));\n    return tupleList;\n}\n//# sourceMappingURL=AuthorizationTempo.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvb3gvX2VzbS90ZW1wby9BdXRob3JpemF0aW9uVGVtcG8uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb3gvX2VzbS90ZW1wby9BdXRob3JpemF0aW9uVGVtcG8uanM/ZmNiZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBIYXNoIGZyb20gJy4uL2NvcmUvSGFzaC5qcyc7XG5pbXBvcnQgKiBhcyBIZXggZnJvbSAnLi4vY29yZS9IZXguanMnO1xuaW1wb3J0ICogYXMgUmxwIGZyb20gJy4uL2NvcmUvUmxwLmpzJztcbmltcG9ydCAqIGFzIFNpZ25hdHVyZUVudmVsb3BlIGZyb20gJy4vU2lnbmF0dXJlRW52ZWxvcGUuanMnO1xuLyoqXG4gKiBDb252ZXJ0cyBhbiBFSVAtNzcwMiBBdXRob3JpemF0aW9uIG9iamVjdCBpbnRvIGEgdHlwZWQge0BsaW5rIG94I0F1dGhvcml6YXRpb25UZW1wby5BdXRob3JpemF0aW9uVGVtcG99LlxuICpcbiAqIFRlbXBvIGV4dGVuZHMgRUlQLTc3MDIgdG8gc3VwcG9ydCBzZWNwMjU2azEsIFAyNTYsIGFuZCBXZWJBdXRobiBzaWduYXR1cmUgdHlwZXMuXG4gKlxuICogW1RlbXBvIEF1dGhvcml6YXRpb24gU3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9kb2NzLnRlbXBvLnh5ei9wcm90b2NvbC90cmFuc2FjdGlvbnMvc3BlYy10ZW1wby10cmFuc2FjdGlvbiN0ZW1wby1hdXRob3JpemF0aW9uLWxpc3QpXG4gKlxuICogQGV4YW1wbGVcbiAqIEFuIEF1dGhvcml6YXRpb24gY2FuIGJlIGluc3RhbnRpYXRlZCBmcm9tIGFuIEVJUC03NzAyIEF1dGhvcml6YXRpb24gdHVwbGUgaW4gb2JqZWN0IGZvcm1hdC5cbiAqXG4gKiBgYGB0cyB0d29zbGFzaFxuICogaW1wb3J0IHsgQXV0aG9yaXphdGlvblRlbXBvIH0gZnJvbSAnb3gvdGVtcG8nXG4gKlxuICogY29uc3QgYXV0aG9yaXphdGlvbiA9IEF1dGhvcml6YXRpb25UZW1wby5mcm9tKHtcbiAqICAgYWRkcmVzczogJzB4MTIzNDU2Nzg5MGFiY2RlZjEyMzQ1Njc4OTBhYmNkZWYxMjM0NTY3OCcsXG4gKiAgIGNoYWluSWQ6IDEsXG4gKiAgIG5vbmNlOiA2OW4sXG4gKiB9KVxuICogYGBgXG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBBdHRhY2hpbmcgU2lnbmF0dXJlcyAoU2VjcDI1NmsxKVxuICpcbiAqIFN0YW5kYXJkIEV0aGVyZXVtIEVDRFNBIHNpZ25hdHVyZSB1c2luZyB0aGUgc2VjcDI1NmsxIGN1cnZlLlxuICpcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBTZWNwMjU2azEgfSBmcm9tICdveCdcbiAqIGltcG9ydCB7IEF1dGhvcml6YXRpb25UZW1wbyB9IGZyb20gJ294L3RlbXBvJ1xuICpcbiAqIGNvbnN0IHByaXZhdGVLZXkgPSBTZWNwMjU2azEucmFuZG9tUHJpdmF0ZUtleSgpXG4gKlxuICogY29uc3QgYXV0aG9yaXphdGlvbiA9IEF1dGhvcml6YXRpb25UZW1wby5mcm9tKHtcbiAqICAgYWRkcmVzczogJzB4YmU5NWMzZjU1NGU5ZmM4NWVjNTFiZTY5YTNkODA3YTBkNTViY2YyYycsXG4gKiAgIGNoYWluSWQ6IDEsXG4gKiAgIG5vbmNlOiA0MG4sXG4gKiB9KVxuICpcbiAqIGNvbnN0IHNpZ25hdHVyZSA9IFNlY3AyNTZrMS5zaWduKHtcbiAqICAgcGF5bG9hZDogQXV0aG9yaXphdGlvblRlbXBvLmdldFNpZ25QYXlsb2FkKGF1dGhvcml6YXRpb24pLFxuICogICBwcml2YXRlS2V5LFxuICogfSlcbiAqXG4gKiBjb25zdCBhdXRob3JpemF0aW9uX3NpZ25lZCA9IEF1dGhvcml6YXRpb25UZW1wby5mcm9tKFxuICogICBhdXRob3JpemF0aW9uLFxuICogICB7IHNpZ25hdHVyZSB9LCAvLyBbIWNvZGUgZm9jdXNdXG4gKiApXG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIEF0dGFjaGluZyBTaWduYXR1cmVzIChQMjU2KVxuICpcbiAqIEVDRFNBIHNpZ25hdHVyZSB1c2luZyB0aGUgUC0yNTYgKHNlY3AyNTZyMSkgY3VydmUuIFJlcXVpcmVzIGVtYmVkZGluZyB0aGVcbiAqIHB1YmxpYyBrZXkgYW5kIGEgYHByZWhhc2hgIGZsYWcgaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBwYXlsb2FkIHdhcyBoYXNoZWRcbiAqIGJlZm9yZSBzaWduaW5nLlxuICpcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBQMjU2IH0gZnJvbSAnb3gnXG4gKiBpbXBvcnQgeyBBdXRob3JpemF0aW9uVGVtcG8sIFNpZ25hdHVyZUVudmVsb3BlIH0gZnJvbSAnb3gvdGVtcG8nXG4gKlxuICogY29uc3QgeyBwcml2YXRlS2V5LCBwdWJsaWNLZXkgfSA9IFAyNTYuY3JlYXRlS2V5UGFpcigpXG4gKlxuICogY29uc3QgYXV0aG9yaXphdGlvbiA9IEF1dGhvcml6YXRpb25UZW1wby5mcm9tKHtcbiAqICAgYWRkcmVzczogJzB4YmU5NWMzZjU1NGU5ZmM4NWVjNTFiZTY5YTNkODA3YTBkNTViY2YyYycsXG4gKiAgIGNoYWluSWQ6IDEsXG4gKiAgIG5vbmNlOiA0MG4sXG4gKiB9KVxuICpcbiAqIGNvbnN0IHNpZ25hdHVyZSA9IFAyNTYuc2lnbih7XG4gKiAgIHBheWxvYWQ6IEF1dGhvcml6YXRpb25UZW1wby5nZXRTaWduUGF5bG9hZChhdXRob3JpemF0aW9uKSxcbiAqICAgcHJpdmF0ZUtleSxcbiAqIH0pXG4gKiBjb25zdCBzaWduYXR1cmVFbnZlbG9wZSA9IFNpZ25hdHVyZUVudmVsb3BlLmZyb20oe1xuICogICBzaWduYXR1cmUsXG4gKiAgIHB1YmxpY0tleSxcbiAqICAgcHJlaGFzaDogZmFsc2UsXG4gKiB9KVxuICpcbiAqIGNvbnN0IGF1dGhvcml6YXRpb25fc2lnbmVkID0gQXV0aG9yaXphdGlvblRlbXBvLmZyb20oXG4gKiAgIGF1dGhvcml6YXRpb24sXG4gKiAgIHsgc2lnbmF0dXJlOiBzaWduYXR1cmVFbnZlbG9wZSB9LCAvLyBbIWNvZGUgZm9jdXNdXG4gKiApXG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIEF0dGFjaGluZyBTaWduYXR1cmVzIChQMjU2IFdlYkNyeXB0bylcbiAqXG4gKiBXaGVuIHVzaW5nIFdlYkNyeXB0byBrZXlzLCBgcHJlaGFzaGAgbXVzdCBiZSBgdHJ1ZWAgc2luY2UgV2ViQ3J5cHRvIGFsd2F5c1xuICogaGFzaGVzIHRoZSBwYXlsb2FkIGludGVybmFsbHkgYmVmb3JlIHNpZ25pbmcuXG4gKlxuICogYGBgdHMgdHdvc2xhc2hcbiAqIC8vIEBub0Vycm9yc1xuICogaW1wb3J0IHsgV2ViQ3J5cHRvUDI1NiB9IGZyb20gJ294J1xuICogaW1wb3J0IHsgQXV0aG9yaXphdGlvblRlbXBvLCBTaWduYXR1cmVFbnZlbG9wZSB9IGZyb20gJ294L3RlbXBvJ1xuICpcbiAqIGNvbnN0IHsgcHJpdmF0ZUtleSwgcHVibGljS2V5IH0gPSBhd2FpdCBXZWJDcnlwdG9QMjU2LmNyZWF0ZUtleVBhaXIoKVxuICpcbiAqIGNvbnN0IGF1dGhvcml6YXRpb24gPSBBdXRob3JpemF0aW9uVGVtcG8uZnJvbSh7XG4gKiAgIGFkZHJlc3M6ICcweGJlOTVjM2Y1NTRlOWZjODVlYzUxYmU2OWEzZDgwN2EwZDU1YmNmMmMnLFxuICogICBjaGFpbklkOiAxLFxuICogICBub25jZTogNDBuLFxuICogfSlcbiAqXG4gKiBjb25zdCBzaWduYXR1cmUgPSBhd2FpdCBXZWJDcnlwdG9QMjU2LnNpZ24oe1xuICogICBwYXlsb2FkOiBBdXRob3JpemF0aW9uVGVtcG8uZ2V0U2lnblBheWxvYWQoYXV0aG9yaXphdGlvbiksXG4gKiAgIHByaXZhdGVLZXksXG4gKiB9KVxuICogY29uc3Qgc2lnbmF0dXJlRW52ZWxvcGUgPSBTaWduYXR1cmVFbnZlbG9wZS5mcm9tKHtcbiAqICAgc2lnbmF0dXJlLFxuICogICBwdWJsaWNLZXksXG4gKiAgIHByZWhhc2g6IHRydWUsXG4gKiB9KVxuICpcbiAqIGNvbnN0IGF1dGhvcml6YXRpb25fc2lnbmVkID0gQXV0aG9yaXphdGlvblRlbXBvLmZyb20oXG4gKiAgIGF1dGhvcml6YXRpb24sXG4gKiAgIHsgc2lnbmF0dXJlOiBzaWduYXR1cmVFbnZlbG9wZSB9LCAvLyBbIWNvZGUgZm9jdXNdXG4gKiApXG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIEF0dGFjaGluZyBTaWduYXR1cmVzIChXZWJBdXRobilcbiAqXG4gKiBQYXNza2V5LWJhc2VkIHNpZ25hdHVyZSB1c2luZyBXZWJBdXRobi4gSW5jbHVkZXMgYXV0aGVudGljYXRvciBtZXRhZGF0YVxuICogKGF1dGhlbnRpY2F0b3JEYXRhIGFuZCBjbGllbnREYXRhSlNPTikgYWxvbmcgd2l0aCB0aGUgUC0yNTYgc2lnbmF0dXJlIGFuZFxuICogcHVibGljIGtleS5cbiAqXG4gKiBgYGB0cyB0d29zbGFzaFxuICogLy8gQG5vRXJyb3JzXG4gKiBpbXBvcnQgeyBXZWJBdXRoblAyNTYgfSBmcm9tICdveCdcbiAqIGltcG9ydCB7IEF1dGhvcml6YXRpb25UZW1wbywgU2lnbmF0dXJlRW52ZWxvcGUgfSBmcm9tICdveC90ZW1wbydcbiAqXG4gKiBjb25zdCBjcmVkZW50aWFsID0gYXdhaXQgV2ViQXV0aG5QMjU2LmNyZWF0ZUNyZWRlbnRpYWwoeyBuYW1lOiAnRXhhbXBsZScgfSlcbiAqXG4gKiBjb25zdCBhdXRob3JpemF0aW9uID0gQXV0aG9yaXphdGlvblRlbXBvLmZyb20oe1xuICogICBhZGRyZXNzOiAnMHhiZTk1YzNmNTU0ZTlmYzg1ZWM1MWJlNjlhM2Q4MDdhMGQ1NWJjZjJjJyxcbiAqICAgY2hhaW5JZDogMSxcbiAqICAgbm9uY2U6IDQwbixcbiAqIH0pXG4gKlxuICogY29uc3QgeyBtZXRhZGF0YSwgc2lnbmF0dXJlIH0gPSBhd2FpdCBXZWJBdXRoblAyNTYuc2lnbih7XG4gKiAgIGNoYWxsZW5nZTogQXV0aG9yaXphdGlvblRlbXBvLmdldFNpZ25QYXlsb2FkKGF1dGhvcml6YXRpb24pLFxuICogICBjcmVkZW50aWFsSWQ6IGNyZWRlbnRpYWwuaWQsXG4gKiB9KVxuICogY29uc3Qgc2lnbmF0dXJlRW52ZWxvcGUgPSBTaWduYXR1cmVFbnZlbG9wZS5mcm9tKHtcbiAqICAgc2lnbmF0dXJlLFxuICogICBwdWJsaWNLZXk6IGNyZWRlbnRpYWwucHVibGljS2V5LFxuICogICBtZXRhZGF0YSxcbiAqIH0pXG4gKlxuICogY29uc3QgYXV0aG9yaXphdGlvbl9zaWduZWQgPSBBdXRob3JpemF0aW9uVGVtcG8uZnJvbShcbiAqICAgYXV0aG9yaXphdGlvbixcbiAqICAgeyBzaWduYXR1cmU6IHNpZ25hdHVyZUVudmVsb3BlIH0sIC8vIFshY29kZSBmb2N1c11cbiAqIClcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdXRob3JpemF0aW9uIC0gQW4gW0VJUC03NzAyXShodHRwczovL2VpcHMuZXRoZXJldW0ub3JnL0VJUFMvZWlwLTc3MDIpIEFBIEF1dGhvcml6YXRpb24gdHVwbGUgaW4gb2JqZWN0IGZvcm1hdC5cbiAqIEBwYXJhbSBvcHRpb25zIC0gQUEgQXV0aG9yaXphdGlvbiBvcHRpb25zLlxuICogQHJldHVybnMgVGhlIHtAbGluayBveCNBdXRob3JpemF0aW9uVGVtcG8uQXV0aG9yaXphdGlvblRlbXBvfS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb20oYXV0aG9yaXphdGlvbiwgb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKHR5cGVvZiBhdXRob3JpemF0aW9uLmNoYWluSWQgPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gZnJvbVJwYyhhdXRob3JpemF0aW9uKTtcbiAgICBpZiAob3B0aW9ucy5zaWduYXR1cmUpIHtcbiAgICAgICAgcmV0dXJuIHsgLi4uYXV0aG9yaXphdGlvbiwgc2lnbmF0dXJlOiBvcHRpb25zLnNpZ25hdHVyZSB9O1xuICAgIH1cbiAgICByZXR1cm4gYXV0aG9yaXphdGlvbjtcbn1cbi8qKlxuICogQ29udmVydHMgYW4ge0BsaW5rIG94I0F1dGhvcml6YXRpb25UZW1wby5ScGN9IHRvIGFuIHtAbGluayBveCNBdXRob3JpemF0aW9uVGVtcG8uQXV0aG9yaXphdGlvblRlbXBvfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHMgdHdvc2xhc2hcbiAqIGltcG9ydCB7IEF1dGhvcml6YXRpb25UZW1wbyB9IGZyb20gJ294L3RlbXBvJ1xuICpcbiAqIGNvbnN0IGF1dGhvcml6YXRpb24gPSBBdXRob3JpemF0aW9uVGVtcG8uZnJvbVJwYyh7XG4gKiAgIGFkZHJlc3M6ICcweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnLFxuICogICBjaGFpbklkOiAnMHgxJyxcbiAqICAgbm9uY2U6ICcweDEnLFxuICogICBzaWduYXR1cmU6IHtcbiAqICAgICB0eXBlOiAnc2VjcDI1NmsxJyxcbiAqICAgICByOiAnMHg2MzVkYzIwMzNlNjAxODViYjM2NzA5YzI5Yzc1ZDY0ZWE1MWRmYmQ5MWMzMmVmNGJlMTk4ZTRjZWIxNjlmYjRkJyxcbiAqICAgICBzOiAnMHg1MGMyNjY3YWM0Yzc3MTA3Mjc0NmFjZmRjZjFmMTQ4MzMzNmRjY2E4YmQyZGY0N2NkODMxNzVkYmU2MGYwNTQwJyxcbiAqICAgICB5UGFyaXR5OiAnMHgwJyxcbiAqICAgfSxcbiAqIH0pXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXV0aG9yaXphdGlvbiAtIFRoZSBSUEMtZm9ybWF0dGVkIEFBIEF1dGhvcml6YXRpb24uXG4gKiBAcmV0dXJucyBBIHNpZ25lZCB7QGxpbmsgb3gjQXV0aG9yaXphdGlvblRlbXBvLkF1dGhvcml6YXRpb25UZW1wb30uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUnBjKGF1dGhvcml6YXRpb24pIHtcbiAgICBjb25zdCB7IGFkZHJlc3MsIGNoYWluSWQsIG5vbmNlIH0gPSBhdXRob3JpemF0aW9uO1xuICAgIGNvbnN0IHNpZ25hdHVyZSA9IFNpZ25hdHVyZUVudmVsb3BlLmZyb21ScGMoYXV0aG9yaXphdGlvbi5zaWduYXR1cmUpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGFkZHJlc3MsXG4gICAgICAgIGNoYWluSWQ6IE51bWJlcihjaGFpbklkKSxcbiAgICAgICAgbm9uY2U6IEJpZ0ludChub25jZSksXG4gICAgICAgIHNpZ25hdHVyZSxcbiAgICB9O1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhbiB7QGxpbmsgb3gjQXV0aG9yaXphdGlvblRlbXBvLkxpc3RScGN9IHRvIGFuIHtAbGluayBveCNBdXRob3JpemF0aW9uVGVtcG8uTGlzdH0uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBBdXRob3JpemF0aW9uVGVtcG8gfSBmcm9tICdveC90ZW1wbydcbiAqXG4gKiBjb25zdCBhdXRob3JpemF0aW9uTGlzdCA9IEF1dGhvcml6YXRpb25UZW1wby5mcm9tUnBjTGlzdChbe1xuICogICBhZGRyZXNzOiAnMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJyxcbiAqICAgY2hhaW5JZDogJzB4MScsXG4gKiAgIG5vbmNlOiAnMHgxJyxcbiAqICAgc2lnbmF0dXJlOiB7XG4gKiAgICAgdHlwZTogJ3NlY3AyNTZrMScsXG4gKiAgICAgcjogJzB4NjM1ZGMyMDMzZTYwMTg1YmIzNjcwOWMyOWM3NWQ2NGVhNTFkZmJkOTFjMzJlZjRiZTE5OGU0Y2ViMTY5ZmI0ZCcsXG4gKiAgICAgczogJzB4NTBjMjY2N2FjNGM3NzEwNzI3NDZhY2ZkY2YxZjE0ODMzMzZkY2NhOGJkMmRmNDdjZDgzMTc1ZGJlNjBmMDU0MCcsXG4gKiAgICAgeVBhcml0eTogJzB4MCcsXG4gKiAgIH0sXG4gKiB9XSlcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdXRob3JpemF0aW9uTGlzdCAtIFRoZSBSUEMtZm9ybWF0dGVkIEFBIEF1dGhvcml6YXRpb24gbGlzdC5cbiAqIEByZXR1cm5zIEEgc2lnbmVkIHtAbGluayBveCNBdXRob3JpemF0aW9uVGVtcG8uTGlzdH0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tUnBjTGlzdChhdXRob3JpemF0aW9uTGlzdCkge1xuICAgIHJldHVybiBhdXRob3JpemF0aW9uTGlzdC5tYXAoKHgpID0+IGZyb21ScGMoeCkpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhbiB7QGxpbmsgb3gjQXV0aG9yaXphdGlvblRlbXBvLlR1cGxlfSB0byBhbiB7QGxpbmsgb3gjQXV0aG9yaXphdGlvblRlbXBvLkF1dGhvcml6YXRpb25UZW1wb30uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBBdXRob3JpemF0aW9uVGVtcG8gfSBmcm9tICdveC90ZW1wbydcbiAqXG4gKiBjb25zdCBhdXRob3JpemF0aW9uID0gQXV0aG9yaXphdGlvblRlbXBvLmZyb21UdXBsZShbXG4gKiAgICcweDEnLFxuICogICAnMHhiZTk1YzNmNTU0ZTlmYzg1ZWM1MWJlNjlhM2Q4MDdhMGQ1NWJjZjJjJyxcbiAqICAgJzB4MydcbiAqIF0pXG4gKiAvLyBAbG9nOiB7XG4gKiAvLyBAbG9nOiAgIGFkZHJlc3M6ICcweGJlOTVjM2Y1NTRlOWZjODVlYzUxYmU2OWEzZDgwN2EwZDU1YmNmMmMnLFxuICogLy8gQGxvZzogICBjaGFpbklkOiAxLFxuICogLy8gQGxvZzogICBub25jZTogM25cbiAqIC8vIEBsb2c6IH1cbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlXG4gKiBJdCBpcyBhbHNvIHBvc3NpYmxlIHRvIGFwcGVuZCBhIHNlcmlhbGl6ZWQgU2lnbmF0dXJlRW52ZWxvcGUgdG8gdGhlIGVuZCBvZiBhbiBBQSBBdXRob3JpemF0aW9uIHR1cGxlLlxuICpcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBBdXRob3JpemF0aW9uVGVtcG8gfSBmcm9tICdveC90ZW1wbydcbiAqXG4gKiBjb25zdCBhdXRob3JpemF0aW9uID0gQXV0aG9yaXphdGlvblRlbXBvLmZyb21UdXBsZShbXG4gKiAgICcweDEnLFxuICogICAnMHhiZTk1YzNmNTU0ZTlmYzg1ZWM1MWJlNjlhM2Q4MDdhMGQ1NWJjZjJjJyxcbiAqICAgJzB4MycsXG4gKiAgICcweDAxYTA2OGEwMjBhMjA5ZDNkNTZjNDZmMzhjYzUwYTMzZjcwNGY0YTlhMTBhNTkzNzdmOGRkNzYyYWM2NjkxMGU5YjkwN2U4NjVhZDA1YzQwMzVhYjU3OTI3ODdkNGEwMjk3YTQzNjE3YWU4OTc5MzBhNmZlNGQ4MjJiOGZhZWE1MjA2NCcsXG4gKiBdKVxuICogLy8gQGxvZzoge1xuICogLy8gQGxvZzogICBhZGRyZXNzOiAnMHhiZTk1YzNmNTU0ZTlmYzg1ZWM1MWJlNjlhM2Q4MDdhMGQ1NWJjZjJjJyxcbiAqIC8vIEBsb2c6ICAgY2hhaW5JZDogMSxcbiAqIC8vIEBsb2c6ICAgbm9uY2U6IDNuXG4gKiAvLyBAbG9nOiAgIHNpZ25hdHVyZToge1xuICogLy8gQGxvZzogICAgIHI6IEJpZ0ludCgnMHg2OGEwMjBhMjA5ZDNkNTZjNDZmMzhjYzUwYTMzZjcwNGY0YTlhMTBhNTkzNzdmOGRkNzYyYWM2NjkxMGU5YjkwJyksXG4gKiAvLyBAbG9nOiAgICAgczogQmlnSW50KCcweDdlODY1YWQwNWM0MDM1YWI1NzkyNzg3ZDRhMDI5N2E0MzYxN2FlODk3OTMwYTZmZTRkODIyYjhmYWVhNTIwNjQnKSxcbiAqIC8vIEBsb2c6ICAgICB5UGFyaXR5OiAwLFxuICogLy8gQGxvZzogICB9LFxuICogLy8gQGxvZzogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIHR1cGxlIC0gVGhlIFtFSVAtNzcwMl0oaHR0cHM6Ly9laXBzLmV0aGVyZXVtLm9yZy9FSVBTL2VpcC03NzAyKSBBQSBBdXRob3JpemF0aW9uIHR1cGxlLlxuICogQHJldHVybnMgVGhlIHtAbGluayBveCNBdXRob3JpemF0aW9uVGVtcG8uQXV0aG9yaXphdGlvblRlbXBvfS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21UdXBsZSh0dXBsZSkge1xuICAgIGNvbnN0IFtjaGFpbklkLCBhZGRyZXNzLCBub25jZSwgc2lnbmF0dXJlU2VyaWFsaXplZF0gPSB0dXBsZTtcbiAgICBjb25zdCBhcmdzID0ge1xuICAgICAgICBhZGRyZXNzLFxuICAgICAgICBjaGFpbklkOiBjaGFpbklkID09PSAnMHgnID8gMCA6IE51bWJlcihjaGFpbklkKSxcbiAgICAgICAgbm9uY2U6IG5vbmNlID09PSAnMHgnID8gMG4gOiBCaWdJbnQobm9uY2UpLFxuICAgIH07XG4gICAgaWYgKHNpZ25hdHVyZVNlcmlhbGl6ZWQpXG4gICAgICAgIGFyZ3Muc2lnbmF0dXJlID0gU2lnbmF0dXJlRW52ZWxvcGUuZGVzZXJpYWxpemUoc2lnbmF0dXJlU2VyaWFsaXplZCk7XG4gICAgcmV0dXJuIGZyb20oYXJncyk7XG59XG4vKipcbiAqIENvbnZlcnRzIGFuIHtAbGluayBveCNBdXRob3JpemF0aW9uVGVtcG8uVHVwbGVMaXN0fSB0byBhbiB7QGxpbmsgb3gjQXV0aG9yaXphdGlvblRlbXBvLkxpc3R9LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0cyB0d29zbGFzaFxuICogaW1wb3J0IHsgQXV0aG9yaXphdGlvblRlbXBvIH0gZnJvbSAnb3gvdGVtcG8nXG4gKlxuICogY29uc3QgYXV0aG9yaXphdGlvbkxpc3QgPSBBdXRob3JpemF0aW9uVGVtcG8uZnJvbVR1cGxlTGlzdChbXG4gKiAgIFsnMHgxJywgJzB4YmU5NWMzZjU1NGU5ZmM4NWVjNTFiZTY5YTNkODA3YTBkNTViY2YyYycsICcweDMnXSxcbiAqICAgWycweDMnLCAnMHhiZTk1YzNmNTU0ZTlmYzg1ZWM1MWJlNjlhM2Q4MDdhMGQ1NWJjZjJjJywgJzB4MTQnXSxcbiAqIF0pXG4gKiAvLyBAbG9nOiBbXG4gKiAvLyBAbG9nOiAgIHtcbiAqIC8vIEBsb2c6ICAgICBhZGRyZXNzOiAnMHhiZTk1YzNmNTU0ZTlmYzg1ZWM1MWJlNjlhM2Q4MDdhMGQ1NWJjZjJjJyxcbiAqIC8vIEBsb2c6ICAgICBjaGFpbklkOiAxLFxuICogLy8gQGxvZzogICAgIG5vbmNlOiAzbixcbiAqIC8vIEBsb2c6ICAgfSxcbiAqIC8vIEBsb2c6ICAge1xuICogLy8gQGxvZzogICAgIGFkZHJlc3M6ICcweGJlOTVjM2Y1NTRlOWZjODVlYzUxYmU2OWEzZDgwN2EwZDU1YmNmMmMnLFxuICogLy8gQGxvZzogICAgIGNoYWluSWQ6IDMsXG4gKiAvLyBAbG9nOiAgICAgbm9uY2U6IDIwbixcbiAqIC8vIEBsb2c6ICAgfSxcbiAqIC8vIEBsb2c6IF1cbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlXG4gKiBJdCBpcyBhbHNvIHBvc3NpYmxlIHRvIGFwcGVuZCBhIHNlcmlhbGl6ZWQgU2lnbmF0dXJlRW52ZWxvcGUgdG8gdGhlIGVuZCBvZiBhbiBBQSBBdXRob3JpemF0aW9uIHR1cGxlLlxuICpcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBBdXRob3JpemF0aW9uVGVtcG8gfSBmcm9tICdveC90ZW1wbydcbiAqXG4gKiBjb25zdCBhdXRob3JpemF0aW9uTGlzdCA9IEF1dGhvcml6YXRpb25UZW1wby5mcm9tVHVwbGVMaXN0KFtcbiAqICAgWycweDEnLCAnMHhiZTk1YzNmNTU0ZTlmYzg1ZWM1MWJlNjlhM2Q4MDdhMGQ1NWJjZjJjJywgJzB4MycsICcweDAxYTA2OGEwMjBhMjA5ZDNkNTZjNDZmMzhjYzUwYTMzZjcwNGY0YTlhMTBhNTkzNzdmOGRkNzYyYWM2NjkxMGU5YjkwN2U4NjVhZDA1YzQwMzVhYjU3OTI3ODdkNGEwMjk3YTQzNjE3YWU4OTc5MzBhNmZlNGQ4MjJiOGZhZWE1MjA2NCddLFxuICogICBbJzB4MycsICcweGJlOTVjM2Y1NTRlOWZjODVlYzUxYmU2OWEzZDgwN2EwZDU1YmNmMmMnLCAnMHgxNCcsICcweDAxYTA2OGEwMjBhMjA5ZDNkNTZjNDZmMzhjYzUwYTMzZjcwNGY0YTlhMTBhNTkzNzdmOGRkNzYyYWM2NjkxMGU5YjkwN2U4NjVhZDA1YzQwMzVhYjU3OTI3ODdkNGEwMjk3YTQzNjE3YWU4OTc5MzBhNmZlNGQ4MjJiOGZhZWE1MjA2NCddLFxuICogXSlcbiAqIC8vIEBsb2c6IFtcbiAqIC8vIEBsb2c6ICAge1xuICogLy8gQGxvZzogICAgIGFkZHJlc3M6ICcweGJlOTVjM2Y1NTRlOWZjODVlYzUxYmU2OWEzZDgwN2EwZDU1YmNmMmMnLFxuICogLy8gQGxvZzogICAgIGNoYWluSWQ6IDEsXG4gKiAvLyBAbG9nOiAgICAgbm9uY2U6IDNuLFxuICogLy8gQGxvZzogICAgIHNpZ25hdHVyZToge1xuICogLy8gQGxvZzogICAgICAgcjogQmlnSW50KCcweDY4YTAyMGEyMDlkM2Q1NmM0NmYzOGNjNTBhMzNmNzA0ZjRhOWExMGE1OTM3N2Y4ZGQ3NjJhYzY2OTEwZTliOTAnKSxcbiAqIC8vIEBsb2c6ICAgICAgIHM6IEJpZ0ludCgnMHg3ZTg2NWFkMDVjNDAzNWFiNTc5Mjc4N2Q0YTAyOTdhNDM2MTdhZTg5NzkzMGE2ZmU0ZDgyMmI4ZmFlYTUyMDY0JyksXG4gKiAvLyBAbG9nOiAgICAgICB5UGFyaXR5OiAwLFxuICogLy8gQGxvZzogICAgIH0sXG4gKiAvLyBAbG9nOiAgIH0sXG4gKiAvLyBAbG9nOiAgIHtcbiAqIC8vIEBsb2c6ICAgICBhZGRyZXNzOiAnMHhiZTk1YzNmNTU0ZTlmYzg1ZWM1MWJlNjlhM2Q4MDdhMGQ1NWJjZjJjJyxcbiAqIC8vIEBsb2c6ICAgICBjaGFpbklkOiAzLFxuICogLy8gQGxvZzogICAgIG5vbmNlOiAyMG4sXG4gKiAvLyBAbG9nOiAgICAgc2lnbmF0dXJlOiB7XG4gKiAvLyBAbG9nOiAgICAgICByOiBCaWdJbnQoJzB4NjhhMDIwYTIwOWQzZDU2YzQ2ZjM4Y2M1MGEzM2Y3MDRmNGE5YTEwYTU5Mzc3ZjhkZDc2MmFjNjY5MTBlOWI5MCcpLFxuICogLy8gQGxvZzogICAgICAgczogQmlnSW50KCcweDdlODY1YWQwNWM0MDM1YWI1NzkyNzg3ZDRhMDI5N2E0MzYxN2FlODk3OTMwYTZmZTRkODIyYjhmYWVhNTIwNjQnKSxcbiAqIC8vIEBsb2c6ICAgICAgIHlQYXJpdHk6IDAsXG4gKiAvLyBAbG9nOiAgICAgfSxcbiAqIC8vIEBsb2c6ICAgfSxcbiAqIC8vIEBsb2c6IF1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB0dXBsZUxpc3QgLSBUaGUgW0VJUC03NzAyXShodHRwczovL2VpcHMuZXRoZXJldW0ub3JnL0VJUFMvZWlwLTc3MDIpIEFBIEF1dGhvcml6YXRpb24gdHVwbGUgbGlzdC5cbiAqIEByZXR1cm5zIEFuIHtAbGluayBveCNBdXRob3JpemF0aW9uVGVtcG8uTGlzdH0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tVHVwbGVMaXN0KHR1cGxlTGlzdCkge1xuICAgIGNvbnN0IGxpc3QgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHR1cGxlIG9mIHR1cGxlTGlzdClcbiAgICAgICAgbGlzdC5wdXNoKGZyb21UdXBsZSh0dXBsZSkpO1xuICAgIHJldHVybiBsaXN0O1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgc2lnbiBwYXlsb2FkIGZvciBhbiB7QGxpbmsgb3gjQXV0aG9yaXphdGlvblRlbXBvLkF1dGhvcml6YXRpb25UZW1wb30gaW4gW0VJUC03NzAyIGZvcm1hdF0oaHR0cHM6Ly9laXBzLmV0aGVyZXVtLm9yZy9FSVBTL2VpcC03NzAyKTogYGtlY2NhazI1NignMHgwNScgfHwgcmxwKFtjaGFpbl9pZCwgYWRkcmVzcywgbm9uY2VdKSlgLlxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgU2VjcDI1NmsxXG4gKlxuICogU3RhbmRhcmQgRXRoZXJldW0gRUNEU0Egc2lnbmF0dXJlIHVzaW5nIHRoZSBzZWNwMjU2azEgY3VydmUuXG4gKlxuICogYGBgdHMgdHdvc2xhc2hcbiAqIGltcG9ydCB7IFNlY3AyNTZrMSB9IGZyb20gJ294J1xuICogaW1wb3J0IHsgQXV0aG9yaXphdGlvblRlbXBvIH0gZnJvbSAnb3gvdGVtcG8nXG4gKlxuICogY29uc3QgcHJpdmF0ZUtleSA9IFNlY3AyNTZrMS5yYW5kb21Qcml2YXRlS2V5KClcbiAqXG4gKiBjb25zdCBhdXRob3JpemF0aW9uID0gQXV0aG9yaXphdGlvblRlbXBvLmZyb20oe1xuICogICBhZGRyZXNzOiAnMHgxMjM0NTY3ODkwYWJjZGVmMTIzNDU2Nzg5MGFiY2RlZjEyMzQ1Njc4JyxcbiAqICAgY2hhaW5JZDogMSxcbiAqICAgbm9uY2U6IDY5bixcbiAqIH0pXG4gKlxuICogY29uc3QgcGF5bG9hZCA9IEF1dGhvcml6YXRpb25UZW1wby5nZXRTaWduUGF5bG9hZChhdXRob3JpemF0aW9uKSAvLyBbIWNvZGUgZm9jdXNdXG4gKlxuICogY29uc3Qgc2lnbmF0dXJlID0gU2VjcDI1NmsxLnNpZ24oeyBwYXlsb2FkLCBwcml2YXRlS2V5IH0pXG4gKiBjb25zdCBhdXRob3JpemF0aW9uX3NpZ25lZCA9IEF1dGhvcml6YXRpb25UZW1wby5mcm9tKFxuICogICBhdXRob3JpemF0aW9uLFxuICogICB7IHNpZ25hdHVyZSB9XG4gKiApXG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIFAyNTZcbiAqXG4gKiBFQ0RTQSBzaWduYXR1cmUgdXNpbmcgdGhlIFAtMjU2IChzZWNwMjU2cjEpIGN1cnZlLiBSZXF1aXJlcyBlbWJlZGRpbmcgdGhlXG4gKiBwdWJsaWMga2V5IGFuZCBhIGBwcmVoYXNoYCBmbGFnIGluZGljYXRpbmcgd2hldGhlciB0aGUgcGF5bG9hZCB3YXMgaGFzaGVkXG4gKiBiZWZvcmUgc2lnbmluZy5cbiAqXG4gKiBgYGB0cyB0d29zbGFzaFxuICogaW1wb3J0IHsgUDI1NiB9IGZyb20gJ294J1xuICogaW1wb3J0IHsgQXV0aG9yaXphdGlvblRlbXBvLCBTaWduYXR1cmVFbnZlbG9wZSB9IGZyb20gJ294L3RlbXBvJ1xuICpcbiAqIGNvbnN0IHsgcHJpdmF0ZUtleSwgcHVibGljS2V5IH0gPSBQMjU2LmNyZWF0ZUtleVBhaXIoKVxuICpcbiAqIGNvbnN0IGF1dGhvcml6YXRpb24gPSBBdXRob3JpemF0aW9uVGVtcG8uZnJvbSh7XG4gKiAgIGFkZHJlc3M6ICcweDEyMzQ1Njc4OTBhYmNkZWYxMjM0NTY3ODkwYWJjZGVmMTIzNDU2NzgnLFxuICogICBjaGFpbklkOiAxLFxuICogICBub25jZTogNjluLFxuICogfSlcbiAqXG4gKiBjb25zdCBwYXlsb2FkID0gQXV0aG9yaXphdGlvblRlbXBvLmdldFNpZ25QYXlsb2FkKGF1dGhvcml6YXRpb24pIC8vIFshY29kZSBmb2N1c11cbiAqXG4gKiBjb25zdCBzaWduYXR1cmUgPSBQMjU2LnNpZ24oeyBwYXlsb2FkLCBwcml2YXRlS2V5IH0pXG4gKiBjb25zdCBzaWduYXR1cmVFbnZlbG9wZSA9IFNpZ25hdHVyZUVudmVsb3BlLmZyb20oe1xuICogICBwcmVoYXNoOiBmYWxzZSxcbiAqICAgcHVibGljS2V5LFxuICogICBzaWduYXR1cmUsXG4gKiB9KVxuICogY29uc3QgYXV0aG9yaXphdGlvbl9zaWduZWQgPSBBdXRob3JpemF0aW9uVGVtcG8uZnJvbShcbiAqICAgYXV0aG9yaXphdGlvbixcbiAqICAgeyBzaWduYXR1cmU6IHNpZ25hdHVyZUVudmVsb3BlIH1cbiAqIClcbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgUDI1NiAoV2ViQ3J5cHRvKVxuICpcbiAqIFdoZW4gdXNpbmcgV2ViQ3J5cHRvIGtleXMsIGBwcmVoYXNoYCBtdXN0IGJlIGB0cnVlYCBzaW5jZSBXZWJDcnlwdG8gYWx3YXlzXG4gKiBoYXNoZXMgdGhlIHBheWxvYWQgaW50ZXJuYWxseSBiZWZvcmUgc2lnbmluZy5cbiAqXG4gKiBgYGB0cyB0d29zbGFzaFxuICogLy8gQG5vRXJyb3JzXG4gKiBpbXBvcnQgeyBXZWJDcnlwdG9QMjU2IH0gZnJvbSAnb3gnXG4gKiBpbXBvcnQgeyBBdXRob3JpemF0aW9uVGVtcG8sIFNpZ25hdHVyZUVudmVsb3BlIH0gZnJvbSAnb3gvdGVtcG8nXG4gKlxuICogY29uc3QgeyBwcml2YXRlS2V5LCBwdWJsaWNLZXkgfSA9IGF3YWl0IFdlYkNyeXB0b1AyNTYuY3JlYXRlS2V5UGFpcigpXG4gKlxuICogY29uc3QgYXV0aG9yaXphdGlvbiA9IEF1dGhvcml6YXRpb25UZW1wby5mcm9tKHtcbiAqICAgYWRkcmVzczogJzB4MTIzNDU2Nzg5MGFiY2RlZjEyMzQ1Njc4OTBhYmNkZWYxMjM0NTY3OCcsXG4gKiAgIGNoYWluSWQ6IDEsXG4gKiAgIG5vbmNlOiA2OW4sXG4gKiB9KVxuICpcbiAqIGNvbnN0IHBheWxvYWQgPSBBdXRob3JpemF0aW9uVGVtcG8uZ2V0U2lnblBheWxvYWQoYXV0aG9yaXphdGlvbikgLy8gWyFjb2RlIGZvY3VzXVxuICpcbiAqIGNvbnN0IHNpZ25hdHVyZSA9IGF3YWl0IFdlYkNyeXB0b1AyNTYuc2lnbih7IHBheWxvYWQsIHByaXZhdGVLZXkgfSlcbiAqIGNvbnN0IHNpZ25hdHVyZUVudmVsb3BlID0gU2lnbmF0dXJlRW52ZWxvcGUuZnJvbSh7XG4gKiAgIHByZWhhc2g6IHRydWUsXG4gKiAgIHB1YmxpY0tleSxcbiAqICAgc2lnbmF0dXJlLFxuICogfSlcbiAqIGNvbnN0IGF1dGhvcml6YXRpb25fc2lnbmVkID0gQXV0aG9yaXphdGlvblRlbXBvLmZyb20oXG4gKiAgIGF1dGhvcml6YXRpb24sXG4gKiAgIHsgc2lnbmF0dXJlOiBzaWduYXR1cmVFbnZlbG9wZSB9XG4gKiApXG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIFdlYkF1dGhuXG4gKlxuICogUGFzc2tleS1iYXNlZCBzaWduYXR1cmUgdXNpbmcgV2ViQXV0aG4uIEluY2x1ZGVzIGF1dGhlbnRpY2F0b3IgbWV0YWRhdGFcbiAqIChhdXRoZW50aWNhdG9yRGF0YSBhbmQgY2xpZW50RGF0YUpTT04pIGFsb25nIHdpdGggdGhlIFAtMjU2IHNpZ25hdHVyZSBhbmRcbiAqIHB1YmxpYyBrZXkuXG4gKlxuICogYGBgdHMgdHdvc2xhc2hcbiAqIC8vIEBub0Vycm9yc1xuICogaW1wb3J0IHsgV2ViQXV0aG5QMjU2IH0gZnJvbSAnb3gnXG4gKiBpbXBvcnQgeyBBdXRob3JpemF0aW9uVGVtcG8sIFNpZ25hdHVyZUVudmVsb3BlIH0gZnJvbSAnb3gvdGVtcG8nXG4gKlxuICogY29uc3QgY3JlZGVudGlhbCA9IGF3YWl0IFdlYkF1dGhuUDI1Ni5jcmVhdGVDcmVkZW50aWFsKHsgbmFtZTogJ0V4YW1wbGUnIH0pXG4gKlxuICogY29uc3QgYXV0aG9yaXphdGlvbiA9IEF1dGhvcml6YXRpb25UZW1wby5mcm9tKHtcbiAqICAgYWRkcmVzczogJzB4MTIzNDU2Nzg5MGFiY2RlZjEyMzQ1Njc4OTBhYmNkZWYxMjM0NTY3OCcsXG4gKiAgIGNoYWluSWQ6IDEsXG4gKiAgIG5vbmNlOiA2OW4sXG4gKiB9KVxuICpcbiAqIGNvbnN0IGNoYWxsZW5nZSA9IEF1dGhvcml6YXRpb25UZW1wby5nZXRTaWduUGF5bG9hZChhdXRob3JpemF0aW9uKSAvLyBbIWNvZGUgZm9jdXNdXG4gKlxuICogY29uc3QgeyBtZXRhZGF0YSwgc2lnbmF0dXJlIH0gPSBhd2FpdCBXZWJBdXRoblAyNTYuc2lnbih7XG4gKiAgIGNoYWxsZW5nZSxcbiAqICAgY3JlZGVudGlhbElkOiBjcmVkZW50aWFsLmlkLFxuICogfSlcbiAqIGNvbnN0IHNpZ25hdHVyZUVudmVsb3BlID0gU2lnbmF0dXJlRW52ZWxvcGUuZnJvbSh7XG4gKiAgIHNpZ25hdHVyZSxcbiAqICAgcHVibGljS2V5OiBjcmVkZW50aWFsLnB1YmxpY0tleSxcbiAqICAgbWV0YWRhdGEsXG4gKiB9KVxuICogY29uc3QgYXV0aG9yaXphdGlvbl9zaWduZWQgPSBBdXRob3JpemF0aW9uVGVtcG8uZnJvbShcbiAqICAgYXV0aG9yaXphdGlvbixcbiAqICAgeyBzaWduYXR1cmU6IHNpZ25hdHVyZUVudmVsb3BlIH1cbiAqIClcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdXRob3JpemF0aW9uIC0gVGhlIHtAbGluayBveCNBdXRob3JpemF0aW9uVGVtcG8uQXV0aG9yaXphdGlvblRlbXBvfS5cbiAqIEByZXR1cm5zIFRoZSBzaWduIHBheWxvYWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTaWduUGF5bG9hZChhdXRob3JpemF0aW9uKSB7XG4gICAgcmV0dXJuIGhhc2goYXV0aG9yaXphdGlvbiwgeyBwcmVzaWduOiB0cnVlIH0pO1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgaGFzaCBmb3IgYW4ge0BsaW5rIG94I0F1dGhvcml6YXRpb25UZW1wby5BdXRob3JpemF0aW9uVGVtcG99IGluIFtFSVAtNzcwMiBmb3JtYXRdKGh0dHBzOi8vZWlwcy5ldGhlcmV1bS5vcmcvRUlQUy9laXAtNzcwMik6IGBrZWNjYWsyNTYoJzB4MDUnIHx8IHJscChbY2hhaW5faWQsIGFkZHJlc3MsIG5vbmNlXSkpYC5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHMgdHdvc2xhc2hcbiAqIGltcG9ydCB7IEF1dGhvcml6YXRpb25UZW1wbyB9IGZyb20gJ294L3RlbXBvJ1xuICpcbiAqIGNvbnN0IGF1dGhvcml6YXRpb24gPSBBdXRob3JpemF0aW9uVGVtcG8uZnJvbSh7XG4gKiAgIGFkZHJlc3M6ICcweDEyMzQ1Njc4OTBhYmNkZWYxMjM0NTY3ODkwYWJjZGVmMTIzNDU2NzgnLFxuICogICBjaGFpbklkOiAxLFxuICogICBub25jZTogNjluLFxuICogfSlcbiAqXG4gKiBjb25zdCBoYXNoID0gQXV0aG9yaXphdGlvblRlbXBvLmhhc2goYXV0aG9yaXphdGlvbikgLy8gWyFjb2RlIGZvY3VzXVxuICogYGBgXG4gKlxuICogQHBhcmFtIGF1dGhvcml6YXRpb24gLSBUaGUge0BsaW5rIG94I0F1dGhvcml6YXRpb25UZW1wby5BdXRob3JpemF0aW9uVGVtcG99LlxuICogQHJldHVybnMgVGhlIGhhc2guXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoYXNoKGF1dGhvcml6YXRpb24sIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHsgcHJlc2lnbiB9ID0gb3B0aW9ucztcbiAgICByZXR1cm4gSGFzaC5rZWNjYWsyNTYoSGV4LmNvbmNhdCgnMHgwNScsIFJscC5mcm9tSGV4KHRvVHVwbGUocHJlc2lnblxuICAgICAgICA/IHtcbiAgICAgICAgICAgIGFkZHJlc3M6IGF1dGhvcml6YXRpb24uYWRkcmVzcyxcbiAgICAgICAgICAgIGNoYWluSWQ6IGF1dGhvcml6YXRpb24uY2hhaW5JZCxcbiAgICAgICAgICAgIG5vbmNlOiBhdXRob3JpemF0aW9uLm5vbmNlLFxuICAgICAgICB9XG4gICAgICAgIDogYXV0aG9yaXphdGlvbikpKSk7XG59XG4vKipcbiAqIENvbnZlcnRzIGFuIHtAbGluayBveCNBdXRob3JpemF0aW9uVGVtcG8uQXV0aG9yaXphdGlvblRlbXBvfSB0byBhbiB7QGxpbmsgb3gjQXV0aG9yaXphdGlvblRlbXBvLlJwY30uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBBdXRob3JpemF0aW9uVGVtcG8gfSBmcm9tICdveC90ZW1wbydcbiAqXG4gKiBjb25zdCBhdXRob3JpemF0aW9uID0gQXV0aG9yaXphdGlvblRlbXBvLnRvUnBjKHtcbiAqICAgYWRkcmVzczogJzB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcsXG4gKiAgIGNoYWluSWQ6IDEsXG4gKiAgIG5vbmNlOiAxbixcbiAqICAgc2lnbmF0dXJlOiB7XG4gKiAgICAgdHlwZTogJ3NlY3AyNTZrMScsXG4gKiAgICAgc2lnbmF0dXJlOiB7XG4gKiAgICAgICByOiA0NDk0NDYyNzgxMzAwNzc3Mjg5NzM5MTUzMTIzMDA4MTY5NTEwMjcwMzI4OTEyMzMzMjE4NzY5NjExNTE4MTEwNDczOTIzOTE5NzUxN24sXG4gKiAgICAgICBzOiAzNjUyODUwMzUwNTE5MjQzODMwNzM1NTE2NDQ0MTEwNDAwMTMxMDU2NjUwNTM1MTk4MDM2OTA4NTIwODE3ODcxMjY3ODc5OTE4MTEyMG4sXG4gKiAgICAgICB5UGFyaXR5OiAwLFxuICogICAgIH0sXG4gKiAgIH0sXG4gKiB9KVxuICogYGBgXG4gKlxuICogQHBhcmFtIGF1dGhvcml6YXRpb24gLSBBbiBBQSBBdXRob3JpemF0aW9uLlxuICogQHJldHVybnMgQW4gUlBDLWZvcm1hdHRlZCBBQSBBdXRob3JpemF0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9ScGMoYXV0aG9yaXphdGlvbikge1xuICAgIGNvbnN0IHsgYWRkcmVzcywgY2hhaW5JZCwgbm9uY2UsIHNpZ25hdHVyZSB9ID0gYXV0aG9yaXphdGlvbjtcbiAgICByZXR1cm4ge1xuICAgICAgICBhZGRyZXNzLFxuICAgICAgICBjaGFpbklkOiBIZXguZnJvbU51bWJlcihjaGFpbklkKSxcbiAgICAgICAgbm9uY2U6IEhleC5mcm9tTnVtYmVyKG5vbmNlKSxcbiAgICAgICAgc2lnbmF0dXJlOiBTaWduYXR1cmVFbnZlbG9wZS50b1JwYyhzaWduYXR1cmUpLFxuICAgIH07XG59XG4vKipcbiAqIENvbnZlcnRzIGFuIHtAbGluayBveCNBdXRob3JpemF0aW9uVGVtcG8uTGlzdH0gdG8gYW4ge0BsaW5rIG94I0F1dGhvcml6YXRpb25UZW1wby5MaXN0UnBjfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHMgdHdvc2xhc2hcbiAqIGltcG9ydCB7IEF1dGhvcml6YXRpb25UZW1wbyB9IGZyb20gJ294L3RlbXBvJ1xuICpcbiAqIGNvbnN0IGF1dGhvcml6YXRpb24gPSBBdXRob3JpemF0aW9uVGVtcG8udG9ScGNMaXN0KFt7XG4gKiAgIGFkZHJlc3M6ICcweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnLFxuICogICBjaGFpbklkOiAxLFxuICogICBub25jZTogMW4sXG4gKiAgIHNpZ25hdHVyZToge1xuICogICAgIHR5cGU6ICdzZWNwMjU2azEnLFxuICogICAgIHNpZ25hdHVyZToge1xuICogICAgICAgcjogNDQ5NDQ2Mjc4MTMwMDc3NzI4OTczOTE1MzEyMzAwODE2OTUxMDI3MDMyODkxMjMzMzIxODc2OTYxMTUxODExMDQ3MzkyMzkxOTc1MTduLFxuICogICAgICAgczogMzY1Mjg1MDM1MDUxOTI0MzgzMDczNTUxNjQ0NDExMDQwMDEzMTA1NjY1MDUzNTE5ODAzNjkwODUyMDgxNzg3MTI2Nzg3OTkxODExMjBuLFxuICogICAgICAgeVBhcml0eTogMCxcbiAqICAgICB9LFxuICogICB9LFxuICogfV0pXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gYXV0aG9yaXphdGlvbkxpc3QgLSBBbiBBQSBBdXRob3JpemF0aW9uIExpc3QuXG4gKiBAcmV0dXJucyBBbiBSUEMtZm9ybWF0dGVkIEFBIEF1dGhvcml6YXRpb24gTGlzdC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvUnBjTGlzdChhdXRob3JpemF0aW9uTGlzdCkge1xuICAgIHJldHVybiBhdXRob3JpemF0aW9uTGlzdC5tYXAoKHgpID0+IHRvUnBjKHgpKTtcbn1cbi8qKlxuICogQ29udmVydHMgYW4ge0BsaW5rIG94I0F1dGhvcml6YXRpb25UZW1wby5BdXRob3JpemF0aW9uVGVtcG99IHRvIGFuIHtAbGluayBveCNBdXRob3JpemF0aW9uVGVtcG8uVHVwbGV9LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0cyB0d29zbGFzaFxuICogaW1wb3J0IHsgQXV0aG9yaXphdGlvblRlbXBvIH0gZnJvbSAnb3gvdGVtcG8nXG4gKlxuICogY29uc3QgYXV0aG9yaXphdGlvbiA9IEF1dGhvcml6YXRpb25UZW1wby5mcm9tKHtcbiAqICAgYWRkcmVzczogJzB4MTIzNDU2Nzg5MGFiY2RlZjEyMzQ1Njc4OTBhYmNkZWYxMjM0NTY3OCcsXG4gKiAgIGNoYWluSWQ6IDEsXG4gKiAgIG5vbmNlOiA2OW4sXG4gKiB9KVxuICpcbiAqIGNvbnN0IHR1cGxlID0gQXV0aG9yaXphdGlvblRlbXBvLnRvVHVwbGUoYXV0aG9yaXphdGlvbikgLy8gWyFjb2RlIGZvY3VzXVxuICogLy8gQGxvZzogW1xuICogLy8gQGxvZzogICBhZGRyZXNzOiAnMHgxMjM0NTY3ODkwYWJjZGVmMTIzNDU2Nzg5MGFiY2RlZjEyMzQ1Njc4JyxcbiAqIC8vIEBsb2c6ICAgY2hhaW5JZDogMSxcbiAqIC8vIEBsb2c6ICAgbm9uY2U6IDY5bixcbiAqIC8vIEBsb2c6IF1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdXRob3JpemF0aW9uIC0gVGhlIHtAbGluayBveCNBdXRob3JpemF0aW9uVGVtcG8uQXV0aG9yaXphdGlvblRlbXBvfS5cbiAqIEByZXR1cm5zIEFuIFtFSVAtNzcwMl0oaHR0cHM6Ly9laXBzLmV0aGVyZXVtLm9yZy9FSVBTL2VpcC03NzAyKSBBQSBBdXRob3JpemF0aW9uIHR1cGxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9UdXBsZShhdXRob3JpemF0aW9uKSB7XG4gICAgY29uc3QgeyBhZGRyZXNzLCBjaGFpbklkLCBub25jZSB9ID0gYXV0aG9yaXphdGlvbjtcbiAgICBjb25zdCBzaWduYXR1cmUgPSBhdXRob3JpemF0aW9uLnNpZ25hdHVyZVxuICAgICAgICA/IFNpZ25hdHVyZUVudmVsb3BlLnNlcmlhbGl6ZShhdXRob3JpemF0aW9uLnNpZ25hdHVyZSlcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgY2hhaW5JZCA/IEhleC5mcm9tTnVtYmVyKGNoYWluSWQpIDogJzB4JyxcbiAgICAgICAgYWRkcmVzcyxcbiAgICAgICAgbm9uY2UgPyBIZXguZnJvbU51bWJlcihub25jZSkgOiAnMHgnLFxuICAgICAgICAuLi4oc2lnbmF0dXJlID8gW3NpZ25hdHVyZV0gOiBbXSksXG4gICAgXTtcbn1cbi8qKlxuICogQ29udmVydHMgYW4ge0BsaW5rIG94I0F1dGhvcml6YXRpb25UZW1wby5MaXN0fSB0byBhbiB7QGxpbmsgb3gjQXV0aG9yaXphdGlvblRlbXBvLlR1cGxlTGlzdH0uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBBdXRob3JpemF0aW9uVGVtcG8gfSBmcm9tICdveC90ZW1wbydcbiAqXG4gKiBjb25zdCBhdXRob3JpemF0aW9uXzEgPSBBdXRob3JpemF0aW9uVGVtcG8uZnJvbSh7XG4gKiAgIGFkZHJlc3M6ICcweDEyMzQ1Njc4OTBhYmNkZWYxMjM0NTY3ODkwYWJjZGVmMTIzNDU2NzgnLFxuICogICBjaGFpbklkOiAxLFxuICogICBub25jZTogNjluLFxuICogfSlcbiAqIGNvbnN0IGF1dGhvcml6YXRpb25fMiA9IEF1dGhvcml6YXRpb25UZW1wby5mcm9tKHtcbiAqICAgYWRkcmVzczogJzB4MTIzNDU2Nzg5MGFiY2RlZjEyMzQ1Njc4OTBhYmNkZWYxMjM0NTY3OCcsXG4gKiAgIGNoYWluSWQ6IDMsXG4gKiAgIG5vbmNlOiAyMG4sXG4gKiB9KVxuICpcbiAqIGNvbnN0IHR1cGxlID0gQXV0aG9yaXphdGlvblRlbXBvLnRvVHVwbGVMaXN0KFthdXRob3JpemF0aW9uXzEsIGF1dGhvcml6YXRpb25fMl0pIC8vIFshY29kZSBmb2N1c11cbiAqIC8vIEBsb2c6IFtcbiAqIC8vIEBsb2c6ICAgW1xuICogLy8gQGxvZzogICAgIGFkZHJlc3M6ICcweDEyMzQ1Njc4OTBhYmNkZWYxMjM0NTY3ODkwYWJjZGVmMTIzNDU2NzgnLFxuICogLy8gQGxvZzogICAgIGNoYWluSWQ6IDEsXG4gKiAvLyBAbG9nOiAgICAgbm9uY2U6IDY5bixcbiAqIC8vIEBsb2c6ICAgXSxcbiAqIC8vIEBsb2c6ICAgW1xuICogLy8gQGxvZzogICAgIGFkZHJlc3M6ICcweDEyMzQ1Njc4OTBhYmNkZWYxMjM0NTY3ODkwYWJjZGVmMTIzNDU2NzgnLFxuICogLy8gQGxvZzogICAgIGNoYWluSWQ6IDMsXG4gKiAvLyBAbG9nOiAgICAgbm9uY2U6IDIwbixcbiAqIC8vIEBsb2c6ICAgXSxcbiAqIC8vIEBsb2c6IF1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBsaXN0IC0gQW4ge0BsaW5rIG94I0F1dGhvcml6YXRpb25UZW1wby5MaXN0fS5cbiAqIEByZXR1cm5zIEFuIFtFSVAtNzcwMl0oaHR0cHM6Ly9laXBzLmV0aGVyZXVtLm9yZy9FSVBTL2VpcC03NzAyKSBBQSBBdXRob3JpemF0aW9uIHR1cGxlIGxpc3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1R1cGxlTGlzdChsaXN0KSB7XG4gICAgaWYgKCFsaXN0IHx8IGxpc3QubGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm4gW107XG4gICAgY29uc3QgdHVwbGVMaXN0ID0gW107XG4gICAgZm9yIChjb25zdCBhdXRob3JpemF0aW9uIG9mIGxpc3QpXG4gICAgICAgIHR1cGxlTGlzdC5wdXNoKHRvVHVwbGUoYXV0aG9yaXphdGlvbikpO1xuICAgIHJldHVybiB0dXBsZUxpc3Q7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1BdXRob3JpemF0aW9uVGVtcG8uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/ox/_esm/tempo/AuthorizationTempo.js\n\n}");

/***/ },

/***/ "./node_modules/ox/_esm/tempo/KeyAuthorization.js"
/*!********************************************************!*\
  !*** ./node_modules/ox/_esm/tempo/KeyAuthorization.js ***!
  \********************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   from: () => (/* binding */ from),\n/* harmony export */   fromRpc: () => (/* binding */ fromRpc),\n/* harmony export */   fromTuple: () => (/* binding */ fromTuple),\n/* harmony export */   getSignPayload: () => (/* binding */ getSignPayload),\n/* harmony export */   hash: () => (/* binding */ hash),\n/* harmony export */   toRpc: () => (/* binding */ toRpc),\n/* harmony export */   toTuple: () => (/* binding */ toTuple)\n/* harmony export */ });\n/* harmony import */ var _core_Hash_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Hash.js */ \"./node_modules/ox/_esm/core/Hash.js\");\n/* harmony import */ var _core_Hex_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Hex.js */ \"./node_modules/ox/_esm/core/Hex.js\");\n/* harmony import */ var _core_Rlp_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/Rlp.js */ \"./node_modules/ox/_esm/core/Rlp.js\");\n/* harmony import */ var _SignatureEnvelope_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./SignatureEnvelope.js */ \"./node_modules/ox/_esm/tempo/SignatureEnvelope.js\");\n\n\n\n\n/**\n * Converts a Key Authorization object into a typed {@link ox#KeyAuthorization.KeyAuthorization}.\n *\n * Use this to create an unsigned key authorization, then sign it with the root key using\n * {@link ox#KeyAuthorization.(getSignPayload:function)} and attach the signature. The signed authorization\n * can be included in a {@link ox#TxEnvelopeTempo.TxEnvelopeTempo} via the\n * `keyAuthorization` field to provision the access key on-chain.\n *\n * [Access Keys Specification](https://docs.tempo.xyz/protocol/transactions/spec-tempo-transaction#access-keys)\n *\n * @example\n * ### Secp256k1 Key\n *\n * Standard Ethereum ECDSA key using the secp256k1 curve.\n *\n * ```ts twoslash\n * import { Address, Secp256k1, Value } from 'ox'\n * import { KeyAuthorization } from 'ox/tempo'\n *\n * const privateKey = Secp256k1.randomPrivateKey()\n * const address = Address.fromPublicKey(Secp256k1.getPublicKey({ privateKey }))\n *\n * const authorization = KeyAuthorization.from({\n *   address,\n *   expiry: 1234567890,\n *   type: 'secp256k1',\n *   limits: [{\n *     token: '0x20c0000000000000000000000000000000000001',\n *     limit: Value.from('10', 6),\n *   }],\n * })\n * ```\n *\n * @example\n * ### WebCryptoP256 Key\n *\n * ```ts twoslash\n * import { Address, WebCryptoP256, Value } from 'ox'\n * import { KeyAuthorization } from 'ox/tempo'\n *\n * const keyPair = await WebCryptoP256.createKeyPair()\n * const address = Address.fromPublicKey(keyPair.publicKey)\n *\n * const authorization = KeyAuthorization.from({\n *   address,\n *   expiry: 1234567890,\n *   type: 'p256',\n *   limits: [{\n *     token: '0x20c0000000000000000000000000000000000001',\n *     limit: Value.from('10', 6),\n *   }],\n * })\n * ```\n *\n * @example\n * ### Attaching Signatures (Secp256k1)\n *\n * Attach a signature to a Key Authorization using a Secp256k1 private key to\n * authorize another Secp256k1 key on the account.\n *\n * ```ts twoslash\n * import { Address, Secp256k1, Value } from 'ox'\n * import { KeyAuthorization } from 'ox/tempo'\n *\n * const privateKey = '0x...'\n * const address = Address.fromPublicKey(Secp256k1.getPublicKey({ privateKey }))\n *\n * const authorization = KeyAuthorization.from({\n *   address,\n *   expiry: 1234567890,\n *   type: 'secp256k1',\n *   limits: [{\n *     token: '0x20c0000000000000000000000000000000000001',\n *     limit: Value.from('10', 6),\n *   }],\n * })\n *\n * const rootPrivateKey = '0x...'\n * const signature = Secp256k1.sign({\n *   payload: KeyAuthorization.getSignPayload(authorization),\n *   privateKey: rootPrivateKey,\n * })\n *\n * const authorization_signed = KeyAuthorization.from(authorization, { signature })\n * ```\n *\n * @example\n * ### Attaching Signatures (WebAuthn)\n *\n * Attach a signature to a Key Authorization using a WebAuthn credential to\n * authorize a new WebCryptoP256 key on the account.\n *\n * ```ts twoslash\n * // @noErrors\n * import { Address, Value, WebCryptoP256, WebAuthnP256 } from 'ox'\n * import { KeyAuthorization, SignatureEnvelope } from 'ox/tempo'\n *\n * const keyPair = await WebCryptoP256.createKeyPair()\n * const address = Address.fromPublicKey(keyPair.publicKey)\n *\n * const authorization = KeyAuthorization.from({\n *   address,\n *   expiry: 1234567890,\n *   type: 'p256',\n *   limits: [{\n *     token: '0x20c0000000000000000000000000000000000001',\n *     limit: Value.from('10', 6),\n *   }],\n * })\n *\n * const credential = await WebAuthnP256.createCredential({ name: 'Example' })\n *\n * const { metadata, signature } = await WebAuthnP256.sign({\n *   challenge: KeyAuthorization.getSignPayload(authorization),\n *   credentialId: credential.id,\n * })\n *\n * const signatureEnvelope = SignatureEnvelope.from({ // [!code focus]\n *   signature, // [!code focus]\n *   publicKey: credential.publicKey, // [!code focus]\n *   metadata, // [!code focus]\n * })\n * const authorization_signed = KeyAuthorization.from(\n *   authorization,\n *   { signature: signatureEnvelope }, // [!code focus]\n * )\n * ```\n *\n * @param authorization - A Key Authorization tuple in object format.\n * @param options - Key Authorization options.\n * @returns The {@link ox#KeyAuthorization.KeyAuthorization}.\n */\nfunction from(authorization, options = {}) {\n    if (typeof authorization.expiry === 'string')\n        return fromRpc(authorization);\n    if (options.signature)\n        return {\n            ...authorization,\n            signature: _SignatureEnvelope_js__WEBPACK_IMPORTED_MODULE_3__.from(options.signature),\n        };\n    return authorization;\n}\n/**\n * Converts an {@link ox#AuthorizationTempo.Rpc} to an {@link ox#AuthorizationTempo.AuthorizationTempo}.\n *\n * @example\n * ```ts twoslash\n * import { KeyAuthorization } from 'ox/tempo'\n *\n * const keyAuthorization = KeyAuthorization.fromRpc({\n *   expiry: '0x174876e800',\n *   keyId: '0xbe95c3f554e9fc85ec51be69a3d807a0d55bcf2c',\n *   keyType: 'secp256k1',\n *   limits: [{ token: '0x20c0000000000000000000000000000000000001', limit: '0xf4240' }],\n *   signature: {\n *     type: 'secp256k1',\n *     r: '0x635dc2033e60185bb36709c29c75d64ea51dfbd91c32ef4be198e4ceb169fb4d',\n *     s: '0x50c2667ac4c771072746acfdcf1f1483336dcca8bd2df47cd83175dbe60f0540',\n *     yParity: '0x0'\n *   },\n * })\n * ```\n *\n * @param authorization - The RPC-formatted Key Authorization.\n * @returns A signed {@link ox#AuthorizationTempo.AuthorizationTempo}.\n */\nfunction fromRpc(authorization) {\n    const { chainId = '0x0', keyId, expiry = 0, limits, keyType } = authorization;\n    const signature = _SignatureEnvelope_js__WEBPACK_IMPORTED_MODULE_3__.fromRpc(authorization.signature);\n    return {\n        address: keyId,\n        chainId: chainId === '0x' ? 0n : _core_Hex_js__WEBPACK_IMPORTED_MODULE_1__.toBigInt(chainId),\n        expiry: Number(expiry),\n        limits: limits?.map((limit) => ({\n            token: limit.token,\n            limit: BigInt(limit.limit),\n        })),\n        signature,\n        type: keyType,\n    };\n}\n/**\n * Converts an {@link ox#KeyAuthorization.Tuple} to an {@link ox#KeyAuthorization.KeyAuthorization}.\n *\n * @example\n * ```ts twoslash\n * import { KeyAuthorization } from 'ox/tempo'\n *\n * const authorization = KeyAuthorization.fromTuple([\n *   [\n *     '0x',\n *     '0x00',\n *     '0xbe95c3f554e9fc85ec51be69a3d807a0d55bcf2c',\n *     '0x174876e800',\n *     [['0x20c0000000000000000000000000000000000001', '0xf4240']],\n *   ],\n *   '0x01a068a020a209d3d56c46f38cc50a33f704f4a9a10a59377f8dd762ac66910e9b907e865ad05c4035ab5792787d4a0297a43617ae897930a6fe4d822b8faea52064',\n * ])\n * ```\n *\n * @example\n * Unsigned Key Authorization tuple (no signature):\n *\n * ```ts twoslash\n * import { KeyAuthorization } from 'ox/tempo'\n *\n * const authorization = KeyAuthorization.fromTuple([\n *   [\n *     '0x',\n *     '0x00',\n *     '0xbe95c3f554e9fc85ec51be69a3d807a0d55bcf2c',\n *     '0x174876e800',\n *     [['0x20c0000000000000000000000000000000000001', '0xf4240']],\n *   ],\n * ])\n * ```\n *\n * @param tuple - The Key Authorization tuple.\n * @returns The {@link ox#KeyAuthorization.KeyAuthorization}.\n */\nfunction fromTuple(tuple) {\n    const [authorization, signatureSerialized] = tuple;\n    const [chainId, keyType_hex, keyId, expiry, limits] = authorization;\n    const keyType = (() => {\n        switch (keyType_hex) {\n            case '0x':\n            case '0x00':\n                return 'secp256k1';\n            case '0x01':\n                return 'p256';\n            case '0x02':\n                return 'webAuthn';\n            default:\n                throw new Error(`Invalid key type: ${keyType_hex}`);\n        }\n    })();\n    const args = {\n        address: keyId,\n        expiry: typeof expiry !== 'undefined' ? hexToNumber(expiry) : undefined,\n        type: keyType,\n        ...(chainId !== '0x' ? { chainId: _core_Hex_js__WEBPACK_IMPORTED_MODULE_1__.toBigInt(chainId) } : {}),\n        ...(typeof expiry !== 'undefined' ? { expiry: hexToNumber(expiry) } : {}),\n        ...(typeof limits !== 'undefined'\n            ? {\n                limits: limits.map(([token, limit]) => ({\n                    token,\n                    limit: hexToBigint(limit),\n                })),\n            }\n            : {}),\n    };\n    if (signatureSerialized)\n        args.signature = _SignatureEnvelope_js__WEBPACK_IMPORTED_MODULE_3__.deserialize(signatureSerialized);\n    return from(args);\n}\n/**\n * Computes the sign payload for an {@link ox#KeyAuthorization.KeyAuthorization}.\n *\n * The root key must sign this payload to authorize the access key. The resulting signature\n * is attached to the key authorization via {@link ox#KeyAuthorization.(from:function)} with the\n * `signature` option.\n *\n * [Access Keys Specification](https://docs.tempo.xyz/protocol/transactions/spec-tempo-transaction#access-keys)\n *\n * @example\n * ```ts twoslash\n * import { Address, Secp256k1, Value } from 'ox'\n * import { KeyAuthorization } from 'ox/tempo'\n *\n * const privateKey = '0x...'\n * const address = Address.fromPublicKey(Secp256k1.getPublicKey({ privateKey }))\n *\n * const authorization = KeyAuthorization.from({\n *   address,\n *   expiry: 1234567890,\n *   type: 'secp256k1',\n *   limits: [{\n *     token: '0x20c0000000000000000000000000000000000001',\n *     limit: Value.from('10', 6),\n *   }],\n * })\n *\n * const payload = KeyAuthorization.getSignPayload(authorization) // [!code focus]\n * ```\n *\n * @param authorization - The {@link ox#KeyAuthorization.KeyAuthorization}.\n * @returns The sign payload.\n */\nfunction getSignPayload(authorization) {\n    return hash(authorization);\n}\n/**\n * Computes the hash for an {@link ox#KeyAuthorization.KeyAuthorization}.\n *\n * @example\n * ```ts twoslash\n * import { KeyAuthorization } from 'ox/tempo'\n * import { Value } from 'ox'\n *\n * const authorization = KeyAuthorization.from({\n *   expiry: 1234567890,\n *   address: '0xbe95c3f554e9fc85ec51be69a3d807a0d55bcf2c',\n *   type: 'secp256k1',\n *   limits: [{\n *     token: '0x20c0000000000000000000000000000000000001',\n *     limit: Value.from('10', 6)\n *   }],\n * })\n *\n * const hash = KeyAuthorization.hash(authorization) // [!code focus]\n * ```\n *\n * @param authorization - The {@link ox#KeyAuthorization.KeyAuthorization}.\n * @returns The hash.\n */\nfunction hash(authorization) {\n    const [authorizationTuple] = toTuple(authorization);\n    const serialized = _core_Rlp_js__WEBPACK_IMPORTED_MODULE_2__.fromHex(authorizationTuple);\n    return _core_Hash_js__WEBPACK_IMPORTED_MODULE_0__.keccak256(serialized);\n}\n/**\n * Converts an {@link ox#KeyAuthorization.KeyAuthorization} to an {@link ox#KeyAuthorization.Rpc}.\n *\n * @example\n * ```ts twoslash\n * import { KeyAuthorization } from 'ox/tempo'\n * import { Value } from 'ox'\n *\n * const authorization = KeyAuthorization.toRpc({\n *   expiry: 1234567890,\n *   address: '0xbe95c3f554e9fc85ec51be69a3d807a0d55bcf2c',\n *   type: 'secp256k1',\n *   limits: [{\n *     token: '0x20c0000000000000000000000000000000000001',\n *     limit: Value.from('10', 6)\n *   }],\n *   signature: {\n *     type: 'secp256k1',\n *     signature: {\n *       r: 44944627813007772897391531230081695102703289123332187696115181104739239197517n,\n *       s: 36528503505192438307355164441104001310566505351980369085208178712678799181120n,\n *       yParity: 0,\n *     },\n *   },\n * })\n * ```\n *\n * @param authorization - A Key Authorization.\n * @returns An RPC-formatted Key Authorization.\n */\nfunction toRpc(authorization) {\n    const { address, chainId = 0n, expiry, limits, type, signature, } = authorization;\n    return {\n        chainId: chainId === 0n ? '0x' : _core_Hex_js__WEBPACK_IMPORTED_MODULE_1__.fromNumber(chainId),\n        expiry: typeof expiry === 'number' ? _core_Hex_js__WEBPACK_IMPORTED_MODULE_1__.fromNumber(expiry) : null,\n        limits: limits?.map(({ token, limit }) => ({\n            token,\n            limit: _core_Hex_js__WEBPACK_IMPORTED_MODULE_1__.fromNumber(limit),\n        })),\n        keyId: address,\n        signature: _SignatureEnvelope_js__WEBPACK_IMPORTED_MODULE_3__.toRpc(signature),\n        keyType: type,\n    };\n}\n/**\n * Converts an {@link ox#KeyAuthorization.KeyAuthorization} to an {@link ox#KeyAuthorization.Tuple}.\n *\n * @example\n * ```ts twoslash\n * import { KeyAuthorization } from 'ox/tempo'\n * import { Value } from 'ox'\n *\n * const authorization = KeyAuthorization.from({\n *   expiry: 1234567890,\n *   address: '0xbe95c3f554e9fc85ec51be69a3d807a0d55bcf2c',\n *   type: 'secp256k1',\n *   limits: [{\n *     token: '0x20c0000000000000000000000000000000000001',\n *     limit: Value.from('10', 6)\n *   }],\n * })\n *\n * const tuple = KeyAuthorization.toTuple(authorization) // [!code focus]\n * // @log: [\n * // @log:   '0x174876e800',\n * // @log:   [['0x20c0000000000000000000000000000000000001', '0xf4240']],\n * // @log:   '0xbe95c3f554e9fc85ec51be69a3d807a0d55bcf2c',\n * // @log:   'secp256k1',\n * // @log: ]\n * ```\n *\n * @param authorization - The {@link ox#KeyAuthorization.KeyAuthorization}.\n * @returns A Tempo Key Authorization tuple.\n */\nfunction toTuple(authorization) {\n    const { address, chainId = 0n, expiry, limits } = authorization;\n    const signature = authorization.signature\n        ? _SignatureEnvelope_js__WEBPACK_IMPORTED_MODULE_3__.serialize(authorization.signature)\n        : undefined;\n    const type = (() => {\n        switch (authorization.type) {\n            case 'secp256k1':\n                return '0x';\n            case 'p256':\n                return '0x01';\n            case 'webAuthn':\n                return '0x02';\n            default:\n                throw new Error(`Invalid key type: ${authorization.type}`);\n        }\n    })();\n    const authorizationTuple = [\n        bigintToHex(chainId),\n        type,\n        address,\n        typeof expiry === 'number' ? numberToHex(expiry) : undefined,\n        limits?.map((limit) => [limit.token, bigintToHex(limit.limit)]) ??\n            undefined,\n    ].filter(Boolean);\n    return [authorizationTuple, ...(signature ? [signature] : [])];\n}\nfunction bigintToHex(value) {\n    return value === 0n ? '0x' : _core_Hex_js__WEBPACK_IMPORTED_MODULE_1__.fromNumber(value);\n}\nfunction numberToHex(value) {\n    return value === 0 ? '0x' : _core_Hex_js__WEBPACK_IMPORTED_MODULE_1__.fromNumber(value);\n}\nfunction hexToBigint(hex) {\n    return hex === '0x' ? 0n : BigInt(hex);\n}\nfunction hexToNumber(hex) {\n    return hex === '0x' ? 0 : _core_Hex_js__WEBPACK_IMPORTED_MODULE_1__.toNumber(hex);\n}\n//# sourceMappingURL=KeyAuthorization.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvb3gvX2VzbS90ZW1wby9LZXlBdXRob3JpemF0aW9uLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL294L19lc20vdGVtcG8vS2V5QXV0aG9yaXphdGlvbi5qcz9mOWMyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCAqIGFzIEhhc2ggZnJvbSAnLi4vY29yZS9IYXNoLmpzJztcbmltcG9ydCAqIGFzIEhleCBmcm9tICcuLi9jb3JlL0hleC5qcyc7XG5pbXBvcnQgKiBhcyBSbHAgZnJvbSAnLi4vY29yZS9SbHAuanMnO1xuaW1wb3J0ICogYXMgU2lnbmF0dXJlRW52ZWxvcGUgZnJvbSAnLi9TaWduYXR1cmVFbnZlbG9wZS5qcyc7XG4vKipcbiAqIENvbnZlcnRzIGEgS2V5IEF1dGhvcml6YXRpb24gb2JqZWN0IGludG8gYSB0eXBlZCB7QGxpbmsgb3gjS2V5QXV0aG9yaXphdGlvbi5LZXlBdXRob3JpemF0aW9ufS5cbiAqXG4gKiBVc2UgdGhpcyB0byBjcmVhdGUgYW4gdW5zaWduZWQga2V5IGF1dGhvcml6YXRpb24sIHRoZW4gc2lnbiBpdCB3aXRoIHRoZSByb290IGtleSB1c2luZ1xuICoge0BsaW5rIG94I0tleUF1dGhvcml6YXRpb24uKGdldFNpZ25QYXlsb2FkOmZ1bmN0aW9uKX0gYW5kIGF0dGFjaCB0aGUgc2lnbmF0dXJlLiBUaGUgc2lnbmVkIGF1dGhvcml6YXRpb25cbiAqIGNhbiBiZSBpbmNsdWRlZCBpbiBhIHtAbGluayBveCNUeEVudmVsb3BlVGVtcG8uVHhFbnZlbG9wZVRlbXBvfSB2aWEgdGhlXG4gKiBga2V5QXV0aG9yaXphdGlvbmAgZmllbGQgdG8gcHJvdmlzaW9uIHRoZSBhY2Nlc3Mga2V5IG9uLWNoYWluLlxuICpcbiAqIFtBY2Nlc3MgS2V5cyBTcGVjaWZpY2F0aW9uXShodHRwczovL2RvY3MudGVtcG8ueHl6L3Byb3RvY29sL3RyYW5zYWN0aW9ucy9zcGVjLXRlbXBvLXRyYW5zYWN0aW9uI2FjY2Vzcy1rZXlzKVxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgU2VjcDI1NmsxIEtleVxuICpcbiAqIFN0YW5kYXJkIEV0aGVyZXVtIEVDRFNBIGtleSB1c2luZyB0aGUgc2VjcDI1NmsxIGN1cnZlLlxuICpcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBBZGRyZXNzLCBTZWNwMjU2azEsIFZhbHVlIH0gZnJvbSAnb3gnXG4gKiBpbXBvcnQgeyBLZXlBdXRob3JpemF0aW9uIH0gZnJvbSAnb3gvdGVtcG8nXG4gKlxuICogY29uc3QgcHJpdmF0ZUtleSA9IFNlY3AyNTZrMS5yYW5kb21Qcml2YXRlS2V5KClcbiAqIGNvbnN0IGFkZHJlc3MgPSBBZGRyZXNzLmZyb21QdWJsaWNLZXkoU2VjcDI1NmsxLmdldFB1YmxpY0tleSh7IHByaXZhdGVLZXkgfSkpXG4gKlxuICogY29uc3QgYXV0aG9yaXphdGlvbiA9IEtleUF1dGhvcml6YXRpb24uZnJvbSh7XG4gKiAgIGFkZHJlc3MsXG4gKiAgIGV4cGlyeTogMTIzNDU2Nzg5MCxcbiAqICAgdHlwZTogJ3NlY3AyNTZrMScsXG4gKiAgIGxpbWl0czogW3tcbiAqICAgICB0b2tlbjogJzB4MjBjMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMScsXG4gKiAgICAgbGltaXQ6IFZhbHVlLmZyb20oJzEwJywgNiksXG4gKiAgIH1dLFxuICogfSlcbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgV2ViQ3J5cHRvUDI1NiBLZXlcbiAqXG4gKiBgYGB0cyB0d29zbGFzaFxuICogaW1wb3J0IHsgQWRkcmVzcywgV2ViQ3J5cHRvUDI1NiwgVmFsdWUgfSBmcm9tICdveCdcbiAqIGltcG9ydCB7IEtleUF1dGhvcml6YXRpb24gfSBmcm9tICdveC90ZW1wbydcbiAqXG4gKiBjb25zdCBrZXlQYWlyID0gYXdhaXQgV2ViQ3J5cHRvUDI1Ni5jcmVhdGVLZXlQYWlyKClcbiAqIGNvbnN0IGFkZHJlc3MgPSBBZGRyZXNzLmZyb21QdWJsaWNLZXkoa2V5UGFpci5wdWJsaWNLZXkpXG4gKlxuICogY29uc3QgYXV0aG9yaXphdGlvbiA9IEtleUF1dGhvcml6YXRpb24uZnJvbSh7XG4gKiAgIGFkZHJlc3MsXG4gKiAgIGV4cGlyeTogMTIzNDU2Nzg5MCxcbiAqICAgdHlwZTogJ3AyNTYnLFxuICogICBsaW1pdHM6IFt7XG4gKiAgICAgdG9rZW46ICcweDIwYzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDEnLFxuICogICAgIGxpbWl0OiBWYWx1ZS5mcm9tKCcxMCcsIDYpLFxuICogICB9XSxcbiAqIH0pXG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIEF0dGFjaGluZyBTaWduYXR1cmVzIChTZWNwMjU2azEpXG4gKlxuICogQXR0YWNoIGEgc2lnbmF0dXJlIHRvIGEgS2V5IEF1dGhvcml6YXRpb24gdXNpbmcgYSBTZWNwMjU2azEgcHJpdmF0ZSBrZXkgdG9cbiAqIGF1dGhvcml6ZSBhbm90aGVyIFNlY3AyNTZrMSBrZXkgb24gdGhlIGFjY291bnQuXG4gKlxuICogYGBgdHMgdHdvc2xhc2hcbiAqIGltcG9ydCB7IEFkZHJlc3MsIFNlY3AyNTZrMSwgVmFsdWUgfSBmcm9tICdveCdcbiAqIGltcG9ydCB7IEtleUF1dGhvcml6YXRpb24gfSBmcm9tICdveC90ZW1wbydcbiAqXG4gKiBjb25zdCBwcml2YXRlS2V5ID0gJzB4Li4uJ1xuICogY29uc3QgYWRkcmVzcyA9IEFkZHJlc3MuZnJvbVB1YmxpY0tleShTZWNwMjU2azEuZ2V0UHVibGljS2V5KHsgcHJpdmF0ZUtleSB9KSlcbiAqXG4gKiBjb25zdCBhdXRob3JpemF0aW9uID0gS2V5QXV0aG9yaXphdGlvbi5mcm9tKHtcbiAqICAgYWRkcmVzcyxcbiAqICAgZXhwaXJ5OiAxMjM0NTY3ODkwLFxuICogICB0eXBlOiAnc2VjcDI1NmsxJyxcbiAqICAgbGltaXRzOiBbe1xuICogICAgIHRva2VuOiAnMHgyMGMwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxJyxcbiAqICAgICBsaW1pdDogVmFsdWUuZnJvbSgnMTAnLCA2KSxcbiAqICAgfV0sXG4gKiB9KVxuICpcbiAqIGNvbnN0IHJvb3RQcml2YXRlS2V5ID0gJzB4Li4uJ1xuICogY29uc3Qgc2lnbmF0dXJlID0gU2VjcDI1NmsxLnNpZ24oe1xuICogICBwYXlsb2FkOiBLZXlBdXRob3JpemF0aW9uLmdldFNpZ25QYXlsb2FkKGF1dGhvcml6YXRpb24pLFxuICogICBwcml2YXRlS2V5OiByb290UHJpdmF0ZUtleSxcbiAqIH0pXG4gKlxuICogY29uc3QgYXV0aG9yaXphdGlvbl9zaWduZWQgPSBLZXlBdXRob3JpemF0aW9uLmZyb20oYXV0aG9yaXphdGlvbiwgeyBzaWduYXR1cmUgfSlcbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgQXR0YWNoaW5nIFNpZ25hdHVyZXMgKFdlYkF1dGhuKVxuICpcbiAqIEF0dGFjaCBhIHNpZ25hdHVyZSB0byBhIEtleSBBdXRob3JpemF0aW9uIHVzaW5nIGEgV2ViQXV0aG4gY3JlZGVudGlhbCB0b1xuICogYXV0aG9yaXplIGEgbmV3IFdlYkNyeXB0b1AyNTYga2V5IG9uIHRoZSBhY2NvdW50LlxuICpcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiAvLyBAbm9FcnJvcnNcbiAqIGltcG9ydCB7IEFkZHJlc3MsIFZhbHVlLCBXZWJDcnlwdG9QMjU2LCBXZWJBdXRoblAyNTYgfSBmcm9tICdveCdcbiAqIGltcG9ydCB7IEtleUF1dGhvcml6YXRpb24sIFNpZ25hdHVyZUVudmVsb3BlIH0gZnJvbSAnb3gvdGVtcG8nXG4gKlxuICogY29uc3Qga2V5UGFpciA9IGF3YWl0IFdlYkNyeXB0b1AyNTYuY3JlYXRlS2V5UGFpcigpXG4gKiBjb25zdCBhZGRyZXNzID0gQWRkcmVzcy5mcm9tUHVibGljS2V5KGtleVBhaXIucHVibGljS2V5KVxuICpcbiAqIGNvbnN0IGF1dGhvcml6YXRpb24gPSBLZXlBdXRob3JpemF0aW9uLmZyb20oe1xuICogICBhZGRyZXNzLFxuICogICBleHBpcnk6IDEyMzQ1Njc4OTAsXG4gKiAgIHR5cGU6ICdwMjU2JyxcbiAqICAgbGltaXRzOiBbe1xuICogICAgIHRva2VuOiAnMHgyMGMwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxJyxcbiAqICAgICBsaW1pdDogVmFsdWUuZnJvbSgnMTAnLCA2KSxcbiAqICAgfV0sXG4gKiB9KVxuICpcbiAqIGNvbnN0IGNyZWRlbnRpYWwgPSBhd2FpdCBXZWJBdXRoblAyNTYuY3JlYXRlQ3JlZGVudGlhbCh7IG5hbWU6ICdFeGFtcGxlJyB9KVxuICpcbiAqIGNvbnN0IHsgbWV0YWRhdGEsIHNpZ25hdHVyZSB9ID0gYXdhaXQgV2ViQXV0aG5QMjU2LnNpZ24oe1xuICogICBjaGFsbGVuZ2U6IEtleUF1dGhvcml6YXRpb24uZ2V0U2lnblBheWxvYWQoYXV0aG9yaXphdGlvbiksXG4gKiAgIGNyZWRlbnRpYWxJZDogY3JlZGVudGlhbC5pZCxcbiAqIH0pXG4gKlxuICogY29uc3Qgc2lnbmF0dXJlRW52ZWxvcGUgPSBTaWduYXR1cmVFbnZlbG9wZS5mcm9tKHsgLy8gWyFjb2RlIGZvY3VzXVxuICogICBzaWduYXR1cmUsIC8vIFshY29kZSBmb2N1c11cbiAqICAgcHVibGljS2V5OiBjcmVkZW50aWFsLnB1YmxpY0tleSwgLy8gWyFjb2RlIGZvY3VzXVxuICogICBtZXRhZGF0YSwgLy8gWyFjb2RlIGZvY3VzXVxuICogfSlcbiAqIGNvbnN0IGF1dGhvcml6YXRpb25fc2lnbmVkID0gS2V5QXV0aG9yaXphdGlvbi5mcm9tKFxuICogICBhdXRob3JpemF0aW9uLFxuICogICB7IHNpZ25hdHVyZTogc2lnbmF0dXJlRW52ZWxvcGUgfSwgLy8gWyFjb2RlIGZvY3VzXVxuICogKVxuICogYGBgXG4gKlxuICogQHBhcmFtIGF1dGhvcml6YXRpb24gLSBBIEtleSBBdXRob3JpemF0aW9uIHR1cGxlIGluIG9iamVjdCBmb3JtYXQuXG4gKiBAcGFyYW0gb3B0aW9ucyAtIEtleSBBdXRob3JpemF0aW9uIG9wdGlvbnMuXG4gKiBAcmV0dXJucyBUaGUge0BsaW5rIG94I0tleUF1dGhvcml6YXRpb24uS2V5QXV0aG9yaXphdGlvbn0uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tKGF1dGhvcml6YXRpb24sIG9wdGlvbnMgPSB7fSkge1xuICAgIGlmICh0eXBlb2YgYXV0aG9yaXphdGlvbi5leHBpcnkgPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gZnJvbVJwYyhhdXRob3JpemF0aW9uKTtcbiAgICBpZiAob3B0aW9ucy5zaWduYXR1cmUpXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5hdXRob3JpemF0aW9uLFxuICAgICAgICAgICAgc2lnbmF0dXJlOiBTaWduYXR1cmVFbnZlbG9wZS5mcm9tKG9wdGlvbnMuc2lnbmF0dXJlKSxcbiAgICAgICAgfTtcbiAgICByZXR1cm4gYXV0aG9yaXphdGlvbjtcbn1cbi8qKlxuICogQ29udmVydHMgYW4ge0BsaW5rIG94I0F1dGhvcml6YXRpb25UZW1wby5ScGN9IHRvIGFuIHtAbGluayBveCNBdXRob3JpemF0aW9uVGVtcG8uQXV0aG9yaXphdGlvblRlbXBvfS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHMgdHdvc2xhc2hcbiAqIGltcG9ydCB7IEtleUF1dGhvcml6YXRpb24gfSBmcm9tICdveC90ZW1wbydcbiAqXG4gKiBjb25zdCBrZXlBdXRob3JpemF0aW9uID0gS2V5QXV0aG9yaXphdGlvbi5mcm9tUnBjKHtcbiAqICAgZXhwaXJ5OiAnMHgxNzQ4NzZlODAwJyxcbiAqICAga2V5SWQ6ICcweGJlOTVjM2Y1NTRlOWZjODVlYzUxYmU2OWEzZDgwN2EwZDU1YmNmMmMnLFxuICogICBrZXlUeXBlOiAnc2VjcDI1NmsxJyxcbiAqICAgbGltaXRzOiBbeyB0b2tlbjogJzB4MjBjMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMScsIGxpbWl0OiAnMHhmNDI0MCcgfV0sXG4gKiAgIHNpZ25hdHVyZToge1xuICogICAgIHR5cGU6ICdzZWNwMjU2azEnLFxuICogICAgIHI6ICcweDYzNWRjMjAzM2U2MDE4NWJiMzY3MDljMjljNzVkNjRlYTUxZGZiZDkxYzMyZWY0YmUxOThlNGNlYjE2OWZiNGQnLFxuICogICAgIHM6ICcweDUwYzI2NjdhYzRjNzcxMDcyNzQ2YWNmZGNmMWYxNDgzMzM2ZGNjYThiZDJkZjQ3Y2Q4MzE3NWRiZTYwZjA1NDAnLFxuICogICAgIHlQYXJpdHk6ICcweDAnXG4gKiAgIH0sXG4gKiB9KVxuICogYGBgXG4gKlxuICogQHBhcmFtIGF1dGhvcml6YXRpb24gLSBUaGUgUlBDLWZvcm1hdHRlZCBLZXkgQXV0aG9yaXphdGlvbi5cbiAqIEByZXR1cm5zIEEgc2lnbmVkIHtAbGluayBveCNBdXRob3JpemF0aW9uVGVtcG8uQXV0aG9yaXphdGlvblRlbXBvfS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21ScGMoYXV0aG9yaXphdGlvbikge1xuICAgIGNvbnN0IHsgY2hhaW5JZCA9ICcweDAnLCBrZXlJZCwgZXhwaXJ5ID0gMCwgbGltaXRzLCBrZXlUeXBlIH0gPSBhdXRob3JpemF0aW9uO1xuICAgIGNvbnN0IHNpZ25hdHVyZSA9IFNpZ25hdHVyZUVudmVsb3BlLmZyb21ScGMoYXV0aG9yaXphdGlvbi5zaWduYXR1cmUpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGFkZHJlc3M6IGtleUlkLFxuICAgICAgICBjaGFpbklkOiBjaGFpbklkID09PSAnMHgnID8gMG4gOiBIZXgudG9CaWdJbnQoY2hhaW5JZCksXG4gICAgICAgIGV4cGlyeTogTnVtYmVyKGV4cGlyeSksXG4gICAgICAgIGxpbWl0czogbGltaXRzPy5tYXAoKGxpbWl0KSA9PiAoe1xuICAgICAgICAgICAgdG9rZW46IGxpbWl0LnRva2VuLFxuICAgICAgICAgICAgbGltaXQ6IEJpZ0ludChsaW1pdC5saW1pdCksXG4gICAgICAgIH0pKSxcbiAgICAgICAgc2lnbmF0dXJlLFxuICAgICAgICB0eXBlOiBrZXlUeXBlLFxuICAgIH07XG59XG4vKipcbiAqIENvbnZlcnRzIGFuIHtAbGluayBveCNLZXlBdXRob3JpemF0aW9uLlR1cGxlfSB0byBhbiB7QGxpbmsgb3gjS2V5QXV0aG9yaXphdGlvbi5LZXlBdXRob3JpemF0aW9ufS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHMgdHdvc2xhc2hcbiAqIGltcG9ydCB7IEtleUF1dGhvcml6YXRpb24gfSBmcm9tICdveC90ZW1wbydcbiAqXG4gKiBjb25zdCBhdXRob3JpemF0aW9uID0gS2V5QXV0aG9yaXphdGlvbi5mcm9tVHVwbGUoW1xuICogICBbXG4gKiAgICAgJzB4JyxcbiAqICAgICAnMHgwMCcsXG4gKiAgICAgJzB4YmU5NWMzZjU1NGU5ZmM4NWVjNTFiZTY5YTNkODA3YTBkNTViY2YyYycsXG4gKiAgICAgJzB4MTc0ODc2ZTgwMCcsXG4gKiAgICAgW1snMHgyMGMwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxJywgJzB4ZjQyNDAnXV0sXG4gKiAgIF0sXG4gKiAgICcweDAxYTA2OGEwMjBhMjA5ZDNkNTZjNDZmMzhjYzUwYTMzZjcwNGY0YTlhMTBhNTkzNzdmOGRkNzYyYWM2NjkxMGU5YjkwN2U4NjVhZDA1YzQwMzVhYjU3OTI3ODdkNGEwMjk3YTQzNjE3YWU4OTc5MzBhNmZlNGQ4MjJiOGZhZWE1MjA2NCcsXG4gKiBdKVxuICogYGBgXG4gKlxuICogQGV4YW1wbGVcbiAqIFVuc2lnbmVkIEtleSBBdXRob3JpemF0aW9uIHR1cGxlIChubyBzaWduYXR1cmUpOlxuICpcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBLZXlBdXRob3JpemF0aW9uIH0gZnJvbSAnb3gvdGVtcG8nXG4gKlxuICogY29uc3QgYXV0aG9yaXphdGlvbiA9IEtleUF1dGhvcml6YXRpb24uZnJvbVR1cGxlKFtcbiAqICAgW1xuICogICAgICcweCcsXG4gKiAgICAgJzB4MDAnLFxuICogICAgICcweGJlOTVjM2Y1NTRlOWZjODVlYzUxYmU2OWEzZDgwN2EwZDU1YmNmMmMnLFxuICogICAgICcweDE3NDg3NmU4MDAnLFxuICogICAgIFtbJzB4MjBjMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMScsICcweGY0MjQwJ11dLFxuICogICBdLFxuICogXSlcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB0dXBsZSAtIFRoZSBLZXkgQXV0aG9yaXphdGlvbiB0dXBsZS5cbiAqIEByZXR1cm5zIFRoZSB7QGxpbmsgb3gjS2V5QXV0aG9yaXphdGlvbi5LZXlBdXRob3JpemF0aW9ufS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb21UdXBsZSh0dXBsZSkge1xuICAgIGNvbnN0IFthdXRob3JpemF0aW9uLCBzaWduYXR1cmVTZXJpYWxpemVkXSA9IHR1cGxlO1xuICAgIGNvbnN0IFtjaGFpbklkLCBrZXlUeXBlX2hleCwga2V5SWQsIGV4cGlyeSwgbGltaXRzXSA9IGF1dGhvcml6YXRpb247XG4gICAgY29uc3Qga2V5VHlwZSA9ICgoKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoa2V5VHlwZV9oZXgpIHtcbiAgICAgICAgICAgIGNhc2UgJzB4JzpcbiAgICAgICAgICAgIGNhc2UgJzB4MDAnOlxuICAgICAgICAgICAgICAgIHJldHVybiAnc2VjcDI1NmsxJztcbiAgICAgICAgICAgIGNhc2UgJzB4MDEnOlxuICAgICAgICAgICAgICAgIHJldHVybiAncDI1Nic7XG4gICAgICAgICAgICBjYXNlICcweDAyJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3dlYkF1dGhuJztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGtleSB0eXBlOiAke2tleVR5cGVfaGV4fWApO1xuICAgICAgICB9XG4gICAgfSkoKTtcbiAgICBjb25zdCBhcmdzID0ge1xuICAgICAgICBhZGRyZXNzOiBrZXlJZCxcbiAgICAgICAgZXhwaXJ5OiB0eXBlb2YgZXhwaXJ5ICE9PSAndW5kZWZpbmVkJyA/IGhleFRvTnVtYmVyKGV4cGlyeSkgOiB1bmRlZmluZWQsXG4gICAgICAgIHR5cGU6IGtleVR5cGUsXG4gICAgICAgIC4uLihjaGFpbklkICE9PSAnMHgnID8geyBjaGFpbklkOiBIZXgudG9CaWdJbnQoY2hhaW5JZCkgfSA6IHt9KSxcbiAgICAgICAgLi4uKHR5cGVvZiBleHBpcnkgIT09ICd1bmRlZmluZWQnID8geyBleHBpcnk6IGhleFRvTnVtYmVyKGV4cGlyeSkgfSA6IHt9KSxcbiAgICAgICAgLi4uKHR5cGVvZiBsaW1pdHMgIT09ICd1bmRlZmluZWQnXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICBsaW1pdHM6IGxpbWl0cy5tYXAoKFt0b2tlbiwgbGltaXRdKSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICB0b2tlbixcbiAgICAgICAgICAgICAgICAgICAgbGltaXQ6IGhleFRvQmlnaW50KGxpbWl0KSxcbiAgICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHt9KSxcbiAgICB9O1xuICAgIGlmIChzaWduYXR1cmVTZXJpYWxpemVkKVxuICAgICAgICBhcmdzLnNpZ25hdHVyZSA9IFNpZ25hdHVyZUVudmVsb3BlLmRlc2VyaWFsaXplKHNpZ25hdHVyZVNlcmlhbGl6ZWQpO1xuICAgIHJldHVybiBmcm9tKGFyZ3MpO1xufVxuLyoqXG4gKiBDb21wdXRlcyB0aGUgc2lnbiBwYXlsb2FkIGZvciBhbiB7QGxpbmsgb3gjS2V5QXV0aG9yaXphdGlvbi5LZXlBdXRob3JpemF0aW9ufS5cbiAqXG4gKiBUaGUgcm9vdCBrZXkgbXVzdCBzaWduIHRoaXMgcGF5bG9hZCB0byBhdXRob3JpemUgdGhlIGFjY2VzcyBrZXkuIFRoZSByZXN1bHRpbmcgc2lnbmF0dXJlXG4gKiBpcyBhdHRhY2hlZCB0byB0aGUga2V5IGF1dGhvcml6YXRpb24gdmlhIHtAbGluayBveCNLZXlBdXRob3JpemF0aW9uLihmcm9tOmZ1bmN0aW9uKX0gd2l0aCB0aGVcbiAqIGBzaWduYXR1cmVgIG9wdGlvbi5cbiAqXG4gKiBbQWNjZXNzIEtleXMgU3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9kb2NzLnRlbXBvLnh5ei9wcm90b2NvbC90cmFuc2FjdGlvbnMvc3BlYy10ZW1wby10cmFuc2FjdGlvbiNhY2Nlc3Mta2V5cylcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHMgdHdvc2xhc2hcbiAqIGltcG9ydCB7IEFkZHJlc3MsIFNlY3AyNTZrMSwgVmFsdWUgfSBmcm9tICdveCdcbiAqIGltcG9ydCB7IEtleUF1dGhvcml6YXRpb24gfSBmcm9tICdveC90ZW1wbydcbiAqXG4gKiBjb25zdCBwcml2YXRlS2V5ID0gJzB4Li4uJ1xuICogY29uc3QgYWRkcmVzcyA9IEFkZHJlc3MuZnJvbVB1YmxpY0tleShTZWNwMjU2azEuZ2V0UHVibGljS2V5KHsgcHJpdmF0ZUtleSB9KSlcbiAqXG4gKiBjb25zdCBhdXRob3JpemF0aW9uID0gS2V5QXV0aG9yaXphdGlvbi5mcm9tKHtcbiAqICAgYWRkcmVzcyxcbiAqICAgZXhwaXJ5OiAxMjM0NTY3ODkwLFxuICogICB0eXBlOiAnc2VjcDI1NmsxJyxcbiAqICAgbGltaXRzOiBbe1xuICogICAgIHRva2VuOiAnMHgyMGMwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxJyxcbiAqICAgICBsaW1pdDogVmFsdWUuZnJvbSgnMTAnLCA2KSxcbiAqICAgfV0sXG4gKiB9KVxuICpcbiAqIGNvbnN0IHBheWxvYWQgPSBLZXlBdXRob3JpemF0aW9uLmdldFNpZ25QYXlsb2FkKGF1dGhvcml6YXRpb24pIC8vIFshY29kZSBmb2N1c11cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdXRob3JpemF0aW9uIC0gVGhlIHtAbGluayBveCNLZXlBdXRob3JpemF0aW9uLktleUF1dGhvcml6YXRpb259LlxuICogQHJldHVybnMgVGhlIHNpZ24gcGF5bG9hZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNpZ25QYXlsb2FkKGF1dGhvcml6YXRpb24pIHtcbiAgICByZXR1cm4gaGFzaChhdXRob3JpemF0aW9uKTtcbn1cbi8qKlxuICogQ29tcHV0ZXMgdGhlIGhhc2ggZm9yIGFuIHtAbGluayBveCNLZXlBdXRob3JpemF0aW9uLktleUF1dGhvcml6YXRpb259LlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0cyB0d29zbGFzaFxuICogaW1wb3J0IHsgS2V5QXV0aG9yaXphdGlvbiB9IGZyb20gJ294L3RlbXBvJ1xuICogaW1wb3J0IHsgVmFsdWUgfSBmcm9tICdveCdcbiAqXG4gKiBjb25zdCBhdXRob3JpemF0aW9uID0gS2V5QXV0aG9yaXphdGlvbi5mcm9tKHtcbiAqICAgZXhwaXJ5OiAxMjM0NTY3ODkwLFxuICogICBhZGRyZXNzOiAnMHhiZTk1YzNmNTU0ZTlmYzg1ZWM1MWJlNjlhM2Q4MDdhMGQ1NWJjZjJjJyxcbiAqICAgdHlwZTogJ3NlY3AyNTZrMScsXG4gKiAgIGxpbWl0czogW3tcbiAqICAgICB0b2tlbjogJzB4MjBjMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMScsXG4gKiAgICAgbGltaXQ6IFZhbHVlLmZyb20oJzEwJywgNilcbiAqICAgfV0sXG4gKiB9KVxuICpcbiAqIGNvbnN0IGhhc2ggPSBLZXlBdXRob3JpemF0aW9uLmhhc2goYXV0aG9yaXphdGlvbikgLy8gWyFjb2RlIGZvY3VzXVxuICogYGBgXG4gKlxuICogQHBhcmFtIGF1dGhvcml6YXRpb24gLSBUaGUge0BsaW5rIG94I0tleUF1dGhvcml6YXRpb24uS2V5QXV0aG9yaXphdGlvbn0uXG4gKiBAcmV0dXJucyBUaGUgaGFzaC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc2goYXV0aG9yaXphdGlvbikge1xuICAgIGNvbnN0IFthdXRob3JpemF0aW9uVHVwbGVdID0gdG9UdXBsZShhdXRob3JpemF0aW9uKTtcbiAgICBjb25zdCBzZXJpYWxpemVkID0gUmxwLmZyb21IZXgoYXV0aG9yaXphdGlvblR1cGxlKTtcbiAgICByZXR1cm4gSGFzaC5rZWNjYWsyNTYoc2VyaWFsaXplZCk7XG59XG4vKipcbiAqIENvbnZlcnRzIGFuIHtAbGluayBveCNLZXlBdXRob3JpemF0aW9uLktleUF1dGhvcml6YXRpb259IHRvIGFuIHtAbGluayBveCNLZXlBdXRob3JpemF0aW9uLlJwY30uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBLZXlBdXRob3JpemF0aW9uIH0gZnJvbSAnb3gvdGVtcG8nXG4gKiBpbXBvcnQgeyBWYWx1ZSB9IGZyb20gJ294J1xuICpcbiAqIGNvbnN0IGF1dGhvcml6YXRpb24gPSBLZXlBdXRob3JpemF0aW9uLnRvUnBjKHtcbiAqICAgZXhwaXJ5OiAxMjM0NTY3ODkwLFxuICogICBhZGRyZXNzOiAnMHhiZTk1YzNmNTU0ZTlmYzg1ZWM1MWJlNjlhM2Q4MDdhMGQ1NWJjZjJjJyxcbiAqICAgdHlwZTogJ3NlY3AyNTZrMScsXG4gKiAgIGxpbWl0czogW3tcbiAqICAgICB0b2tlbjogJzB4MjBjMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMScsXG4gKiAgICAgbGltaXQ6IFZhbHVlLmZyb20oJzEwJywgNilcbiAqICAgfV0sXG4gKiAgIHNpZ25hdHVyZToge1xuICogICAgIHR5cGU6ICdzZWNwMjU2azEnLFxuICogICAgIHNpZ25hdHVyZToge1xuICogICAgICAgcjogNDQ5NDQ2Mjc4MTMwMDc3NzI4OTczOTE1MzEyMzAwODE2OTUxMDI3MDMyODkxMjMzMzIxODc2OTYxMTUxODExMDQ3MzkyMzkxOTc1MTduLFxuICogICAgICAgczogMzY1Mjg1MDM1MDUxOTI0MzgzMDczNTUxNjQ0NDExMDQwMDEzMTA1NjY1MDUzNTE5ODAzNjkwODUyMDgxNzg3MTI2Nzg3OTkxODExMjBuLFxuICogICAgICAgeVBhcml0eTogMCxcbiAqICAgICB9LFxuICogICB9LFxuICogfSlcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdXRob3JpemF0aW9uIC0gQSBLZXkgQXV0aG9yaXphdGlvbi5cbiAqIEByZXR1cm5zIEFuIFJQQy1mb3JtYXR0ZWQgS2V5IEF1dGhvcml6YXRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1JwYyhhdXRob3JpemF0aW9uKSB7XG4gICAgY29uc3QgeyBhZGRyZXNzLCBjaGFpbklkID0gMG4sIGV4cGlyeSwgbGltaXRzLCB0eXBlLCBzaWduYXR1cmUsIH0gPSBhdXRob3JpemF0aW9uO1xuICAgIHJldHVybiB7XG4gICAgICAgIGNoYWluSWQ6IGNoYWluSWQgPT09IDBuID8gJzB4JyA6IEhleC5mcm9tTnVtYmVyKGNoYWluSWQpLFxuICAgICAgICBleHBpcnk6IHR5cGVvZiBleHBpcnkgPT09ICdudW1iZXInID8gSGV4LmZyb21OdW1iZXIoZXhwaXJ5KSA6IG51bGwsXG4gICAgICAgIGxpbWl0czogbGltaXRzPy5tYXAoKHsgdG9rZW4sIGxpbWl0IH0pID0+ICh7XG4gICAgICAgICAgICB0b2tlbixcbiAgICAgICAgICAgIGxpbWl0OiBIZXguZnJvbU51bWJlcihsaW1pdCksXG4gICAgICAgIH0pKSxcbiAgICAgICAga2V5SWQ6IGFkZHJlc3MsXG4gICAgICAgIHNpZ25hdHVyZTogU2lnbmF0dXJlRW52ZWxvcGUudG9ScGMoc2lnbmF0dXJlKSxcbiAgICAgICAga2V5VHlwZTogdHlwZSxcbiAgICB9O1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhbiB7QGxpbmsgb3gjS2V5QXV0aG9yaXphdGlvbi5LZXlBdXRob3JpemF0aW9ufSB0byBhbiB7QGxpbmsgb3gjS2V5QXV0aG9yaXphdGlvbi5UdXBsZX0uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBLZXlBdXRob3JpemF0aW9uIH0gZnJvbSAnb3gvdGVtcG8nXG4gKiBpbXBvcnQgeyBWYWx1ZSB9IGZyb20gJ294J1xuICpcbiAqIGNvbnN0IGF1dGhvcml6YXRpb24gPSBLZXlBdXRob3JpemF0aW9uLmZyb20oe1xuICogICBleHBpcnk6IDEyMzQ1Njc4OTAsXG4gKiAgIGFkZHJlc3M6ICcweGJlOTVjM2Y1NTRlOWZjODVlYzUxYmU2OWEzZDgwN2EwZDU1YmNmMmMnLFxuICogICB0eXBlOiAnc2VjcDI1NmsxJyxcbiAqICAgbGltaXRzOiBbe1xuICogICAgIHRva2VuOiAnMHgyMGMwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxJyxcbiAqICAgICBsaW1pdDogVmFsdWUuZnJvbSgnMTAnLCA2KVxuICogICB9XSxcbiAqIH0pXG4gKlxuICogY29uc3QgdHVwbGUgPSBLZXlBdXRob3JpemF0aW9uLnRvVHVwbGUoYXV0aG9yaXphdGlvbikgLy8gWyFjb2RlIGZvY3VzXVxuICogLy8gQGxvZzogW1xuICogLy8gQGxvZzogICAnMHgxNzQ4NzZlODAwJyxcbiAqIC8vIEBsb2c6ICAgW1snMHgyMGMwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxJywgJzB4ZjQyNDAnXV0sXG4gKiAvLyBAbG9nOiAgICcweGJlOTVjM2Y1NTRlOWZjODVlYzUxYmU2OWEzZDgwN2EwZDU1YmNmMmMnLFxuICogLy8gQGxvZzogICAnc2VjcDI1NmsxJyxcbiAqIC8vIEBsb2c6IF1cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhdXRob3JpemF0aW9uIC0gVGhlIHtAbGluayBveCNLZXlBdXRob3JpemF0aW9uLktleUF1dGhvcml6YXRpb259LlxuICogQHJldHVybnMgQSBUZW1wbyBLZXkgQXV0aG9yaXphdGlvbiB0dXBsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvVHVwbGUoYXV0aG9yaXphdGlvbikge1xuICAgIGNvbnN0IHsgYWRkcmVzcywgY2hhaW5JZCA9IDBuLCBleHBpcnksIGxpbWl0cyB9ID0gYXV0aG9yaXphdGlvbjtcbiAgICBjb25zdCBzaWduYXR1cmUgPSBhdXRob3JpemF0aW9uLnNpZ25hdHVyZVxuICAgICAgICA/IFNpZ25hdHVyZUVudmVsb3BlLnNlcmlhbGl6ZShhdXRob3JpemF0aW9uLnNpZ25hdHVyZSlcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgdHlwZSA9ICgoKSA9PiB7XG4gICAgICAgIHN3aXRjaCAoYXV0aG9yaXphdGlvbi50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdzZWNwMjU2azEnOlxuICAgICAgICAgICAgICAgIHJldHVybiAnMHgnO1xuICAgICAgICAgICAgY2FzZSAncDI1Nic6XG4gICAgICAgICAgICAgICAgcmV0dXJuICcweDAxJztcbiAgICAgICAgICAgIGNhc2UgJ3dlYkF1dGhuJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gJzB4MDInO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQga2V5IHR5cGU6ICR7YXV0aG9yaXphdGlvbi50eXBlfWApO1xuICAgICAgICB9XG4gICAgfSkoKTtcbiAgICBjb25zdCBhdXRob3JpemF0aW9uVHVwbGUgPSBbXG4gICAgICAgIGJpZ2ludFRvSGV4KGNoYWluSWQpLFxuICAgICAgICB0eXBlLFxuICAgICAgICBhZGRyZXNzLFxuICAgICAgICB0eXBlb2YgZXhwaXJ5ID09PSAnbnVtYmVyJyA/IG51bWJlclRvSGV4KGV4cGlyeSkgOiB1bmRlZmluZWQsXG4gICAgICAgIGxpbWl0cz8ubWFwKChsaW1pdCkgPT4gW2xpbWl0LnRva2VuLCBiaWdpbnRUb0hleChsaW1pdC5saW1pdCldKSA/P1xuICAgICAgICAgICAgdW5kZWZpbmVkLFxuICAgIF0uZmlsdGVyKEJvb2xlYW4pO1xuICAgIHJldHVybiBbYXV0aG9yaXphdGlvblR1cGxlLCAuLi4oc2lnbmF0dXJlID8gW3NpZ25hdHVyZV0gOiBbXSldO1xufVxuZnVuY3Rpb24gYmlnaW50VG9IZXgodmFsdWUpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IDBuID8gJzB4JyA6IEhleC5mcm9tTnVtYmVyKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIG51bWJlclRvSGV4KHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlID09PSAwID8gJzB4JyA6IEhleC5mcm9tTnVtYmVyKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGhleFRvQmlnaW50KGhleCkge1xuICAgIHJldHVybiBoZXggPT09ICcweCcgPyAwbiA6IEJpZ0ludChoZXgpO1xufVxuZnVuY3Rpb24gaGV4VG9OdW1iZXIoaGV4KSB7XG4gICAgcmV0dXJuIGhleCA9PT0gJzB4JyA/IDAgOiBIZXgudG9OdW1iZXIoaGV4KTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUtleUF1dGhvcml6YXRpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/ox/_esm/tempo/KeyAuthorization.js\n\n}");

/***/ },

/***/ "./node_modules/ox/_esm/tempo/SignatureEnvelope.js"
/*!*********************************************************!*\
  !*** ./node_modules/ox/_esm/tempo/SignatureEnvelope.js ***!
  \*********************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CoercionError: () => (/* binding */ CoercionError),\n/* harmony export */   InvalidSerializedError: () => (/* binding */ InvalidSerializedError),\n/* harmony export */   MissingPropertiesError: () => (/* binding */ MissingPropertiesError),\n/* harmony export */   VerificationError: () => (/* binding */ VerificationError),\n/* harmony export */   assert: () => (/* binding */ assert),\n/* harmony export */   deserialize: () => (/* binding */ deserialize),\n/* harmony export */   from: () => (/* binding */ from),\n/* harmony export */   fromRpc: () => (/* binding */ fromRpc),\n/* harmony export */   getType: () => (/* binding */ getType),\n/* harmony export */   magicBytes: () => (/* binding */ magicBytes),\n/* harmony export */   serialize: () => (/* binding */ serialize),\n/* harmony export */   toRpc: () => (/* binding */ toRpc),\n/* harmony export */   types: () => (/* binding */ types),\n/* harmony export */   validate: () => (/* binding */ validate),\n/* harmony export */   verify: () => (/* binding */ verify)\n/* harmony export */ });\n/* harmony import */ var _core_Address_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Address.js */ \"./node_modules/ox/_esm/core/Address.js\");\n/* harmony import */ var _core_Errors_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Errors.js */ \"./node_modules/ox/_esm/core/Errors.js\");\n/* harmony import */ var _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/Hex.js */ \"./node_modules/ox/_esm/core/Hex.js\");\n/* harmony import */ var _core_Json_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Json.js */ \"./node_modules/ox/_esm/core/Json.js\");\n/* harmony import */ var _core_P256_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/P256.js */ \"./node_modules/ox/_esm/core/P256.js\");\n/* harmony import */ var _core_Secp256k1_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/Secp256k1.js */ \"./node_modules/ox/_esm/core/Secp256k1.js\");\n/* harmony import */ var _core_Signature_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/Signature.js */ \"./node_modules/ox/_esm/core/Signature.js\");\n/* harmony import */ var _core_WebAuthnP256_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/WebAuthnP256.js */ \"./node_modules/ox/_esm/core/WebAuthnP256.js\");\n\n\n\n\n\n\n\n\n/** Signature type identifiers for encoding/decoding */\nconst serializedP256Type = '0x01';\nconst serializedWebAuthnType = '0x02';\nconst serializedKeychainType = '0x03';\n/** Serialized magic identifier for Tempo signature envelopes. */\nconst magicBytes = '0x7777777777777777777777777777777777777777777777777777777777777777'; // 32 \"T\"s\n/** List of supported signature types. */\nconst types = ['secp256k1', 'p256', 'webAuthn'];\n/**\n * Asserts that a {@link ox#SignatureEnvelope.SignatureEnvelope} is valid.\n *\n * @example\n * ```ts twoslash\n * import { SignatureEnvelope } from 'ox/tempo'\n *\n * SignatureEnvelope.assert({\n *   type: 'secp256k1',\n *   signature: {\n *     r: 0n,\n *     s: 0n,\n *     yParity: 0,\n *   },\n * })\n * ```\n *\n * @param envelope - The signature envelope to assert.\n * @throws `CoercionError` if the envelope type cannot be determined.\n */\nfunction assert(envelope) {\n    const type = getType(envelope);\n    if (type === 'secp256k1') {\n        const secp256k1 = envelope;\n        _core_Signature_js__WEBPACK_IMPORTED_MODULE_6__.assert(secp256k1.signature);\n        return;\n    }\n    if (type === 'p256') {\n        const p256 = envelope;\n        const missing = [];\n        if (typeof p256.signature?.r !== 'bigint')\n            missing.push('signature.r');\n        if (typeof p256.signature?.s !== 'bigint')\n            missing.push('signature.s');\n        if (typeof p256.prehash !== 'boolean')\n            missing.push('prehash');\n        if (!p256.publicKey)\n            missing.push('publicKey');\n        else {\n            if (typeof p256.publicKey.x !== 'bigint')\n                missing.push('publicKey.x');\n            if (typeof p256.publicKey.y !== 'bigint')\n                missing.push('publicKey.y');\n        }\n        if (missing.length > 0)\n            throw new MissingPropertiesError({ envelope, missing, type: 'p256' });\n        return;\n    }\n    if (type === 'webAuthn') {\n        const webauthn = envelope;\n        const missing = [];\n        if (typeof webauthn.signature?.r !== 'bigint')\n            missing.push('signature.r');\n        if (typeof webauthn.signature?.s !== 'bigint')\n            missing.push('signature.s');\n        if (!webauthn.metadata)\n            missing.push('metadata');\n        else {\n            if (!webauthn.metadata.authenticatorData)\n                missing.push('metadata.authenticatorData');\n            if (!webauthn.metadata.clientDataJSON)\n                missing.push('metadata.clientDataJSON');\n        }\n        if (!webauthn.publicKey)\n            missing.push('publicKey');\n        else {\n            if (typeof webauthn.publicKey.x !== 'bigint')\n                missing.push('publicKey.x');\n            if (typeof webauthn.publicKey.y !== 'bigint')\n                missing.push('publicKey.y');\n        }\n        if (missing.length > 0)\n            throw new MissingPropertiesError({ envelope, missing, type: 'webAuthn' });\n        return;\n    }\n    if (type === 'keychain') {\n        const keychain = envelope;\n        assert(keychain.inner);\n        return;\n    }\n}\n/**\n * Deserializes a hex-encoded signature envelope into a typed signature object.\n *\n * Wire format detection:\n * - 65 bytes (no prefix): secp256k1 signature\n * - Type `0x01` + 129 bytes: P256 signature (r, s, pubKeyX, pubKeyY, prehash)\n * - Type `0x02` + variable: WebAuthn signature (webauthnData, r, s, pubKeyX, pubKeyY)\n * - Type `0x03` + 20 bytes + inner: Keychain signature (userAddress + inner signature)\n *\n * [Signature Types](https://docs.tempo.xyz/protocol/transactions/spec-tempo-transaction#signature-types)\n *\n * @example\n * ```ts twoslash\n * import { SignatureEnvelope } from 'ox/tempo'\n *\n * const envelope = SignatureEnvelope.deserialize('0x...')\n * ```\n *\n * @param serialized - The hex-encoded signature envelope to deserialize.\n * @returns The deserialized signature envelope.\n * @throws `CoercionError` if the serialized value cannot be coerced to a valid signature envelope.\n */\nfunction deserialize(value) {\n    const serialized = value.endsWith(magicBytes.slice(2))\n        ? _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.slice(value, 0, -_core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.size(magicBytes))\n        : value;\n    const size = _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.size(serialized);\n    // Backward compatibility: 65 bytes means secp256k1 without type identifier\n    if (size === 65) {\n        const signature = _core_Signature_js__WEBPACK_IMPORTED_MODULE_6__.fromHex(serialized);\n        _core_Signature_js__WEBPACK_IMPORTED_MODULE_6__.assert(signature);\n        return { signature, type: 'secp256k1' };\n    }\n    // For all other lengths, first byte is the type identifier\n    const typeId = _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.slice(serialized, 0, 1);\n    const data = _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.slice(serialized, 1);\n    const dataSize = _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.size(data);\n    if (typeId === serializedP256Type) {\n        // P256: 32 (r) + 32 (s) + 32 (pubKeyX) + 32 (pubKeyY) + 1 (prehash) = 129 bytes\n        if (dataSize !== 129)\n            throw new InvalidSerializedError({\n                reason: `Invalid P256 signature envelope size: expected 129 bytes, got ${dataSize} bytes`,\n                serialized,\n            });\n        return {\n            publicKey: {\n                prefix: 4,\n                x: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.toBigInt(_core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.slice(data, 64, 96)),\n                y: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.toBigInt(_core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.slice(data, 96, 128)),\n            },\n            prehash: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.toNumber(_core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.slice(data, 128, 129)) !== 0,\n            signature: {\n                r: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.toBigInt(_core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.slice(data, 0, 32)),\n                s: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.toBigInt(_core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.slice(data, 32, 64)),\n            },\n            type: 'p256',\n        };\n    }\n    if (typeId === serializedWebAuthnType) {\n        // WebAuthn: variable (webauthnData) + 32 (r) + 32 (s) + 32 (pubKeyX) + 32 (pubKeyY)\n        // Minimum: 128 bytes (at least some authenticator data + signature components)\n        if (dataSize < 128)\n            throw new InvalidSerializedError({\n                reason: `Invalid WebAuthn signature envelope size: expected at least 128 bytes, got ${dataSize} bytes`,\n                serialized,\n            });\n        const webauthnDataSize = dataSize - 128;\n        const webauthnData = _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.slice(data, 0, webauthnDataSize);\n        // Parse webauthnData into authenticatorData and clientDataJSON\n        // According to the Rust code, it's authenticatorData || clientDataJSON\n        // We need to find the split point (minimum authenticatorData is 37 bytes)\n        let authenticatorData;\n        let clientDataJSON;\n        // Try to find the JSON start (clientDataJSON should start with '{')\n        for (let split = 37; split < webauthnDataSize; split++) {\n            const potentialJson = _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.toString(_core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.slice(webauthnData, split));\n            if (potentialJson.startsWith('{') && potentialJson.endsWith('}')) {\n                try {\n                    JSON.parse(potentialJson);\n                    authenticatorData = _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.slice(webauthnData, 0, split);\n                    clientDataJSON = potentialJson;\n                    break;\n                }\n                catch { }\n            }\n        }\n        if (!authenticatorData || !clientDataJSON)\n            throw new InvalidSerializedError({\n                reason: 'Unable to parse WebAuthn metadata: could not extract valid authenticatorData and clientDataJSON',\n                serialized,\n            });\n        return {\n            publicKey: {\n                prefix: 4,\n                x: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.toBigInt(_core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.slice(data, webauthnDataSize + 64, webauthnDataSize + 96)),\n                y: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.toBigInt(_core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.slice(data, webauthnDataSize + 96, webauthnDataSize + 128)),\n            },\n            metadata: {\n                authenticatorData,\n                clientDataJSON,\n            },\n            signature: {\n                r: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.toBigInt(_core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.slice(data, webauthnDataSize, webauthnDataSize + 32)),\n                s: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.toBigInt(_core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.slice(data, webauthnDataSize + 32, webauthnDataSize + 64)),\n            },\n            type: 'webAuthn',\n        };\n    }\n    if (typeId === serializedKeychainType) {\n        const userAddress = _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.slice(data, 0, 20);\n        const inner = deserialize(_core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.slice(data, 20));\n        return {\n            userAddress,\n            inner,\n            type: 'keychain',\n        };\n    }\n    throw new InvalidSerializedError({\n        reason: `Unknown signature type identifier: ${typeId}. Expected ${serializedP256Type} (P256) or ${serializedWebAuthnType} (WebAuthn)`,\n        serialized,\n    });\n}\n/**\n * Coerces a value to a signature envelope.\n *\n * Accepts either a serialized hex string or an existing signature envelope object.\n * Use this to wrap raw signatures from {@link ox#Secp256k1.(sign:function)}, {@link ox#P256.(sign:function)},\n * {@link ox#WebCryptoP256.(sign:function)}, or {@link ox#WebAuthnP256.(sign:function)} into the envelope format\n * required by Tempo transactions.\n *\n * [Signature Types](https://docs.tempo.xyz/protocol/transactions/spec-tempo-transaction#signature-types)\n *\n * @example\n * ### Secp256k1\n *\n * Standard Ethereum ECDSA signature using the secp256k1 curve.\n *\n * ```ts twoslash\n * import { Secp256k1 } from 'ox'\n * import { SignatureEnvelope } from 'ox/tempo'\n *\n * const privateKey = Secp256k1.randomPrivateKey()\n * const signature = Secp256k1.sign({ payload: '0xdeadbeef', privateKey })\n *\n * const envelope = SignatureEnvelope.from(signature)\n * ```\n *\n * @example\n * ### P256\n *\n * ECDSA signature using the P-256 (secp256r1) curve. Requires embedding the\n * public key.\n *\n * ```ts twoslash\n * import { P256 } from 'ox'\n * import { SignatureEnvelope } from 'ox/tempo'\n *\n * const { privateKey, publicKey } = P256.createKeyPair()\n * const signature = P256.sign({ payload: '0xdeadbeef', privateKey })\n *\n * const envelope = SignatureEnvelope.from({\n *   signature,\n *   publicKey,\n * })\n * ```\n *\n * @example\n * ### P256 (WebCrypto)\n *\n * When using WebCrypto keys, `prehash` must be `true` since WebCrypto always\n * SHA256 hashes the digest before signing.\n *\n * ```ts twoslash\n * // @noErrors\n * import { WebCryptoP256 } from 'ox'\n * import { SignatureEnvelope } from 'ox/tempo'\n *\n * const { privateKey, publicKey } = await WebCryptoP256.createKeyPair()\n * const signature = await WebCryptoP256.sign({ payload: '0xdeadbeef', privateKey })\n *\n * const envelope = SignatureEnvelope.from({\n *   signature,\n *   publicKey,\n *   prehash: true,\n * })\n * ```\n *\n * @example\n * ### WebAuthn\n *\n * Passkey-based signature using WebAuthn. Includes authenticator metadata\n * (authenticatorData and clientDataJSON) along with the P-256 signature and\n * public key.\n *\n * ```ts twoslash\n * // @noErrors\n * import { WebAuthnP256 } from 'ox'\n * import { SignatureEnvelope } from 'ox/tempo'\n *\n * const credential = await WebAuthnP256.createCredential({\n *   name: 'Example',\n * })\n *\n * const { metadata, signature } = await WebAuthnP256.sign({\n *   challenge: '0xdeadbeef',\n *   credentialId: credential.id,\n * })\n *\n * const envelope = SignatureEnvelope.from({\n *   signature,\n *   publicKey: credential.publicKey,\n *   metadata,\n * })\n * ```\n *\n * @example\n * ### Keychain\n *\n * Wraps another signature type with a user address, used for delegated signing\n * via access keys on behalf of a root account.\n *\n * ```ts twoslash\n * import { Secp256k1 } from 'ox'\n * import { SignatureEnvelope } from 'ox/tempo'\n *\n * const privateKey = Secp256k1.randomPrivateKey()\n * const signature = Secp256k1.sign({ payload: '0xdeadbeef', privateKey })\n *\n * const envelope = SignatureEnvelope.from({\n *   userAddress: '0x1234567890123456789012345678901234567890',\n *   inner: SignatureEnvelope.from(signature),\n * })\n * ```\n *\n * @param value - The value to coerce (either a hex string or signature envelope).\n * @returns The signature envelope.\n */\nfunction from(value) {\n    if (typeof value === 'string')\n        return deserialize(value);\n    if (typeof value === 'object' &&\n        value !== null &&\n        'r' in value &&\n        's' in value &&\n        'yParity' in value)\n        return { signature: value, type: 'secp256k1' };\n    const type = getType(value);\n    return {\n        ...value,\n        ...(type === 'p256' ? { prehash: value.prehash } : {}),\n        type,\n    };\n}\n/**\n * Converts an RPC-formatted signature envelope to a typed signature envelope.\n *\n * @example\n * ```ts twoslash\n * import { SignatureEnvelope } from 'ox/tempo'\n *\n * const envelope = SignatureEnvelope.fromRpc({\n *   r: '0x0',\n *   s: '0x0',\n *   yParity: '0x0',\n *   type: 'secp256k1',\n * })\n * ```\n *\n * @param envelope - The RPC signature envelope to convert.\n * @returns The signature envelope with bigint values.\n */\nfunction fromRpc(envelope) {\n    if (envelope.type === 'secp256k1')\n        return {\n            signature: _core_Signature_js__WEBPACK_IMPORTED_MODULE_6__.fromRpc(envelope),\n            type: 'secp256k1',\n        };\n    if (envelope.type === 'p256') {\n        return {\n            prehash: envelope.preHash,\n            publicKey: {\n                prefix: 4,\n                x: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.toBigInt(envelope.pubKeyX),\n                y: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.toBigInt(envelope.pubKeyY),\n            },\n            signature: {\n                r: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.toBigInt(envelope.r),\n                s: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.toBigInt(envelope.s),\n            },\n            type: 'p256',\n        };\n    }\n    if (envelope.type === 'webAuthn') {\n        const webauthnData = envelope.webauthnData;\n        const webauthnDataSize = _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.size(webauthnData);\n        // Parse webauthnData into authenticatorData and clientDataJSON\n        let authenticatorData;\n        let clientDataJSON;\n        // Try to find the JSON start (clientDataJSON should start with '{')\n        for (let split = 37; split < webauthnDataSize; split++) {\n            const potentialJson = _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.toString(_core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.slice(webauthnData, split));\n            if (potentialJson.startsWith('{') && potentialJson.endsWith('}')) {\n                try {\n                    JSON.parse(potentialJson);\n                    authenticatorData = _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.slice(webauthnData, 0, split);\n                    clientDataJSON = potentialJson;\n                    break;\n                }\n                catch { }\n            }\n        }\n        if (!authenticatorData || !clientDataJSON)\n            throw new InvalidSerializedError({\n                reason: 'Unable to parse WebAuthn metadata: could not extract valid authenticatorData and clientDataJSON',\n                serialized: webauthnData,\n            });\n        return {\n            metadata: {\n                authenticatorData,\n                clientDataJSON,\n            },\n            publicKey: {\n                prefix: 4,\n                x: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.toBigInt(envelope.pubKeyX),\n                y: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.toBigInt(envelope.pubKeyY),\n            },\n            signature: {\n                r: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.toBigInt(envelope.r),\n                s: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.toBigInt(envelope.s),\n            },\n            type: 'webAuthn',\n        };\n    }\n    if (envelope.type === 'keychain' ||\n        ('userAddress' in envelope && 'signature' in envelope))\n        return {\n            type: 'keychain',\n            userAddress: envelope.userAddress,\n            inner: fromRpc(envelope.signature),\n        };\n    throw new CoercionError({ envelope });\n}\n/**\n * Determines the signature type of an envelope.\n *\n * @example\n * ```ts twoslash\n * import { SignatureEnvelope } from 'ox/tempo'\n *\n * const type = SignatureEnvelope.getType({\n *   signature: { r: 0n, s: 0n, yParity: 0 },\n * })\n * // @log: 'secp256k1'\n * ```\n *\n * @param envelope - The signature envelope to inspect.\n * @returns The signature type ('secp256k1', 'p256', or 'webAuthn').\n * @throws `CoercionError` if the envelope type cannot be determined.\n */\nfunction getType(envelope) {\n    if (typeof envelope !== 'object' || envelope === null)\n        throw new CoercionError({ envelope });\n    if ('type' in envelope && envelope.type)\n        return envelope.type;\n    // Detect secp256k1 signature (backwards compatibility: also support flat structure)\n    if ('signature' in envelope &&\n        !('publicKey' in envelope) &&\n        typeof envelope.signature === 'object' &&\n        envelope.signature !== null &&\n        'r' in envelope.signature &&\n        's' in envelope.signature &&\n        'yParity' in envelope.signature)\n        return 'secp256k1';\n    // Detect secp256k1 signature (flat structure)\n    if ('r' in envelope && 's' in envelope && 'yParity' in envelope)\n        return 'secp256k1';\n    // Detect P256 signature\n    if ('signature' in envelope &&\n        'prehash' in envelope &&\n        'publicKey' in envelope &&\n        typeof envelope.prehash === 'boolean')\n        return 'p256';\n    // Detect WebAuthn signature\n    if ('signature' in envelope &&\n        'metadata' in envelope &&\n        'publicKey' in envelope)\n        return 'webAuthn';\n    // Detect Keychain signature\n    if ('userAddress' in envelope && 'inner' in envelope)\n        return 'keychain';\n    throw new CoercionError({\n        envelope,\n    });\n}\n/**\n * Serializes a signature envelope to a hex-encoded string.\n *\n * Wire format:\n * - secp256k1: 65 bytes (no type prefix, for backward compatibility)\n * - P256: `0x01` + r (32) + s (32) + pubKeyX (32) + pubKeyY (32) + prehash (1) = 130 bytes\n * - WebAuthn: `0x02` + webauthnData (variable) + r (32) + s (32) + pubKeyX (32) + pubKeyY (32)\n * - Keychain: `0x03` + userAddress (20) + inner signature (recursive)\n *\n * [Signature Types](https://docs.tempo.xyz/protocol/transactions/spec-tempo-transaction#signature-types)\n *\n * @example\n * ```ts twoslash\n * import { SignatureEnvelope } from 'ox/tempo'\n *\n * const serialized = SignatureEnvelope.serialize({\n *   signature: { r: 0n, s: 0n, yParity: 0 },\n *   type: 'secp256k1',\n * })\n * ```\n *\n * @param envelope - The signature envelope to serialize.\n * @returns The hex-encoded serialized signature.\n * @throws `CoercionError` if the envelope cannot be serialized.\n */\nfunction serialize(envelope, options = {}) {\n    const type = getType(envelope);\n    // Backward compatibility: no type identifier for secp256k1\n    if (type === 'secp256k1') {\n        const secp256k1 = envelope;\n        return _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.concat(_core_Signature_js__WEBPACK_IMPORTED_MODULE_6__.toHex(secp256k1.signature), options.magic ? magicBytes : '0x');\n    }\n    if (type === 'p256') {\n        const p256 = envelope;\n        // Format: 1 byte (type) + 32 (r) + 32 (s) + 32 (pubKeyX) + 32 (pubKeyY) + 1 (prehash)\n        return _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.concat(serializedP256Type, _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.fromNumber(p256.signature.r, { size: 32 }), _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.fromNumber(p256.signature.s, { size: 32 }), _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.fromNumber(p256.publicKey.x, { size: 32 }), _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.fromNumber(p256.publicKey.y, { size: 32 }), _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.fromNumber(p256.prehash ? 1 : 0, { size: 1 }), options.magic ? magicBytes : '0x');\n    }\n    if (type === 'webAuthn') {\n        const webauthn = envelope;\n        // Format: 1 byte (type) + variable (authenticatorData || clientDataJSON) + 32 (r) + 32 (s) + 32 (pubKeyX) + 32 (pubKeyY)\n        const webauthnData = _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.concat(webauthn.metadata.authenticatorData, _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.fromString(webauthn.metadata.clientDataJSON));\n        return _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.concat(serializedWebAuthnType, webauthnData, _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.fromNumber(webauthn.signature.r, { size: 32 }), _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.fromNumber(webauthn.signature.s, { size: 32 }), _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.fromNumber(webauthn.publicKey.x, { size: 32 }), _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.fromNumber(webauthn.publicKey.y, { size: 32 }), options.magic ? magicBytes : '0x');\n    }\n    if (type === 'keychain') {\n        const keychain = envelope;\n        return _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.concat(serializedKeychainType, keychain.userAddress, serialize(keychain.inner), options.magic ? magicBytes : '0x');\n    }\n    throw new CoercionError({ envelope });\n}\n/**\n * Converts a signature envelope to RPC format.\n *\n * @example\n * ```ts twoslash\n * import { SignatureEnvelope } from 'ox/tempo'\n *\n * const rpc = SignatureEnvelope.toRpc({\n *   signature: { r: 0n, s: 0n, yParity: 0 },\n *   type: 'secp256k1',\n * })\n * ```\n *\n * @param envelope - The signature envelope to convert.\n * @returns The RPC signature envelope with hex values.\n */\nfunction toRpc(envelope) {\n    const type = getType(envelope);\n    if (type === 'secp256k1') {\n        const secp256k1 = envelope;\n        return {\n            ..._core_Signature_js__WEBPACK_IMPORTED_MODULE_6__.toRpc(secp256k1.signature),\n            type: 'secp256k1',\n        };\n    }\n    if (type === 'p256') {\n        const p256 = envelope;\n        return {\n            preHash: p256.prehash,\n            pubKeyX: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.fromNumber(p256.publicKey.x, { size: 32 }),\n            pubKeyY: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.fromNumber(p256.publicKey.y, { size: 32 }),\n            r: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.fromNumber(p256.signature.r, { size: 32 }),\n            s: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.fromNumber(p256.signature.s, { size: 32 }),\n            type: 'p256',\n        };\n    }\n    if (type === 'webAuthn') {\n        const webauthn = envelope;\n        const webauthnData = _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.concat(webauthn.metadata.authenticatorData, _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.fromString(webauthn.metadata.clientDataJSON));\n        return {\n            pubKeyX: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.fromNumber(webauthn.publicKey.x, { size: 32 }),\n            pubKeyY: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.fromNumber(webauthn.publicKey.y, { size: 32 }),\n            r: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.fromNumber(webauthn.signature.r, { size: 32 }),\n            s: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.fromNumber(webauthn.signature.s, { size: 32 }),\n            type: 'webAuthn',\n            webauthnData,\n        };\n    }\n    if (type === 'keychain') {\n        const keychain = envelope;\n        return {\n            type: 'keychain',\n            userAddress: keychain.userAddress,\n            signature: toRpc(keychain.inner),\n        };\n    }\n    throw new CoercionError({ envelope });\n}\n/**\n * Validates a signature envelope. Returns `true` if the envelope is valid, `false` otherwise.\n *\n * @example\n * ```ts twoslash\n * import { SignatureEnvelope } from 'ox/tempo'\n *\n * const valid = SignatureEnvelope.validate({\n *   signature: { r: 0n, s: 0n, yParity: 0 },\n *   type: 'secp256k1',\n * })\n * // @log: true\n * ```\n *\n * @param envelope - The signature envelope to validate.\n * @returns `true` if valid, `false` otherwise.\n */\nfunction validate(envelope) {\n    try {\n        assert(envelope);\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\n/**\n * Verifies a signature envelope against a digest/payload.\n *\n * Supports `secp256k1`, `p256`, and `webAuthn` signature types.\n *\n * :::warning\n * `keychain` signatures are not supported and will throw an error.\n * :::\n *\n * @example\n * ### Secp256k1\n *\n * ```ts twoslash\n * import { SignatureEnvelope } from 'ox/tempo'\n * import { Secp256k1 } from 'ox'\n *\n * const privateKey = Secp256k1.randomPrivateKey()\n * const publicKey = Secp256k1.getPublicKey({ privateKey })\n * const payload = '0xdeadbeef'\n *\n * const signature = Secp256k1.sign({ payload, privateKey })\n * const envelope = SignatureEnvelope.from(signature)\n *\n * const valid = SignatureEnvelope.verify(envelope, {\n *   payload,\n *   publicKey,\n * })\n * // @log: true\n * ```\n *\n * @example\n * ### P256\n *\n * For P256 signatures, the `address` or `publicKey` must match the embedded\n * public key in the signature envelope.\n *\n * ```ts twoslash\n * import { SignatureEnvelope } from 'ox/tempo'\n * import { P256 } from 'ox'\n *\n * const privateKey = P256.randomPrivateKey()\n * const publicKey = P256.getPublicKey({ privateKey })\n * const payload = '0xdeadbeef'\n *\n * const signature = P256.sign({ payload, privateKey })\n * const envelope = SignatureEnvelope.from({ prehash: false, publicKey, signature })\n *\n * const valid = SignatureEnvelope.verify(envelope, {\n *   payload,\n *   publicKey,\n * })\n * // @log: true\n * ```\n *\n * @example\n * ### WebCryptoP256\n *\n * ```ts twoslash\n * import { SignatureEnvelope } from 'ox/tempo'\n * import { WebCryptoP256 } from 'ox'\n *\n * const { privateKey, publicKey } = await WebCryptoP256.createKeyPair()\n * const payload = '0xdeadbeef'\n *\n * const signature = await WebCryptoP256.sign({ payload, privateKey })\n * const envelope = SignatureEnvelope.from({ prehash: true, publicKey, signature })\n *\n * const valid = SignatureEnvelope.verify(envelope, {\n *   payload,\n *   publicKey,\n * })\n * // @log: true\n * ```\n *\n * @example\n * ### WebAuthnP256\n *\n * ```ts twoslash\n * import { SignatureEnvelope } from 'ox/tempo'\n * import { WebAuthnP256 } from 'ox'\n *\n * const credential = await WebAuthnP256.createCredential({ name: 'Example' })\n * const payload = '0xdeadbeef'\n *\n * const { metadata, signature } = await WebAuthnP256.sign({\n *   challenge: payload,\n *   credentialId: credential.id,\n * })\n * const envelope = SignatureEnvelope.from({\n *   metadata,\n *   signature,\n *   publicKey: credential.publicKey,\n * })\n *\n * const valid = SignatureEnvelope.verify(envelope, {\n *   payload,\n *   publicKey: credential.publicKey,\n * })\n * // @log: true\n * ```\n *\n * @param parameters - Verification parameters.\n * @returns `true` if the signature is valid, `false` otherwise.\n */\nfunction verify(signature, parameters) {\n    const { payload } = parameters;\n    const address = (() => {\n        if (parameters.address)\n            return parameters.address;\n        if (parameters.publicKey)\n            return _core_Address_js__WEBPACK_IMPORTED_MODULE_0__.fromPublicKey(parameters.publicKey);\n        return undefined;\n    })();\n    if (!address)\n        return false;\n    const envelope = from(signature);\n    if (envelope.type === 'secp256k1') {\n        if (!address)\n            return false;\n        return _core_Secp256k1_js__WEBPACK_IMPORTED_MODULE_5__.verify({\n            address,\n            payload,\n            signature: envelope.signature,\n        });\n    }\n    if (envelope.type === 'p256') {\n        const envelopeAddress = _core_Address_js__WEBPACK_IMPORTED_MODULE_0__.fromPublicKey(envelope.publicKey);\n        if (!_core_Address_js__WEBPACK_IMPORTED_MODULE_0__.isEqual(envelopeAddress, address))\n            return false;\n        return _core_P256_js__WEBPACK_IMPORTED_MODULE_4__.verify({\n            hash: envelope.prehash,\n            publicKey: envelope.publicKey,\n            payload,\n            signature: envelope.signature,\n        });\n    }\n    if (envelope.type === 'webAuthn') {\n        const envelopeAddress = _core_Address_js__WEBPACK_IMPORTED_MODULE_0__.fromPublicKey(envelope.publicKey);\n        if (!_core_Address_js__WEBPACK_IMPORTED_MODULE_0__.isEqual(envelopeAddress, address))\n            return false;\n        return _core_WebAuthnP256_js__WEBPACK_IMPORTED_MODULE_7__.verify({\n            challenge: _core_Hex_js__WEBPACK_IMPORTED_MODULE_2__.from(payload),\n            metadata: envelope.metadata,\n            publicKey: envelope.publicKey,\n            signature: envelope.signature,\n        });\n    }\n    throw new VerificationError(`Unable to verify signature envelope of type \"${envelope.type}\".`);\n}\n/**\n * Error thrown when a signature envelope cannot be coerced to a valid type.\n */\nclass CoercionError extends _core_Errors_js__WEBPACK_IMPORTED_MODULE_1__.BaseError {\n    constructor({ envelope }) {\n        super(`Unable to coerce value (\\`${_core_Json_js__WEBPACK_IMPORTED_MODULE_3__.stringify(envelope)}\\`) to a valid signature envelope.`);\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'SignatureEnvelope.CoercionError'\n        });\n    }\n}\n/**\n * Error thrown when a signature envelope is missing required properties.\n */\nclass MissingPropertiesError extends _core_Errors_js__WEBPACK_IMPORTED_MODULE_1__.BaseError {\n    constructor({ envelope, missing, type, }) {\n        super(`Signature envelope of type \"${type}\" is missing required properties: ${missing.map((m) => `\\`${m}\\``).join(', ')}.\\n\\nProvided: ${_core_Json_js__WEBPACK_IMPORTED_MODULE_3__.stringify(envelope)}`);\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'SignatureEnvelope.MissingPropertiesError'\n        });\n    }\n}\n/**\n * Error thrown when a serialized signature envelope cannot be deserialized.\n */\nclass InvalidSerializedError extends _core_Errors_js__WEBPACK_IMPORTED_MODULE_1__.BaseError {\n    constructor({ reason, serialized, }) {\n        super(`Unable to deserialize signature envelope: ${reason}`, {\n            metaMessages: [`Serialized: ${serialized}`],\n        });\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'SignatureEnvelope.InvalidSerializedError'\n        });\n    }\n}\n/**\n * Error thrown when a signature envelope fails to verify.\n */\nclass VerificationError extends _core_Errors_js__WEBPACK_IMPORTED_MODULE_1__.BaseError {\n    constructor() {\n        super(...arguments);\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'SignatureEnvelope.VerificationError'\n        });\n    }\n}\n//# sourceMappingURL=SignatureEnvelope.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvb3gvX2VzbS90ZW1wby9TaWduYXR1cmVFbnZlbG9wZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL294L19lc20vdGVtcG8vU2lnbmF0dXJlRW52ZWxvcGUuanM/NDg2MSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBBZGRyZXNzIGZyb20gJy4uL2NvcmUvQWRkcmVzcy5qcyc7XG5pbXBvcnQgKiBhcyBFcnJvcnMgZnJvbSAnLi4vY29yZS9FcnJvcnMuanMnO1xuaW1wb3J0ICogYXMgSGV4IGZyb20gJy4uL2NvcmUvSGV4LmpzJztcbmltcG9ydCAqIGFzIEpzb24gZnJvbSAnLi4vY29yZS9Kc29uLmpzJztcbmltcG9ydCAqIGFzIG94X1AyNTYgZnJvbSAnLi4vY29yZS9QMjU2LmpzJztcbmltcG9ydCAqIGFzIG94X1NlY3AyNTZrMSBmcm9tICcuLi9jb3JlL1NlY3AyNTZrMS5qcyc7XG5pbXBvcnQgKiBhcyBTaWduYXR1cmUgZnJvbSAnLi4vY29yZS9TaWduYXR1cmUuanMnO1xuaW1wb3J0ICogYXMgb3hfV2ViQXV0aG5QMjU2IGZyb20gJy4uL2NvcmUvV2ViQXV0aG5QMjU2LmpzJztcbi8qKiBTaWduYXR1cmUgdHlwZSBpZGVudGlmaWVycyBmb3IgZW5jb2RpbmcvZGVjb2RpbmcgKi9cbmNvbnN0IHNlcmlhbGl6ZWRQMjU2VHlwZSA9ICcweDAxJztcbmNvbnN0IHNlcmlhbGl6ZWRXZWJBdXRoblR5cGUgPSAnMHgwMic7XG5jb25zdCBzZXJpYWxpemVkS2V5Y2hhaW5UeXBlID0gJzB4MDMnO1xuLyoqIFNlcmlhbGl6ZWQgbWFnaWMgaWRlbnRpZmllciBmb3IgVGVtcG8gc2lnbmF0dXJlIGVudmVsb3Blcy4gKi9cbmV4cG9ydCBjb25zdCBtYWdpY0J5dGVzID0gJzB4Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nzc3Nyc7IC8vIDMyIFwiVFwic1xuLyoqIExpc3Qgb2Ygc3VwcG9ydGVkIHNpZ25hdHVyZSB0eXBlcy4gKi9cbmV4cG9ydCBjb25zdCB0eXBlcyA9IFsnc2VjcDI1NmsxJywgJ3AyNTYnLCAnd2ViQXV0aG4nXTtcbi8qKlxuICogQXNzZXJ0cyB0aGF0IGEge0BsaW5rIG94I1NpZ25hdHVyZUVudmVsb3BlLlNpZ25hdHVyZUVudmVsb3BlfSBpcyB2YWxpZC5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHMgdHdvc2xhc2hcbiAqIGltcG9ydCB7IFNpZ25hdHVyZUVudmVsb3BlIH0gZnJvbSAnb3gvdGVtcG8nXG4gKlxuICogU2lnbmF0dXJlRW52ZWxvcGUuYXNzZXJ0KHtcbiAqICAgdHlwZTogJ3NlY3AyNTZrMScsXG4gKiAgIHNpZ25hdHVyZToge1xuICogICAgIHI6IDBuLFxuICogICAgIHM6IDBuLFxuICogICAgIHlQYXJpdHk6IDAsXG4gKiAgIH0sXG4gKiB9KVxuICogYGBgXG4gKlxuICogQHBhcmFtIGVudmVsb3BlIC0gVGhlIHNpZ25hdHVyZSBlbnZlbG9wZSB0byBhc3NlcnQuXG4gKiBAdGhyb3dzIGBDb2VyY2lvbkVycm9yYCBpZiB0aGUgZW52ZWxvcGUgdHlwZSBjYW5ub3QgYmUgZGV0ZXJtaW5lZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydChlbnZlbG9wZSkge1xuICAgIGNvbnN0IHR5cGUgPSBnZXRUeXBlKGVudmVsb3BlKTtcbiAgICBpZiAodHlwZSA9PT0gJ3NlY3AyNTZrMScpIHtcbiAgICAgICAgY29uc3Qgc2VjcDI1NmsxID0gZW52ZWxvcGU7XG4gICAgICAgIFNpZ25hdHVyZS5hc3NlcnQoc2VjcDI1NmsxLnNpZ25hdHVyZSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09ICdwMjU2Jykge1xuICAgICAgICBjb25zdCBwMjU2ID0gZW52ZWxvcGU7XG4gICAgICAgIGNvbnN0IG1pc3NpbmcgPSBbXTtcbiAgICAgICAgaWYgKHR5cGVvZiBwMjU2LnNpZ25hdHVyZT8uciAhPT0gJ2JpZ2ludCcpXG4gICAgICAgICAgICBtaXNzaW5nLnB1c2goJ3NpZ25hdHVyZS5yJyk7XG4gICAgICAgIGlmICh0eXBlb2YgcDI1Ni5zaWduYXR1cmU/LnMgIT09ICdiaWdpbnQnKVxuICAgICAgICAgICAgbWlzc2luZy5wdXNoKCdzaWduYXR1cmUucycpO1xuICAgICAgICBpZiAodHlwZW9mIHAyNTYucHJlaGFzaCAhPT0gJ2Jvb2xlYW4nKVxuICAgICAgICAgICAgbWlzc2luZy5wdXNoKCdwcmVoYXNoJyk7XG4gICAgICAgIGlmICghcDI1Ni5wdWJsaWNLZXkpXG4gICAgICAgICAgICBtaXNzaW5nLnB1c2goJ3B1YmxpY0tleScpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgcDI1Ni5wdWJsaWNLZXkueCAhPT0gJ2JpZ2ludCcpXG4gICAgICAgICAgICAgICAgbWlzc2luZy5wdXNoKCdwdWJsaWNLZXkueCcpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBwMjU2LnB1YmxpY0tleS55ICE9PSAnYmlnaW50JylcbiAgICAgICAgICAgICAgICBtaXNzaW5nLnB1c2goJ3B1YmxpY0tleS55Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1pc3NpbmcubGVuZ3RoID4gMClcbiAgICAgICAgICAgIHRocm93IG5ldyBNaXNzaW5nUHJvcGVydGllc0Vycm9yKHsgZW52ZWxvcGUsIG1pc3NpbmcsIHR5cGU6ICdwMjU2JyB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ3dlYkF1dGhuJykge1xuICAgICAgICBjb25zdCB3ZWJhdXRobiA9IGVudmVsb3BlO1xuICAgICAgICBjb25zdCBtaXNzaW5nID0gW107XG4gICAgICAgIGlmICh0eXBlb2Ygd2ViYXV0aG4uc2lnbmF0dXJlPy5yICE9PSAnYmlnaW50JylcbiAgICAgICAgICAgIG1pc3NpbmcucHVzaCgnc2lnbmF0dXJlLnInKTtcbiAgICAgICAgaWYgKHR5cGVvZiB3ZWJhdXRobi5zaWduYXR1cmU/LnMgIT09ICdiaWdpbnQnKVxuICAgICAgICAgICAgbWlzc2luZy5wdXNoKCdzaWduYXR1cmUucycpO1xuICAgICAgICBpZiAoIXdlYmF1dGhuLm1ldGFkYXRhKVxuICAgICAgICAgICAgbWlzc2luZy5wdXNoKCdtZXRhZGF0YScpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghd2ViYXV0aG4ubWV0YWRhdGEuYXV0aGVudGljYXRvckRhdGEpXG4gICAgICAgICAgICAgICAgbWlzc2luZy5wdXNoKCdtZXRhZGF0YS5hdXRoZW50aWNhdG9yRGF0YScpO1xuICAgICAgICAgICAgaWYgKCF3ZWJhdXRobi5tZXRhZGF0YS5jbGllbnREYXRhSlNPTilcbiAgICAgICAgICAgICAgICBtaXNzaW5nLnB1c2goJ21ldGFkYXRhLmNsaWVudERhdGFKU09OJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF3ZWJhdXRobi5wdWJsaWNLZXkpXG4gICAgICAgICAgICBtaXNzaW5nLnB1c2goJ3B1YmxpY0tleScpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd2ViYXV0aG4ucHVibGljS2V5LnggIT09ICdiaWdpbnQnKVxuICAgICAgICAgICAgICAgIG1pc3NpbmcucHVzaCgncHVibGljS2V5LngnKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2Ygd2ViYXV0aG4ucHVibGljS2V5LnkgIT09ICdiaWdpbnQnKVxuICAgICAgICAgICAgICAgIG1pc3NpbmcucHVzaCgncHVibGljS2V5LnknKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobWlzc2luZy5sZW5ndGggPiAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IE1pc3NpbmdQcm9wZXJ0aWVzRXJyb3IoeyBlbnZlbG9wZSwgbWlzc2luZywgdHlwZTogJ3dlYkF1dGhuJyB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ2tleWNoYWluJykge1xuICAgICAgICBjb25zdCBrZXljaGFpbiA9IGVudmVsb3BlO1xuICAgICAgICBhc3NlcnQoa2V5Y2hhaW4uaW5uZXIpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxufVxuLyoqXG4gKiBEZXNlcmlhbGl6ZXMgYSBoZXgtZW5jb2RlZCBzaWduYXR1cmUgZW52ZWxvcGUgaW50byBhIHR5cGVkIHNpZ25hdHVyZSBvYmplY3QuXG4gKlxuICogV2lyZSBmb3JtYXQgZGV0ZWN0aW9uOlxuICogLSA2NSBieXRlcyAobm8gcHJlZml4KTogc2VjcDI1NmsxIHNpZ25hdHVyZVxuICogLSBUeXBlIGAweDAxYCArIDEyOSBieXRlczogUDI1NiBzaWduYXR1cmUgKHIsIHMsIHB1YktleVgsIHB1YktleVksIHByZWhhc2gpXG4gKiAtIFR5cGUgYDB4MDJgICsgdmFyaWFibGU6IFdlYkF1dGhuIHNpZ25hdHVyZSAod2ViYXV0aG5EYXRhLCByLCBzLCBwdWJLZXlYLCBwdWJLZXlZKVxuICogLSBUeXBlIGAweDAzYCArIDIwIGJ5dGVzICsgaW5uZXI6IEtleWNoYWluIHNpZ25hdHVyZSAodXNlckFkZHJlc3MgKyBpbm5lciBzaWduYXR1cmUpXG4gKlxuICogW1NpZ25hdHVyZSBUeXBlc10oaHR0cHM6Ly9kb2NzLnRlbXBvLnh5ei9wcm90b2NvbC90cmFuc2FjdGlvbnMvc3BlYy10ZW1wby10cmFuc2FjdGlvbiNzaWduYXR1cmUtdHlwZXMpXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBTaWduYXR1cmVFbnZlbG9wZSB9IGZyb20gJ294L3RlbXBvJ1xuICpcbiAqIGNvbnN0IGVudmVsb3BlID0gU2lnbmF0dXJlRW52ZWxvcGUuZGVzZXJpYWxpemUoJzB4Li4uJylcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBzZXJpYWxpemVkIC0gVGhlIGhleC1lbmNvZGVkIHNpZ25hdHVyZSBlbnZlbG9wZSB0byBkZXNlcmlhbGl6ZS5cbiAqIEByZXR1cm5zIFRoZSBkZXNlcmlhbGl6ZWQgc2lnbmF0dXJlIGVudmVsb3BlLlxuICogQHRocm93cyBgQ29lcmNpb25FcnJvcmAgaWYgdGhlIHNlcmlhbGl6ZWQgdmFsdWUgY2Fubm90IGJlIGNvZXJjZWQgdG8gYSB2YWxpZCBzaWduYXR1cmUgZW52ZWxvcGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXNlcmlhbGl6ZSh2YWx1ZSkge1xuICAgIGNvbnN0IHNlcmlhbGl6ZWQgPSB2YWx1ZS5lbmRzV2l0aChtYWdpY0J5dGVzLnNsaWNlKDIpKVxuICAgICAgICA/IEhleC5zbGljZSh2YWx1ZSwgMCwgLUhleC5zaXplKG1hZ2ljQnl0ZXMpKVxuICAgICAgICA6IHZhbHVlO1xuICAgIGNvbnN0IHNpemUgPSBIZXguc2l6ZShzZXJpYWxpemVkKTtcbiAgICAvLyBCYWNrd2FyZCBjb21wYXRpYmlsaXR5OiA2NSBieXRlcyBtZWFucyBzZWNwMjU2azEgd2l0aG91dCB0eXBlIGlkZW50aWZpZXJcbiAgICBpZiAoc2l6ZSA9PT0gNjUpIHtcbiAgICAgICAgY29uc3Qgc2lnbmF0dXJlID0gU2lnbmF0dXJlLmZyb21IZXgoc2VyaWFsaXplZCk7XG4gICAgICAgIFNpZ25hdHVyZS5hc3NlcnQoc2lnbmF0dXJlKTtcbiAgICAgICAgcmV0dXJuIHsgc2lnbmF0dXJlLCB0eXBlOiAnc2VjcDI1NmsxJyB9O1xuICAgIH1cbiAgICAvLyBGb3IgYWxsIG90aGVyIGxlbmd0aHMsIGZpcnN0IGJ5dGUgaXMgdGhlIHR5cGUgaWRlbnRpZmllclxuICAgIGNvbnN0IHR5cGVJZCA9IEhleC5zbGljZShzZXJpYWxpemVkLCAwLCAxKTtcbiAgICBjb25zdCBkYXRhID0gSGV4LnNsaWNlKHNlcmlhbGl6ZWQsIDEpO1xuICAgIGNvbnN0IGRhdGFTaXplID0gSGV4LnNpemUoZGF0YSk7XG4gICAgaWYgKHR5cGVJZCA9PT0gc2VyaWFsaXplZFAyNTZUeXBlKSB7XG4gICAgICAgIC8vIFAyNTY6IDMyIChyKSArIDMyIChzKSArIDMyIChwdWJLZXlYKSArIDMyIChwdWJLZXlZKSArIDEgKHByZWhhc2gpID0gMTI5IGJ5dGVzXG4gICAgICAgIGlmIChkYXRhU2l6ZSAhPT0gMTI5KVxuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRTZXJpYWxpemVkRXJyb3Ioe1xuICAgICAgICAgICAgICAgIHJlYXNvbjogYEludmFsaWQgUDI1NiBzaWduYXR1cmUgZW52ZWxvcGUgc2l6ZTogZXhwZWN0ZWQgMTI5IGJ5dGVzLCBnb3QgJHtkYXRhU2l6ZX0gYnl0ZXNgLFxuICAgICAgICAgICAgICAgIHNlcmlhbGl6ZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHB1YmxpY0tleToge1xuICAgICAgICAgICAgICAgIHByZWZpeDogNCxcbiAgICAgICAgICAgICAgICB4OiBIZXgudG9CaWdJbnQoSGV4LnNsaWNlKGRhdGEsIDY0LCA5NikpLFxuICAgICAgICAgICAgICAgIHk6IEhleC50b0JpZ0ludChIZXguc2xpY2UoZGF0YSwgOTYsIDEyOCkpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHByZWhhc2g6IEhleC50b051bWJlcihIZXguc2xpY2UoZGF0YSwgMTI4LCAxMjkpKSAhPT0gMCxcbiAgICAgICAgICAgIHNpZ25hdHVyZToge1xuICAgICAgICAgICAgICAgIHI6IEhleC50b0JpZ0ludChIZXguc2xpY2UoZGF0YSwgMCwgMzIpKSxcbiAgICAgICAgICAgICAgICBzOiBIZXgudG9CaWdJbnQoSGV4LnNsaWNlKGRhdGEsIDMyLCA2NCkpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHR5cGU6ICdwMjU2JyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHR5cGVJZCA9PT0gc2VyaWFsaXplZFdlYkF1dGhuVHlwZSkge1xuICAgICAgICAvLyBXZWJBdXRobjogdmFyaWFibGUgKHdlYmF1dGhuRGF0YSkgKyAzMiAocikgKyAzMiAocykgKyAzMiAocHViS2V5WCkgKyAzMiAocHViS2V5WSlcbiAgICAgICAgLy8gTWluaW11bTogMTI4IGJ5dGVzIChhdCBsZWFzdCBzb21lIGF1dGhlbnRpY2F0b3IgZGF0YSArIHNpZ25hdHVyZSBjb21wb25lbnRzKVxuICAgICAgICBpZiAoZGF0YVNpemUgPCAxMjgpXG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFNlcmlhbGl6ZWRFcnJvcih7XG4gICAgICAgICAgICAgICAgcmVhc29uOiBgSW52YWxpZCBXZWJBdXRobiBzaWduYXR1cmUgZW52ZWxvcGUgc2l6ZTogZXhwZWN0ZWQgYXQgbGVhc3QgMTI4IGJ5dGVzLCBnb3QgJHtkYXRhU2l6ZX0gYnl0ZXNgLFxuICAgICAgICAgICAgICAgIHNlcmlhbGl6ZWQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgY29uc3Qgd2ViYXV0aG5EYXRhU2l6ZSA9IGRhdGFTaXplIC0gMTI4O1xuICAgICAgICBjb25zdCB3ZWJhdXRobkRhdGEgPSBIZXguc2xpY2UoZGF0YSwgMCwgd2ViYXV0aG5EYXRhU2l6ZSk7XG4gICAgICAgIC8vIFBhcnNlIHdlYmF1dGhuRGF0YSBpbnRvIGF1dGhlbnRpY2F0b3JEYXRhIGFuZCBjbGllbnREYXRhSlNPTlxuICAgICAgICAvLyBBY2NvcmRpbmcgdG8gdGhlIFJ1c3QgY29kZSwgaXQncyBhdXRoZW50aWNhdG9yRGF0YSB8fCBjbGllbnREYXRhSlNPTlxuICAgICAgICAvLyBXZSBuZWVkIHRvIGZpbmQgdGhlIHNwbGl0IHBvaW50IChtaW5pbXVtIGF1dGhlbnRpY2F0b3JEYXRhIGlzIDM3IGJ5dGVzKVxuICAgICAgICBsZXQgYXV0aGVudGljYXRvckRhdGE7XG4gICAgICAgIGxldCBjbGllbnREYXRhSlNPTjtcbiAgICAgICAgLy8gVHJ5IHRvIGZpbmQgdGhlIEpTT04gc3RhcnQgKGNsaWVudERhdGFKU09OIHNob3VsZCBzdGFydCB3aXRoICd7JylcbiAgICAgICAgZm9yIChsZXQgc3BsaXQgPSAzNzsgc3BsaXQgPCB3ZWJhdXRobkRhdGFTaXplOyBzcGxpdCsrKSB7XG4gICAgICAgICAgICBjb25zdCBwb3RlbnRpYWxKc29uID0gSGV4LnRvU3RyaW5nKEhleC5zbGljZSh3ZWJhdXRobkRhdGEsIHNwbGl0KSk7XG4gICAgICAgICAgICBpZiAocG90ZW50aWFsSnNvbi5zdGFydHNXaXRoKCd7JykgJiYgcG90ZW50aWFsSnNvbi5lbmRzV2l0aCgnfScpKSB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgSlNPTi5wYXJzZShwb3RlbnRpYWxKc29uKTtcbiAgICAgICAgICAgICAgICAgICAgYXV0aGVudGljYXRvckRhdGEgPSBIZXguc2xpY2Uod2ViYXV0aG5EYXRhLCAwLCBzcGxpdCk7XG4gICAgICAgICAgICAgICAgICAgIGNsaWVudERhdGFKU09OID0gcG90ZW50aWFsSnNvbjtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIHsgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghYXV0aGVudGljYXRvckRhdGEgfHwgIWNsaWVudERhdGFKU09OKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRTZXJpYWxpemVkRXJyb3Ioe1xuICAgICAgICAgICAgICAgIHJlYXNvbjogJ1VuYWJsZSB0byBwYXJzZSBXZWJBdXRobiBtZXRhZGF0YTogY291bGQgbm90IGV4dHJhY3QgdmFsaWQgYXV0aGVudGljYXRvckRhdGEgYW5kIGNsaWVudERhdGFKU09OJyxcbiAgICAgICAgICAgICAgICBzZXJpYWxpemVkLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwdWJsaWNLZXk6IHtcbiAgICAgICAgICAgICAgICBwcmVmaXg6IDQsXG4gICAgICAgICAgICAgICAgeDogSGV4LnRvQmlnSW50KEhleC5zbGljZShkYXRhLCB3ZWJhdXRobkRhdGFTaXplICsgNjQsIHdlYmF1dGhuRGF0YVNpemUgKyA5NikpLFxuICAgICAgICAgICAgICAgIHk6IEhleC50b0JpZ0ludChIZXguc2xpY2UoZGF0YSwgd2ViYXV0aG5EYXRhU2l6ZSArIDk2LCB3ZWJhdXRobkRhdGFTaXplICsgMTI4KSksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbWV0YWRhdGE6IHtcbiAgICAgICAgICAgICAgICBhdXRoZW50aWNhdG9yRGF0YSxcbiAgICAgICAgICAgICAgICBjbGllbnREYXRhSlNPTixcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzaWduYXR1cmU6IHtcbiAgICAgICAgICAgICAgICByOiBIZXgudG9CaWdJbnQoSGV4LnNsaWNlKGRhdGEsIHdlYmF1dGhuRGF0YVNpemUsIHdlYmF1dGhuRGF0YVNpemUgKyAzMikpLFxuICAgICAgICAgICAgICAgIHM6IEhleC50b0JpZ0ludChIZXguc2xpY2UoZGF0YSwgd2ViYXV0aG5EYXRhU2l6ZSArIDMyLCB3ZWJhdXRobkRhdGFTaXplICsgNjQpKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0eXBlOiAnd2ViQXV0aG4nLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAodHlwZUlkID09PSBzZXJpYWxpemVkS2V5Y2hhaW5UeXBlKSB7XG4gICAgICAgIGNvbnN0IHVzZXJBZGRyZXNzID0gSGV4LnNsaWNlKGRhdGEsIDAsIDIwKTtcbiAgICAgICAgY29uc3QgaW5uZXIgPSBkZXNlcmlhbGl6ZShIZXguc2xpY2UoZGF0YSwgMjApKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHVzZXJBZGRyZXNzLFxuICAgICAgICAgICAgaW5uZXIsXG4gICAgICAgICAgICB0eXBlOiAna2V5Y2hhaW4nLFxuICAgICAgICB9O1xuICAgIH1cbiAgICB0aHJvdyBuZXcgSW52YWxpZFNlcmlhbGl6ZWRFcnJvcih7XG4gICAgICAgIHJlYXNvbjogYFVua25vd24gc2lnbmF0dXJlIHR5cGUgaWRlbnRpZmllcjogJHt0eXBlSWR9LiBFeHBlY3RlZCAke3NlcmlhbGl6ZWRQMjU2VHlwZX0gKFAyNTYpIG9yICR7c2VyaWFsaXplZFdlYkF1dGhuVHlwZX0gKFdlYkF1dGhuKWAsXG4gICAgICAgIHNlcmlhbGl6ZWQsXG4gICAgfSk7XG59XG4vKipcbiAqIENvZXJjZXMgYSB2YWx1ZSB0byBhIHNpZ25hdHVyZSBlbnZlbG9wZS5cbiAqXG4gKiBBY2NlcHRzIGVpdGhlciBhIHNlcmlhbGl6ZWQgaGV4IHN0cmluZyBvciBhbiBleGlzdGluZyBzaWduYXR1cmUgZW52ZWxvcGUgb2JqZWN0LlxuICogVXNlIHRoaXMgdG8gd3JhcCByYXcgc2lnbmF0dXJlcyBmcm9tIHtAbGluayBveCNTZWNwMjU2azEuKHNpZ246ZnVuY3Rpb24pfSwge0BsaW5rIG94I1AyNTYuKHNpZ246ZnVuY3Rpb24pfSxcbiAqIHtAbGluayBveCNXZWJDcnlwdG9QMjU2LihzaWduOmZ1bmN0aW9uKX0sIG9yIHtAbGluayBveCNXZWJBdXRoblAyNTYuKHNpZ246ZnVuY3Rpb24pfSBpbnRvIHRoZSBlbnZlbG9wZSBmb3JtYXRcbiAqIHJlcXVpcmVkIGJ5IFRlbXBvIHRyYW5zYWN0aW9ucy5cbiAqXG4gKiBbU2lnbmF0dXJlIFR5cGVzXShodHRwczovL2RvY3MudGVtcG8ueHl6L3Byb3RvY29sL3RyYW5zYWN0aW9ucy9zcGVjLXRlbXBvLXRyYW5zYWN0aW9uI3NpZ25hdHVyZS10eXBlcylcbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIFNlY3AyNTZrMVxuICpcbiAqIFN0YW5kYXJkIEV0aGVyZXVtIEVDRFNBIHNpZ25hdHVyZSB1c2luZyB0aGUgc2VjcDI1NmsxIGN1cnZlLlxuICpcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBTZWNwMjU2azEgfSBmcm9tICdveCdcbiAqIGltcG9ydCB7IFNpZ25hdHVyZUVudmVsb3BlIH0gZnJvbSAnb3gvdGVtcG8nXG4gKlxuICogY29uc3QgcHJpdmF0ZUtleSA9IFNlY3AyNTZrMS5yYW5kb21Qcml2YXRlS2V5KClcbiAqIGNvbnN0IHNpZ25hdHVyZSA9IFNlY3AyNTZrMS5zaWduKHsgcGF5bG9hZDogJzB4ZGVhZGJlZWYnLCBwcml2YXRlS2V5IH0pXG4gKlxuICogY29uc3QgZW52ZWxvcGUgPSBTaWduYXR1cmVFbnZlbG9wZS5mcm9tKHNpZ25hdHVyZSlcbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgUDI1NlxuICpcbiAqIEVDRFNBIHNpZ25hdHVyZSB1c2luZyB0aGUgUC0yNTYgKHNlY3AyNTZyMSkgY3VydmUuIFJlcXVpcmVzIGVtYmVkZGluZyB0aGVcbiAqIHB1YmxpYyBrZXkuXG4gKlxuICogYGBgdHMgdHdvc2xhc2hcbiAqIGltcG9ydCB7IFAyNTYgfSBmcm9tICdveCdcbiAqIGltcG9ydCB7IFNpZ25hdHVyZUVudmVsb3BlIH0gZnJvbSAnb3gvdGVtcG8nXG4gKlxuICogY29uc3QgeyBwcml2YXRlS2V5LCBwdWJsaWNLZXkgfSA9IFAyNTYuY3JlYXRlS2V5UGFpcigpXG4gKiBjb25zdCBzaWduYXR1cmUgPSBQMjU2LnNpZ24oeyBwYXlsb2FkOiAnMHhkZWFkYmVlZicsIHByaXZhdGVLZXkgfSlcbiAqXG4gKiBjb25zdCBlbnZlbG9wZSA9IFNpZ25hdHVyZUVudmVsb3BlLmZyb20oe1xuICogICBzaWduYXR1cmUsXG4gKiAgIHB1YmxpY0tleSxcbiAqIH0pXG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIFAyNTYgKFdlYkNyeXB0bylcbiAqXG4gKiBXaGVuIHVzaW5nIFdlYkNyeXB0byBrZXlzLCBgcHJlaGFzaGAgbXVzdCBiZSBgdHJ1ZWAgc2luY2UgV2ViQ3J5cHRvIGFsd2F5c1xuICogU0hBMjU2IGhhc2hlcyB0aGUgZGlnZXN0IGJlZm9yZSBzaWduaW5nLlxuICpcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiAvLyBAbm9FcnJvcnNcbiAqIGltcG9ydCB7IFdlYkNyeXB0b1AyNTYgfSBmcm9tICdveCdcbiAqIGltcG9ydCB7IFNpZ25hdHVyZUVudmVsb3BlIH0gZnJvbSAnb3gvdGVtcG8nXG4gKlxuICogY29uc3QgeyBwcml2YXRlS2V5LCBwdWJsaWNLZXkgfSA9IGF3YWl0IFdlYkNyeXB0b1AyNTYuY3JlYXRlS2V5UGFpcigpXG4gKiBjb25zdCBzaWduYXR1cmUgPSBhd2FpdCBXZWJDcnlwdG9QMjU2LnNpZ24oeyBwYXlsb2FkOiAnMHhkZWFkYmVlZicsIHByaXZhdGVLZXkgfSlcbiAqXG4gKiBjb25zdCBlbnZlbG9wZSA9IFNpZ25hdHVyZUVudmVsb3BlLmZyb20oe1xuICogICBzaWduYXR1cmUsXG4gKiAgIHB1YmxpY0tleSxcbiAqICAgcHJlaGFzaDogdHJ1ZSxcbiAqIH0pXG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIFdlYkF1dGhuXG4gKlxuICogUGFzc2tleS1iYXNlZCBzaWduYXR1cmUgdXNpbmcgV2ViQXV0aG4uIEluY2x1ZGVzIGF1dGhlbnRpY2F0b3IgbWV0YWRhdGFcbiAqIChhdXRoZW50aWNhdG9yRGF0YSBhbmQgY2xpZW50RGF0YUpTT04pIGFsb25nIHdpdGggdGhlIFAtMjU2IHNpZ25hdHVyZSBhbmRcbiAqIHB1YmxpYyBrZXkuXG4gKlxuICogYGBgdHMgdHdvc2xhc2hcbiAqIC8vIEBub0Vycm9yc1xuICogaW1wb3J0IHsgV2ViQXV0aG5QMjU2IH0gZnJvbSAnb3gnXG4gKiBpbXBvcnQgeyBTaWduYXR1cmVFbnZlbG9wZSB9IGZyb20gJ294L3RlbXBvJ1xuICpcbiAqIGNvbnN0IGNyZWRlbnRpYWwgPSBhd2FpdCBXZWJBdXRoblAyNTYuY3JlYXRlQ3JlZGVudGlhbCh7XG4gKiAgIG5hbWU6ICdFeGFtcGxlJyxcbiAqIH0pXG4gKlxuICogY29uc3QgeyBtZXRhZGF0YSwgc2lnbmF0dXJlIH0gPSBhd2FpdCBXZWJBdXRoblAyNTYuc2lnbih7XG4gKiAgIGNoYWxsZW5nZTogJzB4ZGVhZGJlZWYnLFxuICogICBjcmVkZW50aWFsSWQ6IGNyZWRlbnRpYWwuaWQsXG4gKiB9KVxuICpcbiAqIGNvbnN0IGVudmVsb3BlID0gU2lnbmF0dXJlRW52ZWxvcGUuZnJvbSh7XG4gKiAgIHNpZ25hdHVyZSxcbiAqICAgcHVibGljS2V5OiBjcmVkZW50aWFsLnB1YmxpY0tleSxcbiAqICAgbWV0YWRhdGEsXG4gKiB9KVxuICogYGBgXG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBLZXljaGFpblxuICpcbiAqIFdyYXBzIGFub3RoZXIgc2lnbmF0dXJlIHR5cGUgd2l0aCBhIHVzZXIgYWRkcmVzcywgdXNlZCBmb3IgZGVsZWdhdGVkIHNpZ25pbmdcbiAqIHZpYSBhY2Nlc3Mga2V5cyBvbiBiZWhhbGYgb2YgYSByb290IGFjY291bnQuXG4gKlxuICogYGBgdHMgdHdvc2xhc2hcbiAqIGltcG9ydCB7IFNlY3AyNTZrMSB9IGZyb20gJ294J1xuICogaW1wb3J0IHsgU2lnbmF0dXJlRW52ZWxvcGUgfSBmcm9tICdveC90ZW1wbydcbiAqXG4gKiBjb25zdCBwcml2YXRlS2V5ID0gU2VjcDI1NmsxLnJhbmRvbVByaXZhdGVLZXkoKVxuICogY29uc3Qgc2lnbmF0dXJlID0gU2VjcDI1NmsxLnNpZ24oeyBwYXlsb2FkOiAnMHhkZWFkYmVlZicsIHByaXZhdGVLZXkgfSlcbiAqXG4gKiBjb25zdCBlbnZlbG9wZSA9IFNpZ25hdHVyZUVudmVsb3BlLmZyb20oe1xuICogICB1c2VyQWRkcmVzczogJzB4MTIzNDU2Nzg5MDEyMzQ1Njc4OTAxMjM0NTY3ODkwMTIzNDU2Nzg5MCcsXG4gKiAgIGlubmVyOiBTaWduYXR1cmVFbnZlbG9wZS5mcm9tKHNpZ25hdHVyZSksXG4gKiB9KVxuICogYGBgXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHZhbHVlIHRvIGNvZXJjZSAoZWl0aGVyIGEgaGV4IHN0cmluZyBvciBzaWduYXR1cmUgZW52ZWxvcGUpLlxuICogQHJldHVybnMgVGhlIHNpZ25hdHVyZSBlbnZlbG9wZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZyb20odmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJylcbiAgICAgICAgcmV0dXJuIGRlc2VyaWFsaXplKHZhbHVlKTtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICB2YWx1ZSAhPT0gbnVsbCAmJlxuICAgICAgICAncicgaW4gdmFsdWUgJiZcbiAgICAgICAgJ3MnIGluIHZhbHVlICYmXG4gICAgICAgICd5UGFyaXR5JyBpbiB2YWx1ZSlcbiAgICAgICAgcmV0dXJuIHsgc2lnbmF0dXJlOiB2YWx1ZSwgdHlwZTogJ3NlY3AyNTZrMScgfTtcbiAgICBjb25zdCB0eXBlID0gZ2V0VHlwZSh2YWx1ZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4udmFsdWUsXG4gICAgICAgIC4uLih0eXBlID09PSAncDI1NicgPyB7IHByZWhhc2g6IHZhbHVlLnByZWhhc2ggfSA6IHt9KSxcbiAgICAgICAgdHlwZSxcbiAgICB9O1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhbiBSUEMtZm9ybWF0dGVkIHNpZ25hdHVyZSBlbnZlbG9wZSB0byBhIHR5cGVkIHNpZ25hdHVyZSBlbnZlbG9wZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHMgdHdvc2xhc2hcbiAqIGltcG9ydCB7IFNpZ25hdHVyZUVudmVsb3BlIH0gZnJvbSAnb3gvdGVtcG8nXG4gKlxuICogY29uc3QgZW52ZWxvcGUgPSBTaWduYXR1cmVFbnZlbG9wZS5mcm9tUnBjKHtcbiAqICAgcjogJzB4MCcsXG4gKiAgIHM6ICcweDAnLFxuICogICB5UGFyaXR5OiAnMHgwJyxcbiAqICAgdHlwZTogJ3NlY3AyNTZrMScsXG4gKiB9KVxuICogYGBgXG4gKlxuICogQHBhcmFtIGVudmVsb3BlIC0gVGhlIFJQQyBzaWduYXR1cmUgZW52ZWxvcGUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIFRoZSBzaWduYXR1cmUgZW52ZWxvcGUgd2l0aCBiaWdpbnQgdmFsdWVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJwYyhlbnZlbG9wZSkge1xuICAgIGlmIChlbnZlbG9wZS50eXBlID09PSAnc2VjcDI1NmsxJylcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNpZ25hdHVyZTogU2lnbmF0dXJlLmZyb21ScGMoZW52ZWxvcGUpLFxuICAgICAgICAgICAgdHlwZTogJ3NlY3AyNTZrMScsXG4gICAgICAgIH07XG4gICAgaWYgKGVudmVsb3BlLnR5cGUgPT09ICdwMjU2Jykge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHJlaGFzaDogZW52ZWxvcGUucHJlSGFzaCxcbiAgICAgICAgICAgIHB1YmxpY0tleToge1xuICAgICAgICAgICAgICAgIHByZWZpeDogNCxcbiAgICAgICAgICAgICAgICB4OiBIZXgudG9CaWdJbnQoZW52ZWxvcGUucHViS2V5WCksXG4gICAgICAgICAgICAgICAgeTogSGV4LnRvQmlnSW50KGVudmVsb3BlLnB1YktleVkpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNpZ25hdHVyZToge1xuICAgICAgICAgICAgICAgIHI6IEhleC50b0JpZ0ludChlbnZlbG9wZS5yKSxcbiAgICAgICAgICAgICAgICBzOiBIZXgudG9CaWdJbnQoZW52ZWxvcGUucyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHlwZTogJ3AyNTYnLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAoZW52ZWxvcGUudHlwZSA9PT0gJ3dlYkF1dGhuJykge1xuICAgICAgICBjb25zdCB3ZWJhdXRobkRhdGEgPSBlbnZlbG9wZS53ZWJhdXRobkRhdGE7XG4gICAgICAgIGNvbnN0IHdlYmF1dGhuRGF0YVNpemUgPSBIZXguc2l6ZSh3ZWJhdXRobkRhdGEpO1xuICAgICAgICAvLyBQYXJzZSB3ZWJhdXRobkRhdGEgaW50byBhdXRoZW50aWNhdG9yRGF0YSBhbmQgY2xpZW50RGF0YUpTT05cbiAgICAgICAgbGV0IGF1dGhlbnRpY2F0b3JEYXRhO1xuICAgICAgICBsZXQgY2xpZW50RGF0YUpTT047XG4gICAgICAgIC8vIFRyeSB0byBmaW5kIHRoZSBKU09OIHN0YXJ0IChjbGllbnREYXRhSlNPTiBzaG91bGQgc3RhcnQgd2l0aCAneycpXG4gICAgICAgIGZvciAobGV0IHNwbGl0ID0gMzc7IHNwbGl0IDwgd2ViYXV0aG5EYXRhU2l6ZTsgc3BsaXQrKykge1xuICAgICAgICAgICAgY29uc3QgcG90ZW50aWFsSnNvbiA9IEhleC50b1N0cmluZyhIZXguc2xpY2Uod2ViYXV0aG5EYXRhLCBzcGxpdCkpO1xuICAgICAgICAgICAgaWYgKHBvdGVudGlhbEpzb24uc3RhcnRzV2l0aCgneycpICYmIHBvdGVudGlhbEpzb24uZW5kc1dpdGgoJ30nKSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIEpTT04ucGFyc2UocG90ZW50aWFsSnNvbik7XG4gICAgICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0b3JEYXRhID0gSGV4LnNsaWNlKHdlYmF1dGhuRGF0YSwgMCwgc3BsaXQpO1xuICAgICAgICAgICAgICAgICAgICBjbGllbnREYXRhSlNPTiA9IHBvdGVudGlhbEpzb247XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCB7IH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWF1dGhlbnRpY2F0b3JEYXRhIHx8ICFjbGllbnREYXRhSlNPTilcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkU2VyaWFsaXplZEVycm9yKHtcbiAgICAgICAgICAgICAgICByZWFzb246ICdVbmFibGUgdG8gcGFyc2UgV2ViQXV0aG4gbWV0YWRhdGE6IGNvdWxkIG5vdCBleHRyYWN0IHZhbGlkIGF1dGhlbnRpY2F0b3JEYXRhIGFuZCBjbGllbnREYXRhSlNPTicsXG4gICAgICAgICAgICAgICAgc2VyaWFsaXplZDogd2ViYXV0aG5EYXRhLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXRhZGF0YToge1xuICAgICAgICAgICAgICAgIGF1dGhlbnRpY2F0b3JEYXRhLFxuICAgICAgICAgICAgICAgIGNsaWVudERhdGFKU09OLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHB1YmxpY0tleToge1xuICAgICAgICAgICAgICAgIHByZWZpeDogNCxcbiAgICAgICAgICAgICAgICB4OiBIZXgudG9CaWdJbnQoZW52ZWxvcGUucHViS2V5WCksXG4gICAgICAgICAgICAgICAgeTogSGV4LnRvQmlnSW50KGVudmVsb3BlLnB1YktleVkpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNpZ25hdHVyZToge1xuICAgICAgICAgICAgICAgIHI6IEhleC50b0JpZ0ludChlbnZlbG9wZS5yKSxcbiAgICAgICAgICAgICAgICBzOiBIZXgudG9CaWdJbnQoZW52ZWxvcGUucyksXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHlwZTogJ3dlYkF1dGhuJyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKGVudmVsb3BlLnR5cGUgPT09ICdrZXljaGFpbicgfHxcbiAgICAgICAgKCd1c2VyQWRkcmVzcycgaW4gZW52ZWxvcGUgJiYgJ3NpZ25hdHVyZScgaW4gZW52ZWxvcGUpKVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2tleWNoYWluJyxcbiAgICAgICAgICAgIHVzZXJBZGRyZXNzOiBlbnZlbG9wZS51c2VyQWRkcmVzcyxcbiAgICAgICAgICAgIGlubmVyOiBmcm9tUnBjKGVudmVsb3BlLnNpZ25hdHVyZSksXG4gICAgICAgIH07XG4gICAgdGhyb3cgbmV3IENvZXJjaW9uRXJyb3IoeyBlbnZlbG9wZSB9KTtcbn1cbi8qKlxuICogRGV0ZXJtaW5lcyB0aGUgc2lnbmF0dXJlIHR5cGUgb2YgYW4gZW52ZWxvcGUuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBTaWduYXR1cmVFbnZlbG9wZSB9IGZyb20gJ294L3RlbXBvJ1xuICpcbiAqIGNvbnN0IHR5cGUgPSBTaWduYXR1cmVFbnZlbG9wZS5nZXRUeXBlKHtcbiAqICAgc2lnbmF0dXJlOiB7IHI6IDBuLCBzOiAwbiwgeVBhcml0eTogMCB9LFxuICogfSlcbiAqIC8vIEBsb2c6ICdzZWNwMjU2azEnXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gZW52ZWxvcGUgLSBUaGUgc2lnbmF0dXJlIGVudmVsb3BlIHRvIGluc3BlY3QuXG4gKiBAcmV0dXJucyBUaGUgc2lnbmF0dXJlIHR5cGUgKCdzZWNwMjU2azEnLCAncDI1NicsIG9yICd3ZWJBdXRobicpLlxuICogQHRocm93cyBgQ29lcmNpb25FcnJvcmAgaWYgdGhlIGVudmVsb3BlIHR5cGUgY2Fubm90IGJlIGRldGVybWluZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRUeXBlKGVudmVsb3BlKSB7XG4gICAgaWYgKHR5cGVvZiBlbnZlbG9wZSAhPT0gJ29iamVjdCcgfHwgZW52ZWxvcGUgPT09IG51bGwpXG4gICAgICAgIHRocm93IG5ldyBDb2VyY2lvbkVycm9yKHsgZW52ZWxvcGUgfSk7XG4gICAgaWYgKCd0eXBlJyBpbiBlbnZlbG9wZSAmJiBlbnZlbG9wZS50eXBlKVxuICAgICAgICByZXR1cm4gZW52ZWxvcGUudHlwZTtcbiAgICAvLyBEZXRlY3Qgc2VjcDI1NmsxIHNpZ25hdHVyZSAoYmFja3dhcmRzIGNvbXBhdGliaWxpdHk6IGFsc28gc3VwcG9ydCBmbGF0IHN0cnVjdHVyZSlcbiAgICBpZiAoJ3NpZ25hdHVyZScgaW4gZW52ZWxvcGUgJiZcbiAgICAgICAgISgncHVibGljS2V5JyBpbiBlbnZlbG9wZSkgJiZcbiAgICAgICAgdHlwZW9mIGVudmVsb3BlLnNpZ25hdHVyZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgZW52ZWxvcGUuc2lnbmF0dXJlICE9PSBudWxsICYmXG4gICAgICAgICdyJyBpbiBlbnZlbG9wZS5zaWduYXR1cmUgJiZcbiAgICAgICAgJ3MnIGluIGVudmVsb3BlLnNpZ25hdHVyZSAmJlxuICAgICAgICAneVBhcml0eScgaW4gZW52ZWxvcGUuc2lnbmF0dXJlKVxuICAgICAgICByZXR1cm4gJ3NlY3AyNTZrMSc7XG4gICAgLy8gRGV0ZWN0IHNlY3AyNTZrMSBzaWduYXR1cmUgKGZsYXQgc3RydWN0dXJlKVxuICAgIGlmICgncicgaW4gZW52ZWxvcGUgJiYgJ3MnIGluIGVudmVsb3BlICYmICd5UGFyaXR5JyBpbiBlbnZlbG9wZSlcbiAgICAgICAgcmV0dXJuICdzZWNwMjU2azEnO1xuICAgIC8vIERldGVjdCBQMjU2IHNpZ25hdHVyZVxuICAgIGlmICgnc2lnbmF0dXJlJyBpbiBlbnZlbG9wZSAmJlxuICAgICAgICAncHJlaGFzaCcgaW4gZW52ZWxvcGUgJiZcbiAgICAgICAgJ3B1YmxpY0tleScgaW4gZW52ZWxvcGUgJiZcbiAgICAgICAgdHlwZW9mIGVudmVsb3BlLnByZWhhc2ggPT09ICdib29sZWFuJylcbiAgICAgICAgcmV0dXJuICdwMjU2JztcbiAgICAvLyBEZXRlY3QgV2ViQXV0aG4gc2lnbmF0dXJlXG4gICAgaWYgKCdzaWduYXR1cmUnIGluIGVudmVsb3BlICYmXG4gICAgICAgICdtZXRhZGF0YScgaW4gZW52ZWxvcGUgJiZcbiAgICAgICAgJ3B1YmxpY0tleScgaW4gZW52ZWxvcGUpXG4gICAgICAgIHJldHVybiAnd2ViQXV0aG4nO1xuICAgIC8vIERldGVjdCBLZXljaGFpbiBzaWduYXR1cmVcbiAgICBpZiAoJ3VzZXJBZGRyZXNzJyBpbiBlbnZlbG9wZSAmJiAnaW5uZXInIGluIGVudmVsb3BlKVxuICAgICAgICByZXR1cm4gJ2tleWNoYWluJztcbiAgICB0aHJvdyBuZXcgQ29lcmNpb25FcnJvcih7XG4gICAgICAgIGVudmVsb3BlLFxuICAgIH0pO1xufVxuLyoqXG4gKiBTZXJpYWxpemVzIGEgc2lnbmF0dXJlIGVudmVsb3BlIHRvIGEgaGV4LWVuY29kZWQgc3RyaW5nLlxuICpcbiAqIFdpcmUgZm9ybWF0OlxuICogLSBzZWNwMjU2azE6IDY1IGJ5dGVzIChubyB0eXBlIHByZWZpeCwgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHkpXG4gKiAtIFAyNTY6IGAweDAxYCArIHIgKDMyKSArIHMgKDMyKSArIHB1YktleVggKDMyKSArIHB1YktleVkgKDMyKSArIHByZWhhc2ggKDEpID0gMTMwIGJ5dGVzXG4gKiAtIFdlYkF1dGhuOiBgMHgwMmAgKyB3ZWJhdXRobkRhdGEgKHZhcmlhYmxlKSArIHIgKDMyKSArIHMgKDMyKSArIHB1YktleVggKDMyKSArIHB1YktleVkgKDMyKVxuICogLSBLZXljaGFpbjogYDB4MDNgICsgdXNlckFkZHJlc3MgKDIwKSArIGlubmVyIHNpZ25hdHVyZSAocmVjdXJzaXZlKVxuICpcbiAqIFtTaWduYXR1cmUgVHlwZXNdKGh0dHBzOi8vZG9jcy50ZW1wby54eXovcHJvdG9jb2wvdHJhbnNhY3Rpb25zL3NwZWMtdGVtcG8tdHJhbnNhY3Rpb24jc2lnbmF0dXJlLXR5cGVzKVxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0cyB0d29zbGFzaFxuICogaW1wb3J0IHsgU2lnbmF0dXJlRW52ZWxvcGUgfSBmcm9tICdveC90ZW1wbydcbiAqXG4gKiBjb25zdCBzZXJpYWxpemVkID0gU2lnbmF0dXJlRW52ZWxvcGUuc2VyaWFsaXplKHtcbiAqICAgc2lnbmF0dXJlOiB7IHI6IDBuLCBzOiAwbiwgeVBhcml0eTogMCB9LFxuICogICB0eXBlOiAnc2VjcDI1NmsxJyxcbiAqIH0pXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gZW52ZWxvcGUgLSBUaGUgc2lnbmF0dXJlIGVudmVsb3BlIHRvIHNlcmlhbGl6ZS5cbiAqIEByZXR1cm5zIFRoZSBoZXgtZW5jb2RlZCBzZXJpYWxpemVkIHNpZ25hdHVyZS5cbiAqIEB0aHJvd3MgYENvZXJjaW9uRXJyb3JgIGlmIHRoZSBlbnZlbG9wZSBjYW5ub3QgYmUgc2VyaWFsaXplZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZShlbnZlbG9wZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgdHlwZSA9IGdldFR5cGUoZW52ZWxvcGUpO1xuICAgIC8vIEJhY2t3YXJkIGNvbXBhdGliaWxpdHk6IG5vIHR5cGUgaWRlbnRpZmllciBmb3Igc2VjcDI1NmsxXG4gICAgaWYgKHR5cGUgPT09ICdzZWNwMjU2azEnKSB7XG4gICAgICAgIGNvbnN0IHNlY3AyNTZrMSA9IGVudmVsb3BlO1xuICAgICAgICByZXR1cm4gSGV4LmNvbmNhdChTaWduYXR1cmUudG9IZXgoc2VjcDI1NmsxLnNpZ25hdHVyZSksIG9wdGlvbnMubWFnaWMgPyBtYWdpY0J5dGVzIDogJzB4Jyk7XG4gICAgfVxuICAgIGlmICh0eXBlID09PSAncDI1NicpIHtcbiAgICAgICAgY29uc3QgcDI1NiA9IGVudmVsb3BlO1xuICAgICAgICAvLyBGb3JtYXQ6IDEgYnl0ZSAodHlwZSkgKyAzMiAocikgKyAzMiAocykgKyAzMiAocHViS2V5WCkgKyAzMiAocHViS2V5WSkgKyAxIChwcmVoYXNoKVxuICAgICAgICByZXR1cm4gSGV4LmNvbmNhdChzZXJpYWxpemVkUDI1NlR5cGUsIEhleC5mcm9tTnVtYmVyKHAyNTYuc2lnbmF0dXJlLnIsIHsgc2l6ZTogMzIgfSksIEhleC5mcm9tTnVtYmVyKHAyNTYuc2lnbmF0dXJlLnMsIHsgc2l6ZTogMzIgfSksIEhleC5mcm9tTnVtYmVyKHAyNTYucHVibGljS2V5LngsIHsgc2l6ZTogMzIgfSksIEhleC5mcm9tTnVtYmVyKHAyNTYucHVibGljS2V5LnksIHsgc2l6ZTogMzIgfSksIEhleC5mcm9tTnVtYmVyKHAyNTYucHJlaGFzaCA/IDEgOiAwLCB7IHNpemU6IDEgfSksIG9wdGlvbnMubWFnaWMgPyBtYWdpY0J5dGVzIDogJzB4Jyk7XG4gICAgfVxuICAgIGlmICh0eXBlID09PSAnd2ViQXV0aG4nKSB7XG4gICAgICAgIGNvbnN0IHdlYmF1dGhuID0gZW52ZWxvcGU7XG4gICAgICAgIC8vIEZvcm1hdDogMSBieXRlICh0eXBlKSArIHZhcmlhYmxlIChhdXRoZW50aWNhdG9yRGF0YSB8fCBjbGllbnREYXRhSlNPTikgKyAzMiAocikgKyAzMiAocykgKyAzMiAocHViS2V5WCkgKyAzMiAocHViS2V5WSlcbiAgICAgICAgY29uc3Qgd2ViYXV0aG5EYXRhID0gSGV4LmNvbmNhdCh3ZWJhdXRobi5tZXRhZGF0YS5hdXRoZW50aWNhdG9yRGF0YSwgSGV4LmZyb21TdHJpbmcod2ViYXV0aG4ubWV0YWRhdGEuY2xpZW50RGF0YUpTT04pKTtcbiAgICAgICAgcmV0dXJuIEhleC5jb25jYXQoc2VyaWFsaXplZFdlYkF1dGhuVHlwZSwgd2ViYXV0aG5EYXRhLCBIZXguZnJvbU51bWJlcih3ZWJhdXRobi5zaWduYXR1cmUuciwgeyBzaXplOiAzMiB9KSwgSGV4LmZyb21OdW1iZXIod2ViYXV0aG4uc2lnbmF0dXJlLnMsIHsgc2l6ZTogMzIgfSksIEhleC5mcm9tTnVtYmVyKHdlYmF1dGhuLnB1YmxpY0tleS54LCB7IHNpemU6IDMyIH0pLCBIZXguZnJvbU51bWJlcih3ZWJhdXRobi5wdWJsaWNLZXkueSwgeyBzaXplOiAzMiB9KSwgb3B0aW9ucy5tYWdpYyA/IG1hZ2ljQnl0ZXMgOiAnMHgnKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09ICdrZXljaGFpbicpIHtcbiAgICAgICAgY29uc3Qga2V5Y2hhaW4gPSBlbnZlbG9wZTtcbiAgICAgICAgcmV0dXJuIEhleC5jb25jYXQoc2VyaWFsaXplZEtleWNoYWluVHlwZSwga2V5Y2hhaW4udXNlckFkZHJlc3MsIHNlcmlhbGl6ZShrZXljaGFpbi5pbm5lciksIG9wdGlvbnMubWFnaWMgPyBtYWdpY0J5dGVzIDogJzB4Jyk7XG4gICAgfVxuICAgIHRocm93IG5ldyBDb2VyY2lvbkVycm9yKHsgZW52ZWxvcGUgfSk7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgc2lnbmF0dXJlIGVudmVsb3BlIHRvIFJQQyBmb3JtYXQuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBTaWduYXR1cmVFbnZlbG9wZSB9IGZyb20gJ294L3RlbXBvJ1xuICpcbiAqIGNvbnN0IHJwYyA9IFNpZ25hdHVyZUVudmVsb3BlLnRvUnBjKHtcbiAqICAgc2lnbmF0dXJlOiB7IHI6IDBuLCBzOiAwbiwgeVBhcml0eTogMCB9LFxuICogICB0eXBlOiAnc2VjcDI1NmsxJyxcbiAqIH0pXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gZW52ZWxvcGUgLSBUaGUgc2lnbmF0dXJlIGVudmVsb3BlIHRvIGNvbnZlcnQuXG4gKiBAcmV0dXJucyBUaGUgUlBDIHNpZ25hdHVyZSBlbnZlbG9wZSB3aXRoIGhleCB2YWx1ZXMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1JwYyhlbnZlbG9wZSkge1xuICAgIGNvbnN0IHR5cGUgPSBnZXRUeXBlKGVudmVsb3BlKTtcbiAgICBpZiAodHlwZSA9PT0gJ3NlY3AyNTZrMScpIHtcbiAgICAgICAgY29uc3Qgc2VjcDI1NmsxID0gZW52ZWxvcGU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5TaWduYXR1cmUudG9ScGMoc2VjcDI1NmsxLnNpZ25hdHVyZSksXG4gICAgICAgICAgICB0eXBlOiAnc2VjcDI1NmsxJyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT09ICdwMjU2Jykge1xuICAgICAgICBjb25zdCBwMjU2ID0gZW52ZWxvcGU7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwcmVIYXNoOiBwMjU2LnByZWhhc2gsXG4gICAgICAgICAgICBwdWJLZXlYOiBIZXguZnJvbU51bWJlcihwMjU2LnB1YmxpY0tleS54LCB7IHNpemU6IDMyIH0pLFxuICAgICAgICAgICAgcHViS2V5WTogSGV4LmZyb21OdW1iZXIocDI1Ni5wdWJsaWNLZXkueSwgeyBzaXplOiAzMiB9KSxcbiAgICAgICAgICAgIHI6IEhleC5mcm9tTnVtYmVyKHAyNTYuc2lnbmF0dXJlLnIsIHsgc2l6ZTogMzIgfSksXG4gICAgICAgICAgICBzOiBIZXguZnJvbU51bWJlcihwMjU2LnNpZ25hdHVyZS5zLCB7IHNpemU6IDMyIH0pLFxuICAgICAgICAgICAgdHlwZTogJ3AyNTYnLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ3dlYkF1dGhuJykge1xuICAgICAgICBjb25zdCB3ZWJhdXRobiA9IGVudmVsb3BlO1xuICAgICAgICBjb25zdCB3ZWJhdXRobkRhdGEgPSBIZXguY29uY2F0KHdlYmF1dGhuLm1ldGFkYXRhLmF1dGhlbnRpY2F0b3JEYXRhLCBIZXguZnJvbVN0cmluZyh3ZWJhdXRobi5tZXRhZGF0YS5jbGllbnREYXRhSlNPTikpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcHViS2V5WDogSGV4LmZyb21OdW1iZXIod2ViYXV0aG4ucHVibGljS2V5LngsIHsgc2l6ZTogMzIgfSksXG4gICAgICAgICAgICBwdWJLZXlZOiBIZXguZnJvbU51bWJlcih3ZWJhdXRobi5wdWJsaWNLZXkueSwgeyBzaXplOiAzMiB9KSxcbiAgICAgICAgICAgIHI6IEhleC5mcm9tTnVtYmVyKHdlYmF1dGhuLnNpZ25hdHVyZS5yLCB7IHNpemU6IDMyIH0pLFxuICAgICAgICAgICAgczogSGV4LmZyb21OdW1iZXIod2ViYXV0aG4uc2lnbmF0dXJlLnMsIHsgc2l6ZTogMzIgfSksXG4gICAgICAgICAgICB0eXBlOiAnd2ViQXV0aG4nLFxuICAgICAgICAgICAgd2ViYXV0aG5EYXRhLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ2tleWNoYWluJykge1xuICAgICAgICBjb25zdCBrZXljaGFpbiA9IGVudmVsb3BlO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogJ2tleWNoYWluJyxcbiAgICAgICAgICAgIHVzZXJBZGRyZXNzOiBrZXljaGFpbi51c2VyQWRkcmVzcyxcbiAgICAgICAgICAgIHNpZ25hdHVyZTogdG9ScGMoa2V5Y2hhaW4uaW5uZXIpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICB0aHJvdyBuZXcgQ29lcmNpb25FcnJvcih7IGVudmVsb3BlIH0pO1xufVxuLyoqXG4gKiBWYWxpZGF0ZXMgYSBzaWduYXR1cmUgZW52ZWxvcGUuIFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnZlbG9wZSBpcyB2YWxpZCwgYGZhbHNlYCBvdGhlcndpc2UuXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBTaWduYXR1cmVFbnZlbG9wZSB9IGZyb20gJ294L3RlbXBvJ1xuICpcbiAqIGNvbnN0IHZhbGlkID0gU2lnbmF0dXJlRW52ZWxvcGUudmFsaWRhdGUoe1xuICogICBzaWduYXR1cmU6IHsgcjogMG4sIHM6IDBuLCB5UGFyaXR5OiAwIH0sXG4gKiAgIHR5cGU6ICdzZWNwMjU2azEnLFxuICogfSlcbiAqIC8vIEBsb2c6IHRydWVcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBlbnZlbG9wZSAtIFRoZSBzaWduYXR1cmUgZW52ZWxvcGUgdG8gdmFsaWRhdGUuXG4gKiBAcmV0dXJucyBgdHJ1ZWAgaWYgdmFsaWQsIGBmYWxzZWAgb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGUoZW52ZWxvcGUpIHtcbiAgICB0cnkge1xuICAgICAgICBhc3NlcnQoZW52ZWxvcGUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuLyoqXG4gKiBWZXJpZmllcyBhIHNpZ25hdHVyZSBlbnZlbG9wZSBhZ2FpbnN0IGEgZGlnZXN0L3BheWxvYWQuXG4gKlxuICogU3VwcG9ydHMgYHNlY3AyNTZrMWAsIGBwMjU2YCwgYW5kIGB3ZWJBdXRobmAgc2lnbmF0dXJlIHR5cGVzLlxuICpcbiAqIDo6Ondhcm5pbmdcbiAqIGBrZXljaGFpbmAgc2lnbmF0dXJlcyBhcmUgbm90IHN1cHBvcnRlZCBhbmQgd2lsbCB0aHJvdyBhbiBlcnJvci5cbiAqIDo6OlxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgU2VjcDI1NmsxXG4gKlxuICogYGBgdHMgdHdvc2xhc2hcbiAqIGltcG9ydCB7IFNpZ25hdHVyZUVudmVsb3BlIH0gZnJvbSAnb3gvdGVtcG8nXG4gKiBpbXBvcnQgeyBTZWNwMjU2azEgfSBmcm9tICdveCdcbiAqXG4gKiBjb25zdCBwcml2YXRlS2V5ID0gU2VjcDI1NmsxLnJhbmRvbVByaXZhdGVLZXkoKVxuICogY29uc3QgcHVibGljS2V5ID0gU2VjcDI1NmsxLmdldFB1YmxpY0tleSh7IHByaXZhdGVLZXkgfSlcbiAqIGNvbnN0IHBheWxvYWQgPSAnMHhkZWFkYmVlZidcbiAqXG4gKiBjb25zdCBzaWduYXR1cmUgPSBTZWNwMjU2azEuc2lnbih7IHBheWxvYWQsIHByaXZhdGVLZXkgfSlcbiAqIGNvbnN0IGVudmVsb3BlID0gU2lnbmF0dXJlRW52ZWxvcGUuZnJvbShzaWduYXR1cmUpXG4gKlxuICogY29uc3QgdmFsaWQgPSBTaWduYXR1cmVFbnZlbG9wZS52ZXJpZnkoZW52ZWxvcGUsIHtcbiAqICAgcGF5bG9hZCxcbiAqICAgcHVibGljS2V5LFxuICogfSlcbiAqIC8vIEBsb2c6IHRydWVcbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgUDI1NlxuICpcbiAqIEZvciBQMjU2IHNpZ25hdHVyZXMsIHRoZSBgYWRkcmVzc2Agb3IgYHB1YmxpY0tleWAgbXVzdCBtYXRjaCB0aGUgZW1iZWRkZWRcbiAqIHB1YmxpYyBrZXkgaW4gdGhlIHNpZ25hdHVyZSBlbnZlbG9wZS5cbiAqXG4gKiBgYGB0cyB0d29zbGFzaFxuICogaW1wb3J0IHsgU2lnbmF0dXJlRW52ZWxvcGUgfSBmcm9tICdveC90ZW1wbydcbiAqIGltcG9ydCB7IFAyNTYgfSBmcm9tICdveCdcbiAqXG4gKiBjb25zdCBwcml2YXRlS2V5ID0gUDI1Ni5yYW5kb21Qcml2YXRlS2V5KClcbiAqIGNvbnN0IHB1YmxpY0tleSA9IFAyNTYuZ2V0UHVibGljS2V5KHsgcHJpdmF0ZUtleSB9KVxuICogY29uc3QgcGF5bG9hZCA9ICcweGRlYWRiZWVmJ1xuICpcbiAqIGNvbnN0IHNpZ25hdHVyZSA9IFAyNTYuc2lnbih7IHBheWxvYWQsIHByaXZhdGVLZXkgfSlcbiAqIGNvbnN0IGVudmVsb3BlID0gU2lnbmF0dXJlRW52ZWxvcGUuZnJvbSh7IHByZWhhc2g6IGZhbHNlLCBwdWJsaWNLZXksIHNpZ25hdHVyZSB9KVxuICpcbiAqIGNvbnN0IHZhbGlkID0gU2lnbmF0dXJlRW52ZWxvcGUudmVyaWZ5KGVudmVsb3BlLCB7XG4gKiAgIHBheWxvYWQsXG4gKiAgIHB1YmxpY0tleSxcbiAqIH0pXG4gKiAvLyBAbG9nOiB0cnVlXG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIFdlYkNyeXB0b1AyNTZcbiAqXG4gKiBgYGB0cyB0d29zbGFzaFxuICogaW1wb3J0IHsgU2lnbmF0dXJlRW52ZWxvcGUgfSBmcm9tICdveC90ZW1wbydcbiAqIGltcG9ydCB7IFdlYkNyeXB0b1AyNTYgfSBmcm9tICdveCdcbiAqXG4gKiBjb25zdCB7IHByaXZhdGVLZXksIHB1YmxpY0tleSB9ID0gYXdhaXQgV2ViQ3J5cHRvUDI1Ni5jcmVhdGVLZXlQYWlyKClcbiAqIGNvbnN0IHBheWxvYWQgPSAnMHhkZWFkYmVlZidcbiAqXG4gKiBjb25zdCBzaWduYXR1cmUgPSBhd2FpdCBXZWJDcnlwdG9QMjU2LnNpZ24oeyBwYXlsb2FkLCBwcml2YXRlS2V5IH0pXG4gKiBjb25zdCBlbnZlbG9wZSA9IFNpZ25hdHVyZUVudmVsb3BlLmZyb20oeyBwcmVoYXNoOiB0cnVlLCBwdWJsaWNLZXksIHNpZ25hdHVyZSB9KVxuICpcbiAqIGNvbnN0IHZhbGlkID0gU2lnbmF0dXJlRW52ZWxvcGUudmVyaWZ5KGVudmVsb3BlLCB7XG4gKiAgIHBheWxvYWQsXG4gKiAgIHB1YmxpY0tleSxcbiAqIH0pXG4gKiAvLyBAbG9nOiB0cnVlXG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIFdlYkF1dGhuUDI1NlxuICpcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBTaWduYXR1cmVFbnZlbG9wZSB9IGZyb20gJ294L3RlbXBvJ1xuICogaW1wb3J0IHsgV2ViQXV0aG5QMjU2IH0gZnJvbSAnb3gnXG4gKlxuICogY29uc3QgY3JlZGVudGlhbCA9IGF3YWl0IFdlYkF1dGhuUDI1Ni5jcmVhdGVDcmVkZW50aWFsKHsgbmFtZTogJ0V4YW1wbGUnIH0pXG4gKiBjb25zdCBwYXlsb2FkID0gJzB4ZGVhZGJlZWYnXG4gKlxuICogY29uc3QgeyBtZXRhZGF0YSwgc2lnbmF0dXJlIH0gPSBhd2FpdCBXZWJBdXRoblAyNTYuc2lnbih7XG4gKiAgIGNoYWxsZW5nZTogcGF5bG9hZCxcbiAqICAgY3JlZGVudGlhbElkOiBjcmVkZW50aWFsLmlkLFxuICogfSlcbiAqIGNvbnN0IGVudmVsb3BlID0gU2lnbmF0dXJlRW52ZWxvcGUuZnJvbSh7XG4gKiAgIG1ldGFkYXRhLFxuICogICBzaWduYXR1cmUsXG4gKiAgIHB1YmxpY0tleTogY3JlZGVudGlhbC5wdWJsaWNLZXksXG4gKiB9KVxuICpcbiAqIGNvbnN0IHZhbGlkID0gU2lnbmF0dXJlRW52ZWxvcGUudmVyaWZ5KGVudmVsb3BlLCB7XG4gKiAgIHBheWxvYWQsXG4gKiAgIHB1YmxpY0tleTogY3JlZGVudGlhbC5wdWJsaWNLZXksXG4gKiB9KVxuICogLy8gQGxvZzogdHJ1ZVxuICogYGBgXG4gKlxuICogQHBhcmFtIHBhcmFtZXRlcnMgLSBWZXJpZmljYXRpb24gcGFyYW1ldGVycy5cbiAqIEByZXR1cm5zIGB0cnVlYCBpZiB0aGUgc2lnbmF0dXJlIGlzIHZhbGlkLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZlcmlmeShzaWduYXR1cmUsIHBhcmFtZXRlcnMpIHtcbiAgICBjb25zdCB7IHBheWxvYWQgfSA9IHBhcmFtZXRlcnM7XG4gICAgY29uc3QgYWRkcmVzcyA9ICgoKSA9PiB7XG4gICAgICAgIGlmIChwYXJhbWV0ZXJzLmFkZHJlc3MpXG4gICAgICAgICAgICByZXR1cm4gcGFyYW1ldGVycy5hZGRyZXNzO1xuICAgICAgICBpZiAocGFyYW1ldGVycy5wdWJsaWNLZXkpXG4gICAgICAgICAgICByZXR1cm4gQWRkcmVzcy5mcm9tUHVibGljS2V5KHBhcmFtZXRlcnMucHVibGljS2V5KTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9KSgpO1xuICAgIGlmICghYWRkcmVzcylcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGNvbnN0IGVudmVsb3BlID0gZnJvbShzaWduYXR1cmUpO1xuICAgIGlmIChlbnZlbG9wZS50eXBlID09PSAnc2VjcDI1NmsxJykge1xuICAgICAgICBpZiAoIWFkZHJlc3MpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiBveF9TZWNwMjU2azEudmVyaWZ5KHtcbiAgICAgICAgICAgIGFkZHJlc3MsXG4gICAgICAgICAgICBwYXlsb2FkLFxuICAgICAgICAgICAgc2lnbmF0dXJlOiBlbnZlbG9wZS5zaWduYXR1cmUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoZW52ZWxvcGUudHlwZSA9PT0gJ3AyNTYnKSB7XG4gICAgICAgIGNvbnN0IGVudmVsb3BlQWRkcmVzcyA9IEFkZHJlc3MuZnJvbVB1YmxpY0tleShlbnZlbG9wZS5wdWJsaWNLZXkpO1xuICAgICAgICBpZiAoIUFkZHJlc3MuaXNFcXVhbChlbnZlbG9wZUFkZHJlc3MsIGFkZHJlc3MpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICByZXR1cm4gb3hfUDI1Ni52ZXJpZnkoe1xuICAgICAgICAgICAgaGFzaDogZW52ZWxvcGUucHJlaGFzaCxcbiAgICAgICAgICAgIHB1YmxpY0tleTogZW52ZWxvcGUucHVibGljS2V5LFxuICAgICAgICAgICAgcGF5bG9hZCxcbiAgICAgICAgICAgIHNpZ25hdHVyZTogZW52ZWxvcGUuc2lnbmF0dXJlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGVudmVsb3BlLnR5cGUgPT09ICd3ZWJBdXRobicpIHtcbiAgICAgICAgY29uc3QgZW52ZWxvcGVBZGRyZXNzID0gQWRkcmVzcy5mcm9tUHVibGljS2V5KGVudmVsb3BlLnB1YmxpY0tleSk7XG4gICAgICAgIGlmICghQWRkcmVzcy5pc0VxdWFsKGVudmVsb3BlQWRkcmVzcywgYWRkcmVzcykpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiBveF9XZWJBdXRoblAyNTYudmVyaWZ5KHtcbiAgICAgICAgICAgIGNoYWxsZW5nZTogSGV4LmZyb20ocGF5bG9hZCksXG4gICAgICAgICAgICBtZXRhZGF0YTogZW52ZWxvcGUubWV0YWRhdGEsXG4gICAgICAgICAgICBwdWJsaWNLZXk6IGVudmVsb3BlLnB1YmxpY0tleSxcbiAgICAgICAgICAgIHNpZ25hdHVyZTogZW52ZWxvcGUuc2lnbmF0dXJlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IFZlcmlmaWNhdGlvbkVycm9yKGBVbmFibGUgdG8gdmVyaWZ5IHNpZ25hdHVyZSBlbnZlbG9wZSBvZiB0eXBlIFwiJHtlbnZlbG9wZS50eXBlfVwiLmApO1xufVxuLyoqXG4gKiBFcnJvciB0aHJvd24gd2hlbiBhIHNpZ25hdHVyZSBlbnZlbG9wZSBjYW5ub3QgYmUgY29lcmNlZCB0byBhIHZhbGlkIHR5cGUuXG4gKi9cbmV4cG9ydCBjbGFzcyBDb2VyY2lvbkVycm9yIGV4dGVuZHMgRXJyb3JzLkJhc2VFcnJvciB7XG4gICAgY29uc3RydWN0b3IoeyBlbnZlbG9wZSB9KSB7XG4gICAgICAgIHN1cGVyKGBVbmFibGUgdG8gY29lcmNlIHZhbHVlIChcXGAke0pzb24uc3RyaW5naWZ5KGVudmVsb3BlKX1cXGApIHRvIGEgdmFsaWQgc2lnbmF0dXJlIGVudmVsb3BlLmApO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJuYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAnU2lnbmF0dXJlRW52ZWxvcGUuQ29lcmNpb25FcnJvcidcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLyoqXG4gKiBFcnJvciB0aHJvd24gd2hlbiBhIHNpZ25hdHVyZSBlbnZlbG9wZSBpcyBtaXNzaW5nIHJlcXVpcmVkIHByb3BlcnRpZXMuXG4gKi9cbmV4cG9ydCBjbGFzcyBNaXNzaW5nUHJvcGVydGllc0Vycm9yIGV4dGVuZHMgRXJyb3JzLkJhc2VFcnJvciB7XG4gICAgY29uc3RydWN0b3IoeyBlbnZlbG9wZSwgbWlzc2luZywgdHlwZSwgfSkge1xuICAgICAgICBzdXBlcihgU2lnbmF0dXJlIGVudmVsb3BlIG9mIHR5cGUgXCIke3R5cGV9XCIgaXMgbWlzc2luZyByZXF1aXJlZCBwcm9wZXJ0aWVzOiAke21pc3NpbmcubWFwKChtKSA9PiBgXFxgJHttfVxcYGApLmpvaW4oJywgJyl9LlxcblxcblByb3ZpZGVkOiAke0pzb24uc3RyaW5naWZ5KGVudmVsb3BlKX1gKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogJ1NpZ25hdHVyZUVudmVsb3BlLk1pc3NpbmdQcm9wZXJ0aWVzRXJyb3InXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxuICogRXJyb3IgdGhyb3duIHdoZW4gYSBzZXJpYWxpemVkIHNpZ25hdHVyZSBlbnZlbG9wZSBjYW5ub3QgYmUgZGVzZXJpYWxpemVkLlxuICovXG5leHBvcnQgY2xhc3MgSW52YWxpZFNlcmlhbGl6ZWRFcnJvciBleHRlbmRzIEVycm9ycy5CYXNlRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHsgcmVhc29uLCBzZXJpYWxpemVkLCB9KSB7XG4gICAgICAgIHN1cGVyKGBVbmFibGUgdG8gZGVzZXJpYWxpemUgc2lnbmF0dXJlIGVudmVsb3BlOiAke3JlYXNvbn1gLCB7XG4gICAgICAgICAgICBtZXRhTWVzc2FnZXM6IFtgU2VyaWFsaXplZDogJHtzZXJpYWxpemVkfWBdLFxuICAgICAgICB9KTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogJ1NpZ25hdHVyZUVudmVsb3BlLkludmFsaWRTZXJpYWxpemVkRXJyb3InXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxuICogRXJyb3IgdGhyb3duIHdoZW4gYSBzaWduYXR1cmUgZW52ZWxvcGUgZmFpbHMgdG8gdmVyaWZ5LlxuICovXG5leHBvcnQgY2xhc3MgVmVyaWZpY2F0aW9uRXJyb3IgZXh0ZW5kcyBFcnJvcnMuQmFzZUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogJ1NpZ25hdHVyZUVudmVsb3BlLlZlcmlmaWNhdGlvbkVycm9yJ1xuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1TaWduYXR1cmVFbnZlbG9wZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/ox/_esm/tempo/SignatureEnvelope.js\n\n}");

/***/ },

/***/ "./node_modules/ox/_esm/tempo/TokenId.js"
/*!***********************************************!*\
  !*** ./node_modules/ox/_esm/tempo/TokenId.js ***!
  \***********************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   compute: () => (/* binding */ compute),\n/* harmony export */   from: () => (/* binding */ from),\n/* harmony export */   fromAddress: () => (/* binding */ fromAddress),\n/* harmony export */   toAddress: () => (/* binding */ toAddress)\n/* harmony export */ });\n/* harmony import */ var _core_AbiParameters_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/AbiParameters.js */ \"./node_modules/ox/_esm/core/AbiParameters.js\");\n/* harmony import */ var _core_Address_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Address.js */ \"./node_modules/ox/_esm/core/Address.js\");\n/* harmony import */ var _core_Hash_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/Hash.js */ \"./node_modules/ox/_esm/core/Hash.js\");\n/* harmony import */ var _core_Hex_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Hex.js */ \"./node_modules/ox/_esm/core/Hex.js\");\n\n\n\n\nconst tip20Prefix = '0x20c0';\n/**\n * Converts a token ID or address to a token ID.\n *\n * TIP-20 is Tempo's native token standard for stablecoins with deterministic addresses\n * derived from sequential token IDs (prefix `0x20c0`).\n *\n * [TIP-20 Token Standard](https://docs.tempo.xyz/protocol/tip20/overview)\n *\n * @example\n * ```ts twoslash\n * import { TokenId } from 'ox/tempo'\n *\n * const tokenId = TokenId.from(1n)\n * ```\n *\n * @param tokenIdOrAddress - The token ID or address.\n * @returns The token ID.\n */\nfunction from(tokenIdOrAddress) {\n    if (typeof tokenIdOrAddress === 'bigint' ||\n        typeof tokenIdOrAddress === 'number')\n        return BigInt(tokenIdOrAddress);\n    return fromAddress(tokenIdOrAddress);\n}\n/**\n * Converts a TIP-20 token address to a token ID.\n *\n * [TIP-20 Token Standard](https://docs.tempo.xyz/protocol/tip20/overview)\n *\n * @example\n * ```ts twoslash\n * import { TokenId } from 'ox/tempo'\n *\n * const tokenId = TokenId.fromAddress('0x20c00000000000000000000000000000000000000001')\n * ```\n *\n * @param address - The token address.\n * @returns The token ID.\n */\nfunction fromAddress(address) {\n    if (!address.toLowerCase().startsWith(tip20Prefix))\n        throw new Error('invalid tip20 address.');\n    return _core_Hex_js__WEBPACK_IMPORTED_MODULE_3__.toBigInt(_core_Hex_js__WEBPACK_IMPORTED_MODULE_3__.slice(address, tip20Prefix.length));\n}\n/**\n * Converts a TIP-20 token ID to an address.\n *\n * [TIP-20 Token Standard](https://docs.tempo.xyz/protocol/tip20/overview)\n *\n * @example\n * ```ts twoslash\n * import { TokenId } from 'ox/tempo'\n *\n * const address = TokenId.toAddress(1n)\n * ```\n *\n * @param tokenId - The token ID.\n * @returns The address.\n */\nfunction toAddress(tokenId) {\n    if (typeof tokenId === 'string') {\n        _core_Address_js__WEBPACK_IMPORTED_MODULE_1__.assert(tokenId);\n        return tokenId;\n    }\n    const tokenIdHex = _core_Hex_js__WEBPACK_IMPORTED_MODULE_3__.fromNumber(tokenId, { size: 18 });\n    return _core_Hex_js__WEBPACK_IMPORTED_MODULE_3__.concat(tip20Prefix, tokenIdHex);\n}\n/**\n * Computes a deterministic TIP-20 token address from a sender address and salt.\n *\n * The address is computed as: `TIP20_PREFIX (12 bytes) || keccak256(abi.encode(sender, salt))[:8]`\n *\n * [TIP-20 Token Standard](https://docs.tempo.xyz/protocol/tip20/overview)\n *\n * @example\n * ```ts twoslash\n * import { TokenId } from 'ox/tempo'\n *\n * const id = TokenId.compute({\n *   sender: '0x1234567890123456789012345678901234567890',\n *   salt: '0x0000000000000000000000000000000000000000000000000000000000000001',\n * })\n * ```\n *\n * @param value - The sender address and salt.\n * @returns The computed TIP-20 token id.\n */\nfunction compute(value) {\n    const hash = _core_Hash_js__WEBPACK_IMPORTED_MODULE_2__.keccak256(_core_AbiParameters_js__WEBPACK_IMPORTED_MODULE_0__.encode(_core_AbiParameters_js__WEBPACK_IMPORTED_MODULE_0__.from('address, bytes32'), [\n        value.sender,\n        value.salt,\n    ]));\n    return _core_Hex_js__WEBPACK_IMPORTED_MODULE_3__.toBigInt(_core_Hex_js__WEBPACK_IMPORTED_MODULE_3__.slice(hash, 0, 8));\n}\n//# sourceMappingURL=TokenId.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvb3gvX2VzbS90ZW1wby9Ub2tlbklkLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb3gvX2VzbS90ZW1wby9Ub2tlbklkLmpzPzY5NTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgQWJpUGFyYW1ldGVycyBmcm9tICcuLi9jb3JlL0FiaVBhcmFtZXRlcnMuanMnO1xuaW1wb3J0ICogYXMgQWRkcmVzcyBmcm9tICcuLi9jb3JlL0FkZHJlc3MuanMnO1xuaW1wb3J0ICogYXMgSGFzaCBmcm9tICcuLi9jb3JlL0hhc2guanMnO1xuaW1wb3J0ICogYXMgSGV4IGZyb20gJy4uL2NvcmUvSGV4LmpzJztcbmNvbnN0IHRpcDIwUHJlZml4ID0gJzB4MjBjMCc7XG4vKipcbiAqIENvbnZlcnRzIGEgdG9rZW4gSUQgb3IgYWRkcmVzcyB0byBhIHRva2VuIElELlxuICpcbiAqIFRJUC0yMCBpcyBUZW1wbydzIG5hdGl2ZSB0b2tlbiBzdGFuZGFyZCBmb3Igc3RhYmxlY29pbnMgd2l0aCBkZXRlcm1pbmlzdGljIGFkZHJlc3Nlc1xuICogZGVyaXZlZCBmcm9tIHNlcXVlbnRpYWwgdG9rZW4gSURzIChwcmVmaXggYDB4MjBjMGApLlxuICpcbiAqIFtUSVAtMjAgVG9rZW4gU3RhbmRhcmRdKGh0dHBzOi8vZG9jcy50ZW1wby54eXovcHJvdG9jb2wvdGlwMjAvb3ZlcnZpZXcpXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBUb2tlbklkIH0gZnJvbSAnb3gvdGVtcG8nXG4gKlxuICogY29uc3QgdG9rZW5JZCA9IFRva2VuSWQuZnJvbSgxbilcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB0b2tlbklkT3JBZGRyZXNzIC0gVGhlIHRva2VuIElEIG9yIGFkZHJlc3MuXG4gKiBAcmV0dXJucyBUaGUgdG9rZW4gSUQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tKHRva2VuSWRPckFkZHJlc3MpIHtcbiAgICBpZiAodHlwZW9mIHRva2VuSWRPckFkZHJlc3MgPT09ICdiaWdpbnQnIHx8XG4gICAgICAgIHR5cGVvZiB0b2tlbklkT3JBZGRyZXNzID09PSAnbnVtYmVyJylcbiAgICAgICAgcmV0dXJuIEJpZ0ludCh0b2tlbklkT3JBZGRyZXNzKTtcbiAgICByZXR1cm4gZnJvbUFkZHJlc3ModG9rZW5JZE9yQWRkcmVzcyk7XG59XG4vKipcbiAqIENvbnZlcnRzIGEgVElQLTIwIHRva2VuIGFkZHJlc3MgdG8gYSB0b2tlbiBJRC5cbiAqXG4gKiBbVElQLTIwIFRva2VuIFN0YW5kYXJkXShodHRwczovL2RvY3MudGVtcG8ueHl6L3Byb3RvY29sL3RpcDIwL292ZXJ2aWV3KVxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0cyB0d29zbGFzaFxuICogaW1wb3J0IHsgVG9rZW5JZCB9IGZyb20gJ294L3RlbXBvJ1xuICpcbiAqIGNvbnN0IHRva2VuSWQgPSBUb2tlbklkLmZyb21BZGRyZXNzKCcweDIwYzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxJylcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBhZGRyZXNzIC0gVGhlIHRva2VuIGFkZHJlc3MuXG4gKiBAcmV0dXJucyBUaGUgdG9rZW4gSUQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmcm9tQWRkcmVzcyhhZGRyZXNzKSB7XG4gICAgaWYgKCFhZGRyZXNzLnRvTG93ZXJDYXNlKCkuc3RhcnRzV2l0aCh0aXAyMFByZWZpeCkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignaW52YWxpZCB0aXAyMCBhZGRyZXNzLicpO1xuICAgIHJldHVybiBIZXgudG9CaWdJbnQoSGV4LnNsaWNlKGFkZHJlc3MsIHRpcDIwUHJlZml4Lmxlbmd0aCkpO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhIFRJUC0yMCB0b2tlbiBJRCB0byBhbiBhZGRyZXNzLlxuICpcbiAqIFtUSVAtMjAgVG9rZW4gU3RhbmRhcmRdKGh0dHBzOi8vZG9jcy50ZW1wby54eXovcHJvdG9jb2wvdGlwMjAvb3ZlcnZpZXcpXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBUb2tlbklkIH0gZnJvbSAnb3gvdGVtcG8nXG4gKlxuICogY29uc3QgYWRkcmVzcyA9IFRva2VuSWQudG9BZGRyZXNzKDFuKVxuICogYGBgXG4gKlxuICogQHBhcmFtIHRva2VuSWQgLSBUaGUgdG9rZW4gSUQuXG4gKiBAcmV0dXJucyBUaGUgYWRkcmVzcy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvQWRkcmVzcyh0b2tlbklkKSB7XG4gICAgaWYgKHR5cGVvZiB0b2tlbklkID09PSAnc3RyaW5nJykge1xuICAgICAgICBBZGRyZXNzLmFzc2VydCh0b2tlbklkKTtcbiAgICAgICAgcmV0dXJuIHRva2VuSWQ7XG4gICAgfVxuICAgIGNvbnN0IHRva2VuSWRIZXggPSBIZXguZnJvbU51bWJlcih0b2tlbklkLCB7IHNpemU6IDE4IH0pO1xuICAgIHJldHVybiBIZXguY29uY2F0KHRpcDIwUHJlZml4LCB0b2tlbklkSGV4KTtcbn1cbi8qKlxuICogQ29tcHV0ZXMgYSBkZXRlcm1pbmlzdGljIFRJUC0yMCB0b2tlbiBhZGRyZXNzIGZyb20gYSBzZW5kZXIgYWRkcmVzcyBhbmQgc2FsdC5cbiAqXG4gKiBUaGUgYWRkcmVzcyBpcyBjb21wdXRlZCBhczogYFRJUDIwX1BSRUZJWCAoMTIgYnl0ZXMpIHx8IGtlY2NhazI1NihhYmkuZW5jb2RlKHNlbmRlciwgc2FsdCkpWzo4XWBcbiAqXG4gKiBbVElQLTIwIFRva2VuIFN0YW5kYXJkXShodHRwczovL2RvY3MudGVtcG8ueHl6L3Byb3RvY29sL3RpcDIwL292ZXJ2aWV3KVxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0cyB0d29zbGFzaFxuICogaW1wb3J0IHsgVG9rZW5JZCB9IGZyb20gJ294L3RlbXBvJ1xuICpcbiAqIGNvbnN0IGlkID0gVG9rZW5JZC5jb21wdXRlKHtcbiAqICAgc2VuZGVyOiAnMHgxMjM0NTY3ODkwMTIzNDU2Nzg5MDEyMzQ1Njc4OTAxMjM0NTY3ODkwJyxcbiAqICAgc2FsdDogJzB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMScsXG4gKiB9KVxuICogYGBgXG4gKlxuICogQHBhcmFtIHZhbHVlIC0gVGhlIHNlbmRlciBhZGRyZXNzIGFuZCBzYWx0LlxuICogQHJldHVybnMgVGhlIGNvbXB1dGVkIFRJUC0yMCB0b2tlbiBpZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXB1dGUodmFsdWUpIHtcbiAgICBjb25zdCBoYXNoID0gSGFzaC5rZWNjYWsyNTYoQWJpUGFyYW1ldGVycy5lbmNvZGUoQWJpUGFyYW1ldGVycy5mcm9tKCdhZGRyZXNzLCBieXRlczMyJyksIFtcbiAgICAgICAgdmFsdWUuc2VuZGVyLFxuICAgICAgICB2YWx1ZS5zYWx0LFxuICAgIF0pKTtcbiAgICByZXR1cm4gSGV4LnRvQmlnSW50KEhleC5zbGljZShoYXNoLCAwLCA4KSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ub2tlbklkLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/ox/_esm/tempo/TokenId.js\n\n}");

/***/ },

/***/ "./node_modules/ox/_esm/tempo/Transaction.js"
/*!***************************************************!*\
  !*** ./node_modules/ox/_esm/tempo/Transaction.js ***!
  \***************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   fromRpc: () => (/* binding */ fromRpc),\n/* harmony export */   fromRpcType: () => (/* binding */ fromRpcType),\n/* harmony export */   toRpc: () => (/* binding */ toRpc),\n/* harmony export */   toRpcType: () => (/* binding */ toRpcType)\n/* harmony export */ });\n/* harmony import */ var _core_Hex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Hex.js */ \"./node_modules/ox/_esm/core/Hex.js\");\n/* harmony import */ var _core_Signature_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Signature.js */ \"./node_modules/ox/_esm/core/Signature.js\");\n/* harmony import */ var _core_Transaction_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/Transaction.js */ \"./node_modules/ox/_esm/core/Transaction.js\");\n/* harmony import */ var _AuthorizationTempo_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./AuthorizationTempo.js */ \"./node_modules/ox/_esm/tempo/AuthorizationTempo.js\");\n/* harmony import */ var _KeyAuthorization_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./KeyAuthorization.js */ \"./node_modules/ox/_esm/tempo/KeyAuthorization.js\");\n/* harmony import */ var _SignatureEnvelope_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./SignatureEnvelope.js */ \"./node_modules/ox/_esm/tempo/SignatureEnvelope.js\");\n\n\n\n\n\n\n/** Type to RPC Type mapping. */\nconst toRpcType = {\n    ..._core_Transaction_js__WEBPACK_IMPORTED_MODULE_2__.toRpcType,\n    tempo: '0x76',\n};\n/** RPC Type to Type mapping. */\nconst fromRpcType = {\n    ..._core_Transaction_js__WEBPACK_IMPORTED_MODULE_2__.fromRpcType,\n    '0x76': 'tempo',\n};\n/**\n * Converts an {@link ox#Transaction.Rpc} to an {@link ox#Transaction.Transaction}.\n *\n * @example\n * ```ts twoslash\n * import { Transaction } from 'ox/tempo'\n *\n * const transaction = Transaction.fromRpc({\n *   hash: '0x353fdfc38a2f26115daadee9f5b8392ce62b84f410957967e2ed56b35338cdd0',\n *   nonce: '0x357',\n *   blockHash:\n *     '0xc350d807505fb835650f0013632c5515592987ba169bbc6626d9fc54d91f0f0b',\n *   blockNumber: '0x12f296f',\n *   calls: [\n *     {\n *       input: '0xdeadbeef',\n *       to: '0x3fc91a3afd70395cd496c647d5a6cc9d4b2b7fad',\n *       value: '0x9b6e64a8ec60000',\n *     },\n *   ],\n *   feeToken: '0x20c0000000000000000000000000000000000000',\n *   transactionIndex: '0x2',\n *   from: '0x814e5e0e31016b9a7f138c76b7e7b2bb5c1ab6a6',\n *   value: '0x9b6e64a8ec60000',\n *   gas: '0x43f5d',\n *   maxFeePerGas: '0x2ca6ae494',\n *   maxPriorityFeePerGas: '0x41cc3c0',\n *   input:\n *     '0x3593564c000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000006643504700000000000000000000000000000000000000000000000000000000000000040b080604000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000002800000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000009b6e64a8ec600000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000009b6e64a8ec60000000000000000000000000000000000000000000000000000019124bb5ae978c000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2000000000000000000000000c56c7a0eaa804f854b536a5f3d5f49d2ec4b12b80000000000000000000000000000000000000000000000000000000000000060000000000000000000000000c56c7a0eaa804f854b536a5f3d5f49d2ec4b12b8000000000000000000000000000000fee13a103a10d593b9ae06b3e05f2e7e1c00000000000000000000000000000000000000000000000000000000000000190000000000000000000000000000000000000000000000000000000000000060000000000000000000000000c56c7a0eaa804f854b536a5f3d5f49d2ec4b12b800000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000190240001b9872b',\n *   signature: {\n *     r: '0x635dc2033e60185bb36709c29c75d64ea51dfbd91c32ef4be198e4ceb169fb4d',\n *     s: '0x50c2667ac4c771072746acfdcf1f1483336dcca8bd2df47cd83175dbe60f0540',\n *     type: 'secp256k1',\n *     yParity: '0x0',\n *   },\n *   chainId: '0x1',\n *   accessList: [],\n *   type: '0x76',\n * })\n * ```\n *\n * @param transaction - The RPC transaction to convert.\n * @returns An instantiated {@link ox#Transaction.Transaction}.\n */\nfunction fromRpc(transaction, _options = {}) {\n    if (!transaction)\n        return null;\n    const transaction_ = _core_Transaction_js__WEBPACK_IMPORTED_MODULE_2__.fromRpc(transaction);\n    transaction_.type = fromRpcType[transaction.type];\n    if (transaction.aaAuthorizationList) {\n        transaction_.authorizationList = _AuthorizationTempo_js__WEBPACK_IMPORTED_MODULE_3__.fromRpcList(transaction.aaAuthorizationList);\n        delete transaction_.aaAuthorizationList;\n    }\n    if (transaction.calls)\n        transaction_.calls = transaction.calls.map((call) => ({\n            to: call.to,\n            value: call.value && call.value !== '0x' ? BigInt(call.value) : undefined,\n            // @ts-expect-error\n            data: call.input || call.data || '0x',\n        }));\n    if (transaction.feeToken)\n        transaction_.feeToken = transaction.feeToken;\n    if (transaction.nonceKey)\n        transaction_.nonceKey = BigInt(transaction.nonceKey);\n    if (transaction.signature)\n        transaction_.signature = _SignatureEnvelope_js__WEBPACK_IMPORTED_MODULE_5__.fromRpc(transaction.signature);\n    if (transaction.validAfter)\n        transaction_.validAfter = Number(transaction.validAfter);\n    if (transaction.validBefore)\n        transaction_.validBefore = Number(transaction.validBefore);\n    if (transaction.keyAuthorization)\n        transaction_.keyAuthorization = _KeyAuthorization_js__WEBPACK_IMPORTED_MODULE_4__.fromRpc(transaction.keyAuthorization);\n    if (transaction.feePayerSignature) {\n        transaction_.feePayerSignature = _core_Signature_js__WEBPACK_IMPORTED_MODULE_1__.fromRpc(transaction.feePayerSignature);\n        transaction_.feePayerSignature.v = _core_Signature_js__WEBPACK_IMPORTED_MODULE_1__.yParityToV(transaction_.feePayerSignature.yParity);\n    }\n    return transaction_;\n}\n/**\n * Converts an {@link ox#Transaction.Transaction} to an {@link ox#Transaction.Rpc}.\n *\n * @example\n * ```ts twoslash\n * import { Transaction } from 'ox/tempo'\n *\n * const transaction = Transaction.toRpc({\n *   accessList: [],\n *   blockHash:\n *     '0xc350d807505fb835650f0013632c5515592987ba169bbc6626d9fc54d91f0f0b',\n *   blockNumber: 19868015n,\n *   calls: [\n *     {\n *       data: '0xdeadbeef',\n *       to: '0x3fc91a3afd70395cd496c647d5a6cc9d4b2b7fad',\n *       value: 700000000000000000n,\n *     },\n *   ],\n *   chainId: 1,\n *   feeToken: '0x20c0000000000000000000000000000000000000',\n *   from: '0x814e5e0e31016b9a7f138c76b7e7b2bb5c1ab6a6',\n *   gas: 278365n,\n *   hash: '0x353fdfc38a2f26115daadee9f5b8392ce62b84f410957967e2ed56b35338cdd0',\n *   input:\n *     '0x3593564c000000000000000000000000000000000000000000000000000000000000006000000000000000000000000000000000000000000000000000000000000000a0000000000000000000000000000000000000000000000000000000006643504700000000000000000000000000000000000000000000000000000000000000040b080604000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000008000000000000000000000000000000000000000000000000000000000000000e0000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000000000000000000002800000000000000000000000000000000000000000000000000000000000000040000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000009b6e64a8ec600000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000009b6e64a8ec60000000000000000000000000000000000000000000000000000019124bb5ae978c000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000002000000000000000000000000c02aaa39b223fe8d0a0e5c4f27ead9083c756cc2000000000000000000000000c56c7a0eaa804f854b536a5f3d5f49d2ec4b12b80000000000000000000000000000000000000000000000000000000000000060000000000000000000000000c56c7a0eaa804f854b536a5f3d5f49d2ec4b12b8000000000000000000000000000000fee13a103a10d593b9ae06b3e05f2e7e1c00000000000000000000000000000000000000000000000000000000000000190000000000000000000000000000000000000000000000000000000000000060000000000000000000000000c56c7a0eaa804f854b536a5f3d5f49d2ec4b12b800000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000190240001b9872b',\n *   maxFeePerGas: 11985937556n,\n *   maxPriorityFeePerGas: 68993984n,\n *   nonce: 855n,\n *   signature: {\n *     signature: {\n *       r: 44944627813007772897391531230081695102703289123332187696115181104739239197517n,\n *       s: 36528503505192438307355164441104001310566505351980369085208178712678799181120n,\n *       yParity: 0,\n *     },\n *     type: 'secp256k1',\n *   },\n *   transactionIndex: 2,\n *   type: 'tempo',\n * })\n * ```\n *\n * @param transaction - The transaction to convert.\n * @returns An RPC-formatted transaction.\n */\nfunction toRpc(transaction, _options) {\n    const rpc = _core_Transaction_js__WEBPACK_IMPORTED_MODULE_2__.toRpc(transaction);\n    rpc.type = toRpcType[transaction.type];\n    if (transaction.authorizationList)\n        rpc.aaAuthorizationList = _AuthorizationTempo_js__WEBPACK_IMPORTED_MODULE_3__.toRpcList(transaction.authorizationList);\n    if (transaction.calls)\n        rpc.calls = transaction.calls.map((call) => ({\n            to: call.to,\n            value: call.value ? _core_Hex_js__WEBPACK_IMPORTED_MODULE_0__.fromNumber(call.value) : undefined,\n            data: call.data,\n        }));\n    if (transaction.feeToken)\n        rpc.feeToken = transaction.feeToken;\n    if (transaction.keyAuthorization)\n        rpc.keyAuthorization = _KeyAuthorization_js__WEBPACK_IMPORTED_MODULE_4__.toRpc(transaction.keyAuthorization);\n    if (transaction.feePayerSignature) {\n        rpc.feePayerSignature = _core_Signature_js__WEBPACK_IMPORTED_MODULE_1__.toRpc(transaction.feePayerSignature);\n        rpc.feePayerSignature.v = _core_Hex_js__WEBPACK_IMPORTED_MODULE_0__.fromNumber(_core_Signature_js__WEBPACK_IMPORTED_MODULE_1__.yParityToV(transaction.feePayerSignature?.yParity));\n    }\n    if (transaction.signature)\n        rpc.signature = _SignatureEnvelope_js__WEBPACK_IMPORTED_MODULE_5__.toRpc(transaction.signature);\n    if (typeof transaction.validAfter === 'number')\n        rpc.validAfter = _core_Hex_js__WEBPACK_IMPORTED_MODULE_0__.fromNumber(transaction.validAfter);\n    if (typeof transaction.validBefore === 'number')\n        rpc.validBefore = _core_Hex_js__WEBPACK_IMPORTED_MODULE_0__.fromNumber(transaction.validBefore);\n    return rpc;\n}\n//# sourceMappingURL=Transaction.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvb3gvX2VzbS90ZW1wby9UcmFuc2FjdGlvbi5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9veC9fZXNtL3RlbXBvL1RyYW5zYWN0aW9uLmpzPzc1MzEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICogYXMgSGV4IGZyb20gJy4uL2NvcmUvSGV4LmpzJztcbmltcG9ydCAqIGFzIFNpZ25hdHVyZSBmcm9tICcuLi9jb3JlL1NpZ25hdHVyZS5qcyc7XG5pbXBvcnQgKiBhcyBveF9UcmFuc2FjdGlvbiBmcm9tICcuLi9jb3JlL1RyYW5zYWN0aW9uLmpzJztcbmltcG9ydCAqIGFzIEF1dGhvcml6YXRpb25UZW1wbyBmcm9tICcuL0F1dGhvcml6YXRpb25UZW1wby5qcyc7XG5pbXBvcnQgKiBhcyBLZXlBdXRob3JpemF0aW9uIGZyb20gJy4vS2V5QXV0aG9yaXphdGlvbi5qcyc7XG5pbXBvcnQgKiBhcyBTaWduYXR1cmVFbnZlbG9wZSBmcm9tICcuL1NpZ25hdHVyZUVudmVsb3BlLmpzJztcbi8qKiBUeXBlIHRvIFJQQyBUeXBlIG1hcHBpbmcuICovXG5leHBvcnQgY29uc3QgdG9ScGNUeXBlID0ge1xuICAgIC4uLm94X1RyYW5zYWN0aW9uLnRvUnBjVHlwZSxcbiAgICB0ZW1wbzogJzB4NzYnLFxufTtcbi8qKiBSUEMgVHlwZSB0byBUeXBlIG1hcHBpbmcuICovXG5leHBvcnQgY29uc3QgZnJvbVJwY1R5cGUgPSB7XG4gICAgLi4ub3hfVHJhbnNhY3Rpb24uZnJvbVJwY1R5cGUsXG4gICAgJzB4NzYnOiAndGVtcG8nLFxufTtcbi8qKlxuICogQ29udmVydHMgYW4ge0BsaW5rIG94I1RyYW5zYWN0aW9uLlJwY30gdG8gYW4ge0BsaW5rIG94I1RyYW5zYWN0aW9uLlRyYW5zYWN0aW9ufS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHMgdHdvc2xhc2hcbiAqIGltcG9ydCB7IFRyYW5zYWN0aW9uIH0gZnJvbSAnb3gvdGVtcG8nXG4gKlxuICogY29uc3QgdHJhbnNhY3Rpb24gPSBUcmFuc2FjdGlvbi5mcm9tUnBjKHtcbiAqICAgaGFzaDogJzB4MzUzZmRmYzM4YTJmMjYxMTVkYWFkZWU5ZjViODM5MmNlNjJiODRmNDEwOTU3OTY3ZTJlZDU2YjM1MzM4Y2RkMCcsXG4gKiAgIG5vbmNlOiAnMHgzNTcnLFxuICogICBibG9ja0hhc2g6XG4gKiAgICAgJzB4YzM1MGQ4MDc1MDVmYjgzNTY1MGYwMDEzNjMyYzU1MTU1OTI5ODdiYTE2OWJiYzY2MjZkOWZjNTRkOTFmMGYwYicsXG4gKiAgIGJsb2NrTnVtYmVyOiAnMHgxMmYyOTZmJyxcbiAqICAgY2FsbHM6IFtcbiAqICAgICB7XG4gKiAgICAgICBpbnB1dDogJzB4ZGVhZGJlZWYnLFxuICogICAgICAgdG86ICcweDNmYzkxYTNhZmQ3MDM5NWNkNDk2YzY0N2Q1YTZjYzlkNGIyYjdmYWQnLFxuICogICAgICAgdmFsdWU6ICcweDliNmU2NGE4ZWM2MDAwMCcsXG4gKiAgICAgfSxcbiAqICAgXSxcbiAqICAgZmVlVG9rZW46ICcweDIwYzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnLFxuICogICB0cmFuc2FjdGlvbkluZGV4OiAnMHgyJyxcbiAqICAgZnJvbTogJzB4ODE0ZTVlMGUzMTAxNmI5YTdmMTM4Yzc2YjdlN2IyYmI1YzFhYjZhNicsXG4gKiAgIHZhbHVlOiAnMHg5YjZlNjRhOGVjNjAwMDAnLFxuICogICBnYXM6ICcweDQzZjVkJyxcbiAqICAgbWF4RmVlUGVyR2FzOiAnMHgyY2E2YWU0OTQnLFxuICogICBtYXhQcmlvcml0eUZlZVBlckdhczogJzB4NDFjYzNjMCcsXG4gKiAgIGlucHV0OlxuICogICAgICcweDM1OTM1NjRjMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA2MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwYTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDY2NDM1MDQ3MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwNDBiMDgwNjA0MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA0MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwZTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDI4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwNDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAyMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDliNmU2NGE4ZWM2MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAyMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDliNmU2NGE4ZWM2MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxOTEyNGJiNWFlOTc4YzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMGEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDBjMDJhYWEzOWIyMjNmZThkMGEwZTVjNGYyN2VhZDkwODNjNzU2Y2MyMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwYzU2YzdhMGVhYTgwNGY4NTRiNTM2YTVmM2Q1ZjQ5ZDJlYzRiMTJiODAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwNjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDBjNTZjN2EwZWFhODA0Zjg1NGI1MzZhNWYzZDVmNDlkMmVjNGIxMmI4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwZmVlMTNhMTAzYTEwZDU5M2I5YWUwNmIzZTA1ZjJlN2UxYzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMTkwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDYwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwYzU2YzdhMGVhYTgwNGY4NTRiNTM2YTVmM2Q1ZjQ5ZDJlYzRiMTJiODAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMTkwMjQwMDAxYjk4NzJiJyxcbiAqICAgc2lnbmF0dXJlOiB7XG4gKiAgICAgcjogJzB4NjM1ZGMyMDMzZTYwMTg1YmIzNjcwOWMyOWM3NWQ2NGVhNTFkZmJkOTFjMzJlZjRiZTE5OGU0Y2ViMTY5ZmI0ZCcsXG4gKiAgICAgczogJzB4NTBjMjY2N2FjNGM3NzEwNzI3NDZhY2ZkY2YxZjE0ODMzMzZkY2NhOGJkMmRmNDdjZDgzMTc1ZGJlNjBmMDU0MCcsXG4gKiAgICAgdHlwZTogJ3NlY3AyNTZrMScsXG4gKiAgICAgeVBhcml0eTogJzB4MCcsXG4gKiAgIH0sXG4gKiAgIGNoYWluSWQ6ICcweDEnLFxuICogICBhY2Nlc3NMaXN0OiBbXSxcbiAqICAgdHlwZTogJzB4NzYnLFxuICogfSlcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSB0cmFuc2FjdGlvbiAtIFRoZSBSUEMgdHJhbnNhY3Rpb24gdG8gY29udmVydC5cbiAqIEByZXR1cm5zIEFuIGluc3RhbnRpYXRlZCB7QGxpbmsgb3gjVHJhbnNhY3Rpb24uVHJhbnNhY3Rpb259LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJwYyh0cmFuc2FjdGlvbiwgX29wdGlvbnMgPSB7fSkge1xuICAgIGlmICghdHJhbnNhY3Rpb24pXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHRyYW5zYWN0aW9uXyA9IG94X1RyYW5zYWN0aW9uLmZyb21ScGModHJhbnNhY3Rpb24pO1xuICAgIHRyYW5zYWN0aW9uXy50eXBlID0gZnJvbVJwY1R5cGVbdHJhbnNhY3Rpb24udHlwZV07XG4gICAgaWYgKHRyYW5zYWN0aW9uLmFhQXV0aG9yaXphdGlvbkxpc3QpIHtcbiAgICAgICAgdHJhbnNhY3Rpb25fLmF1dGhvcml6YXRpb25MaXN0ID0gQXV0aG9yaXphdGlvblRlbXBvLmZyb21ScGNMaXN0KHRyYW5zYWN0aW9uLmFhQXV0aG9yaXphdGlvbkxpc3QpO1xuICAgICAgICBkZWxldGUgdHJhbnNhY3Rpb25fLmFhQXV0aG9yaXphdGlvbkxpc3Q7XG4gICAgfVxuICAgIGlmICh0cmFuc2FjdGlvbi5jYWxscylcbiAgICAgICAgdHJhbnNhY3Rpb25fLmNhbGxzID0gdHJhbnNhY3Rpb24uY2FsbHMubWFwKChjYWxsKSA9PiAoe1xuICAgICAgICAgICAgdG86IGNhbGwudG8sXG4gICAgICAgICAgICB2YWx1ZTogY2FsbC52YWx1ZSAmJiBjYWxsLnZhbHVlICE9PSAnMHgnID8gQmlnSW50KGNhbGwudmFsdWUpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgICAgICAgICAgZGF0YTogY2FsbC5pbnB1dCB8fCBjYWxsLmRhdGEgfHwgJzB4JyxcbiAgICAgICAgfSkpO1xuICAgIGlmICh0cmFuc2FjdGlvbi5mZWVUb2tlbilcbiAgICAgICAgdHJhbnNhY3Rpb25fLmZlZVRva2VuID0gdHJhbnNhY3Rpb24uZmVlVG9rZW47XG4gICAgaWYgKHRyYW5zYWN0aW9uLm5vbmNlS2V5KVxuICAgICAgICB0cmFuc2FjdGlvbl8ubm9uY2VLZXkgPSBCaWdJbnQodHJhbnNhY3Rpb24ubm9uY2VLZXkpO1xuICAgIGlmICh0cmFuc2FjdGlvbi5zaWduYXR1cmUpXG4gICAgICAgIHRyYW5zYWN0aW9uXy5zaWduYXR1cmUgPSBTaWduYXR1cmVFbnZlbG9wZS5mcm9tUnBjKHRyYW5zYWN0aW9uLnNpZ25hdHVyZSk7XG4gICAgaWYgKHRyYW5zYWN0aW9uLnZhbGlkQWZ0ZXIpXG4gICAgICAgIHRyYW5zYWN0aW9uXy52YWxpZEFmdGVyID0gTnVtYmVyKHRyYW5zYWN0aW9uLnZhbGlkQWZ0ZXIpO1xuICAgIGlmICh0cmFuc2FjdGlvbi52YWxpZEJlZm9yZSlcbiAgICAgICAgdHJhbnNhY3Rpb25fLnZhbGlkQmVmb3JlID0gTnVtYmVyKHRyYW5zYWN0aW9uLnZhbGlkQmVmb3JlKTtcbiAgICBpZiAodHJhbnNhY3Rpb24ua2V5QXV0aG9yaXphdGlvbilcbiAgICAgICAgdHJhbnNhY3Rpb25fLmtleUF1dGhvcml6YXRpb24gPSBLZXlBdXRob3JpemF0aW9uLmZyb21ScGModHJhbnNhY3Rpb24ua2V5QXV0aG9yaXphdGlvbik7XG4gICAgaWYgKHRyYW5zYWN0aW9uLmZlZVBheWVyU2lnbmF0dXJlKSB7XG4gICAgICAgIHRyYW5zYWN0aW9uXy5mZWVQYXllclNpZ25hdHVyZSA9IFNpZ25hdHVyZS5mcm9tUnBjKHRyYW5zYWN0aW9uLmZlZVBheWVyU2lnbmF0dXJlKTtcbiAgICAgICAgdHJhbnNhY3Rpb25fLmZlZVBheWVyU2lnbmF0dXJlLnYgPSBTaWduYXR1cmUueVBhcml0eVRvVih0cmFuc2FjdGlvbl8uZmVlUGF5ZXJTaWduYXR1cmUueVBhcml0eSk7XG4gICAgfVxuICAgIHJldHVybiB0cmFuc2FjdGlvbl87XG59XG4vKipcbiAqIENvbnZlcnRzIGFuIHtAbGluayBveCNUcmFuc2FjdGlvbi5UcmFuc2FjdGlvbn0gdG8gYW4ge0BsaW5rIG94I1RyYW5zYWN0aW9uLlJwY30uXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBUcmFuc2FjdGlvbiB9IGZyb20gJ294L3RlbXBvJ1xuICpcbiAqIGNvbnN0IHRyYW5zYWN0aW9uID0gVHJhbnNhY3Rpb24udG9ScGMoe1xuICogICBhY2Nlc3NMaXN0OiBbXSxcbiAqICAgYmxvY2tIYXNoOlxuICogICAgICcweGMzNTBkODA3NTA1ZmI4MzU2NTBmMDAxMzYzMmM1NTE1NTkyOTg3YmExNjliYmM2NjI2ZDlmYzU0ZDkxZjBmMGInLFxuICogICBibG9ja051bWJlcjogMTk4NjgwMTVuLFxuICogICBjYWxsczogW1xuICogICAgIHtcbiAqICAgICAgIGRhdGE6ICcweGRlYWRiZWVmJyxcbiAqICAgICAgIHRvOiAnMHgzZmM5MWEzYWZkNzAzOTVjZDQ5NmM2NDdkNWE2Y2M5ZDRiMmI3ZmFkJyxcbiAqICAgICAgIHZhbHVlOiA3MDAwMDAwMDAwMDAwMDAwMDBuLFxuICogICAgIH0sXG4gKiAgIF0sXG4gKiAgIGNoYWluSWQ6IDEsXG4gKiAgIGZlZVRva2VuOiAnMHgyMGMwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJyxcbiAqICAgZnJvbTogJzB4ODE0ZTVlMGUzMTAxNmI5YTdmMTM4Yzc2YjdlN2IyYmI1YzFhYjZhNicsXG4gKiAgIGdhczogMjc4MzY1bixcbiAqICAgaGFzaDogJzB4MzUzZmRmYzM4YTJmMjYxMTVkYWFkZWU5ZjViODM5MmNlNjJiODRmNDEwOTU3OTY3ZTJlZDU2YjM1MzM4Y2RkMCcsXG4gKiAgIGlucHV0OlxuICogICAgICcweDM1OTM1NjRjMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA2MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwYTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDY2NDM1MDQ3MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwNDBiMDgwNjA0MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA0MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDA4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwZTAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDI4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwNDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAyMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDliNmU2NGE4ZWM2MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAyMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDliNmU2NGE4ZWM2MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAxOTEyNGJiNWFlOTc4YzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMGEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDIwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDBjMDJhYWEzOWIyMjNmZThkMGEwZTVjNGYyN2VhZDkwODNjNzU2Y2MyMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwYzU2YzdhMGVhYTgwNGY4NTRiNTM2YTVmM2Q1ZjQ5ZDJlYzRiMTJiODAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwNjAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDBjNTZjN2EwZWFhODA0Zjg1NGI1MzZhNWYzZDVmNDlkMmVjNGIxMmI4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwZmVlMTNhMTAzYTEwZDU5M2I5YWUwNmIzZTA1ZjJlN2UxYzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMTkwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDYwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwYzU2YzdhMGVhYTgwNGY4NTRiNTM2YTVmM2Q1ZjQ5ZDJlYzRiMTJiODAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDEwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMTkwMjQwMDAxYjk4NzJiJyxcbiAqICAgbWF4RmVlUGVyR2FzOiAxMTk4NTkzNzU1Nm4sXG4gKiAgIG1heFByaW9yaXR5RmVlUGVyR2FzOiA2ODk5Mzk4NG4sXG4gKiAgIG5vbmNlOiA4NTVuLFxuICogICBzaWduYXR1cmU6IHtcbiAqICAgICBzaWduYXR1cmU6IHtcbiAqICAgICAgIHI6IDQ0OTQ0NjI3ODEzMDA3NzcyODk3MzkxNTMxMjMwMDgxNjk1MTAyNzAzMjg5MTIzMzMyMTg3Njk2MTE1MTgxMTA0NzM5MjM5MTk3NTE3bixcbiAqICAgICAgIHM6IDM2NTI4NTAzNTA1MTkyNDM4MzA3MzU1MTY0NDQxMTA0MDAxMzEwNTY2NTA1MzUxOTgwMzY5MDg1MjA4MTc4NzEyNjc4Nzk5MTgxMTIwbixcbiAqICAgICAgIHlQYXJpdHk6IDAsXG4gKiAgICAgfSxcbiAqICAgICB0eXBlOiAnc2VjcDI1NmsxJyxcbiAqICAgfSxcbiAqICAgdHJhbnNhY3Rpb25JbmRleDogMixcbiAqICAgdHlwZTogJ3RlbXBvJyxcbiAqIH0pXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gdHJhbnNhY3Rpb24gLSBUaGUgdHJhbnNhY3Rpb24gdG8gY29udmVydC5cbiAqIEByZXR1cm5zIEFuIFJQQy1mb3JtYXR0ZWQgdHJhbnNhY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b1JwYyh0cmFuc2FjdGlvbiwgX29wdGlvbnMpIHtcbiAgICBjb25zdCBycGMgPSBveF9UcmFuc2FjdGlvbi50b1JwYyh0cmFuc2FjdGlvbik7XG4gICAgcnBjLnR5cGUgPSB0b1JwY1R5cGVbdHJhbnNhY3Rpb24udHlwZV07XG4gICAgaWYgKHRyYW5zYWN0aW9uLmF1dGhvcml6YXRpb25MaXN0KVxuICAgICAgICBycGMuYWFBdXRob3JpemF0aW9uTGlzdCA9IEF1dGhvcml6YXRpb25UZW1wby50b1JwY0xpc3QodHJhbnNhY3Rpb24uYXV0aG9yaXphdGlvbkxpc3QpO1xuICAgIGlmICh0cmFuc2FjdGlvbi5jYWxscylcbiAgICAgICAgcnBjLmNhbGxzID0gdHJhbnNhY3Rpb24uY2FsbHMubWFwKChjYWxsKSA9PiAoe1xuICAgICAgICAgICAgdG86IGNhbGwudG8sXG4gICAgICAgICAgICB2YWx1ZTogY2FsbC52YWx1ZSA/IEhleC5mcm9tTnVtYmVyKGNhbGwudmFsdWUpIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGF0YTogY2FsbC5kYXRhLFxuICAgICAgICB9KSk7XG4gICAgaWYgKHRyYW5zYWN0aW9uLmZlZVRva2VuKVxuICAgICAgICBycGMuZmVlVG9rZW4gPSB0cmFuc2FjdGlvbi5mZWVUb2tlbjtcbiAgICBpZiAodHJhbnNhY3Rpb24ua2V5QXV0aG9yaXphdGlvbilcbiAgICAgICAgcnBjLmtleUF1dGhvcml6YXRpb24gPSBLZXlBdXRob3JpemF0aW9uLnRvUnBjKHRyYW5zYWN0aW9uLmtleUF1dGhvcml6YXRpb24pO1xuICAgIGlmICh0cmFuc2FjdGlvbi5mZWVQYXllclNpZ25hdHVyZSkge1xuICAgICAgICBycGMuZmVlUGF5ZXJTaWduYXR1cmUgPSBTaWduYXR1cmUudG9ScGModHJhbnNhY3Rpb24uZmVlUGF5ZXJTaWduYXR1cmUpO1xuICAgICAgICBycGMuZmVlUGF5ZXJTaWduYXR1cmUudiA9IEhleC5mcm9tTnVtYmVyKFNpZ25hdHVyZS55UGFyaXR5VG9WKHRyYW5zYWN0aW9uLmZlZVBheWVyU2lnbmF0dXJlPy55UGFyaXR5KSk7XG4gICAgfVxuICAgIGlmICh0cmFuc2FjdGlvbi5zaWduYXR1cmUpXG4gICAgICAgIHJwYy5zaWduYXR1cmUgPSBTaWduYXR1cmVFbnZlbG9wZS50b1JwYyh0cmFuc2FjdGlvbi5zaWduYXR1cmUpO1xuICAgIGlmICh0eXBlb2YgdHJhbnNhY3Rpb24udmFsaWRBZnRlciA9PT0gJ251bWJlcicpXG4gICAgICAgIHJwYy52YWxpZEFmdGVyID0gSGV4LmZyb21OdW1iZXIodHJhbnNhY3Rpb24udmFsaWRBZnRlcik7XG4gICAgaWYgKHR5cGVvZiB0cmFuc2FjdGlvbi52YWxpZEJlZm9yZSA9PT0gJ251bWJlcicpXG4gICAgICAgIHJwYy52YWxpZEJlZm9yZSA9IEhleC5mcm9tTnVtYmVyKHRyYW5zYWN0aW9uLnZhbGlkQmVmb3JlKTtcbiAgICByZXR1cm4gcnBjO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VHJhbnNhY3Rpb24uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/ox/_esm/tempo/Transaction.js\n\n}");

/***/ },

/***/ "./node_modules/ox/_esm/tempo/TransactionRequest.js"
/*!**********************************************************!*\
  !*** ./node_modules/ox/_esm/tempo/TransactionRequest.js ***!
  \**********************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   toRpc: () => (/* binding */ toRpc)\n/* harmony export */ });\n/* harmony import */ var _core_Hex_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/Hex.js */ \"./node_modules/ox/_esm/core/Hex.js\");\n/* harmony import */ var _core_TransactionRequest_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/TransactionRequest.js */ \"./node_modules/ox/_esm/core/TransactionRequest.js\");\n/* harmony import */ var _AuthorizationTempo_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./AuthorizationTempo.js */ \"./node_modules/ox/_esm/tempo/AuthorizationTempo.js\");\n/* harmony import */ var _KeyAuthorization_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./KeyAuthorization.js */ \"./node_modules/ox/_esm/tempo/KeyAuthorization.js\");\n/* harmony import */ var _TokenId_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./TokenId.js */ \"./node_modules/ox/_esm/tempo/TokenId.js\");\n/* harmony import */ var _Transaction_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Transaction.js */ \"./node_modules/ox/_esm/tempo/Transaction.js\");\n\n\n\n\n\n\n/**\n * Converts a {@link ox#TransactionRequest.TransactionRequest} to a {@link ox#TransactionRequest.Rpc}.\n *\n * @see {@link https://docs.tempo.xyz/protocol/transactions Tempo Transactions}\n *\n * @example\n * ```ts twoslash\n * import { Value } from 'ox'\n * import { TransactionRequest } from 'ox/tempo'\n *\n * const request = TransactionRequest.toRpc({\n *   calls: [{\n *     data: '0xdeadbeef',\n *     to: '0xcafebabecafebabecafebabecafebabecafebabe',\n *   }],\n *   feeToken: '0x20c0000000000000000000000000000000000000',\n * })\n * ```\n *\n * @example\n * ### Using with a Provider\n *\n * You can use {@link ox#Provider.(from:function)} to instantiate an EIP-1193 Provider and\n * send a transaction to the Wallet using the `eth_sendTransaction` method.\n *\n * ```ts twoslash\n * import 'ox/window'\n * import { Provider, Value } from 'ox'\n * import { TransactionRequest } from 'ox/tempo'\n *\n * const provider = Provider.from(window.ethereum!)\n *\n * const request = TransactionRequest.toRpc({\n *   calls: [{\n *     data: '0xdeadbeef',\n *     to: '0xcafebabecafebabecafebabecafebabecafebabe',\n *   }],\n *   feeToken: '0x20c0000000000000000000000000000000000000',\n * })\n *\n * const hash = await provider.request({ // [!code focus]\n *   method: 'eth_sendTransaction', // [!code focus]\n *   params: [request], // [!code focus]\n * }) // [!code focus]\n * ```\n *\n * @param request - The request to convert.\n * @returns An RPC request.\n */\nfunction toRpc(request) {\n    const request_rpc = _core_TransactionRequest_js__WEBPACK_IMPORTED_MODULE_1__.toRpc({\n        ...request,\n        authorizationList: undefined,\n    });\n    if (request.authorizationList)\n        request_rpc.authorizationList = _AuthorizationTempo_js__WEBPACK_IMPORTED_MODULE_2__.toRpcList(request.authorizationList);\n    if (request.calls)\n        request_rpc.calls = request.calls.map((call) => ({\n            to: call.to,\n            value: call.value ? _core_Hex_js__WEBPACK_IMPORTED_MODULE_0__.fromNumber(call.value) : '0x',\n            data: call.data ?? '0x',\n        }));\n    if (typeof request.feeToken !== 'undefined')\n        request_rpc.feeToken = _TokenId_js__WEBPACK_IMPORTED_MODULE_4__.toAddress(request.feeToken);\n    if (request.keyAuthorization)\n        request_rpc.keyAuthorization = _KeyAuthorization_js__WEBPACK_IMPORTED_MODULE_3__.toRpc(request.keyAuthorization);\n    if (typeof request.validBefore !== 'undefined')\n        request_rpc.validBefore = _core_Hex_js__WEBPACK_IMPORTED_MODULE_0__.fromNumber(request.validBefore);\n    if (typeof request.validAfter !== 'undefined')\n        request_rpc.validAfter = _core_Hex_js__WEBPACK_IMPORTED_MODULE_0__.fromNumber(request.validAfter);\n    const nonceKey = (() => {\n        if (request.nonceKey === 'random')\n            return _core_Hex_js__WEBPACK_IMPORTED_MODULE_0__.random(6);\n        if (typeof request.nonceKey === 'bigint')\n            return _core_Hex_js__WEBPACK_IMPORTED_MODULE_0__.fromNumber(request.nonceKey);\n        return undefined;\n    })();\n    if (nonceKey)\n        request_rpc.nonceKey = nonceKey;\n    if (typeof request.calls !== 'undefined' ||\n        typeof request.feeToken !== 'undefined' ||\n        typeof request.keyAuthorization !== 'undefined' ||\n        typeof request.nonceKey !== 'undefined' ||\n        typeof request.validBefore !== 'undefined' ||\n        typeof request.validAfter !== 'undefined' ||\n        request.type === 'tempo') {\n        request_rpc.type = _Transaction_js__WEBPACK_IMPORTED_MODULE_5__.toRpcType.tempo;\n        delete request_rpc.data;\n        delete request_rpc.input;\n        delete request_rpc.to;\n        delete request_rpc.value;\n    }\n    return request_rpc;\n}\n//# sourceMappingURL=TransactionRequest.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvb3gvX2VzbS90ZW1wby9UcmFuc2FjdGlvblJlcXVlc3QuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb3gvX2VzbS90ZW1wby9UcmFuc2FjdGlvblJlcXVlc3QuanM/ZjA1MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBIZXggZnJvbSAnLi4vY29yZS9IZXguanMnO1xuaW1wb3J0ICogYXMgb3hfVHJhbnNhY3Rpb25SZXF1ZXN0IGZyb20gJy4uL2NvcmUvVHJhbnNhY3Rpb25SZXF1ZXN0LmpzJztcbmltcG9ydCAqIGFzIEF1dGhvcml6YXRpb25UZW1wbyBmcm9tICcuL0F1dGhvcml6YXRpb25UZW1wby5qcyc7XG5pbXBvcnQgKiBhcyBLZXlBdXRob3JpemF0aW9uIGZyb20gJy4vS2V5QXV0aG9yaXphdGlvbi5qcyc7XG5pbXBvcnQgKiBhcyBUb2tlbklkIGZyb20gJy4vVG9rZW5JZC5qcyc7XG5pbXBvcnQgKiBhcyBUcmFuc2FjdGlvbiBmcm9tICcuL1RyYW5zYWN0aW9uLmpzJztcbi8qKlxuICogQ29udmVydHMgYSB7QGxpbmsgb3gjVHJhbnNhY3Rpb25SZXF1ZXN0LlRyYW5zYWN0aW9uUmVxdWVzdH0gdG8gYSB7QGxpbmsgb3gjVHJhbnNhY3Rpb25SZXF1ZXN0LlJwY30uXG4gKlxuICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9kb2NzLnRlbXBvLnh5ei9wcm90b2NvbC90cmFuc2FjdGlvbnMgVGVtcG8gVHJhbnNhY3Rpb25zfVxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0cyB0d29zbGFzaFxuICogaW1wb3J0IHsgVmFsdWUgfSBmcm9tICdveCdcbiAqIGltcG9ydCB7IFRyYW5zYWN0aW9uUmVxdWVzdCB9IGZyb20gJ294L3RlbXBvJ1xuICpcbiAqIGNvbnN0IHJlcXVlc3QgPSBUcmFuc2FjdGlvblJlcXVlc3QudG9ScGMoe1xuICogICBjYWxsczogW3tcbiAqICAgICBkYXRhOiAnMHhkZWFkYmVlZicsXG4gKiAgICAgdG86ICcweGNhZmViYWJlY2FmZWJhYmVjYWZlYmFiZWNhZmViYWJlY2FmZWJhYmUnLFxuICogICB9XSxcbiAqICAgZmVlVG9rZW46ICcweDIwYzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnLFxuICogfSlcbiAqIGBgYFxuICpcbiAqIEBleGFtcGxlXG4gKiAjIyMgVXNpbmcgd2l0aCBhIFByb3ZpZGVyXG4gKlxuICogWW91IGNhbiB1c2Uge0BsaW5rIG94I1Byb3ZpZGVyLihmcm9tOmZ1bmN0aW9uKX0gdG8gaW5zdGFudGlhdGUgYW4gRUlQLTExOTMgUHJvdmlkZXIgYW5kXG4gKiBzZW5kIGEgdHJhbnNhY3Rpb24gdG8gdGhlIFdhbGxldCB1c2luZyB0aGUgYGV0aF9zZW5kVHJhbnNhY3Rpb25gIG1ldGhvZC5cbiAqXG4gKiBgYGB0cyB0d29zbGFzaFxuICogaW1wb3J0ICdveC93aW5kb3cnXG4gKiBpbXBvcnQgeyBQcm92aWRlciwgVmFsdWUgfSBmcm9tICdveCdcbiAqIGltcG9ydCB7IFRyYW5zYWN0aW9uUmVxdWVzdCB9IGZyb20gJ294L3RlbXBvJ1xuICpcbiAqIGNvbnN0IHByb3ZpZGVyID0gUHJvdmlkZXIuZnJvbSh3aW5kb3cuZXRoZXJldW0hKVxuICpcbiAqIGNvbnN0IHJlcXVlc3QgPSBUcmFuc2FjdGlvblJlcXVlc3QudG9ScGMoe1xuICogICBjYWxsczogW3tcbiAqICAgICBkYXRhOiAnMHhkZWFkYmVlZicsXG4gKiAgICAgdG86ICcweGNhZmViYWJlY2FmZWJhYmVjYWZlYmFiZWNhZmViYWJlY2FmZWJhYmUnLFxuICogICB9XSxcbiAqICAgZmVlVG9rZW46ICcweDIwYzAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnLFxuICogfSlcbiAqXG4gKiBjb25zdCBoYXNoID0gYXdhaXQgcHJvdmlkZXIucmVxdWVzdCh7IC8vIFshY29kZSBmb2N1c11cbiAqICAgbWV0aG9kOiAnZXRoX3NlbmRUcmFuc2FjdGlvbicsIC8vIFshY29kZSBmb2N1c11cbiAqICAgcGFyYW1zOiBbcmVxdWVzdF0sIC8vIFshY29kZSBmb2N1c11cbiAqIH0pIC8vIFshY29kZSBmb2N1c11cbiAqIGBgYFxuICpcbiAqIEBwYXJhbSByZXF1ZXN0IC0gVGhlIHJlcXVlc3QgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIEFuIFJQQyByZXF1ZXN0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdG9ScGMocmVxdWVzdCkge1xuICAgIGNvbnN0IHJlcXVlc3RfcnBjID0gb3hfVHJhbnNhY3Rpb25SZXF1ZXN0LnRvUnBjKHtcbiAgICAgICAgLi4ucmVxdWVzdCxcbiAgICAgICAgYXV0aG9yaXphdGlvbkxpc3Q6IHVuZGVmaW5lZCxcbiAgICB9KTtcbiAgICBpZiAocmVxdWVzdC5hdXRob3JpemF0aW9uTGlzdClcbiAgICAgICAgcmVxdWVzdF9ycGMuYXV0aG9yaXphdGlvbkxpc3QgPSBBdXRob3JpemF0aW9uVGVtcG8udG9ScGNMaXN0KHJlcXVlc3QuYXV0aG9yaXphdGlvbkxpc3QpO1xuICAgIGlmIChyZXF1ZXN0LmNhbGxzKVxuICAgICAgICByZXF1ZXN0X3JwYy5jYWxscyA9IHJlcXVlc3QuY2FsbHMubWFwKChjYWxsKSA9PiAoe1xuICAgICAgICAgICAgdG86IGNhbGwudG8sXG4gICAgICAgICAgICB2YWx1ZTogY2FsbC52YWx1ZSA/IEhleC5mcm9tTnVtYmVyKGNhbGwudmFsdWUpIDogJzB4JyxcbiAgICAgICAgICAgIGRhdGE6IGNhbGwuZGF0YSA/PyAnMHgnLFxuICAgICAgICB9KSk7XG4gICAgaWYgKHR5cGVvZiByZXF1ZXN0LmZlZVRva2VuICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgcmVxdWVzdF9ycGMuZmVlVG9rZW4gPSBUb2tlbklkLnRvQWRkcmVzcyhyZXF1ZXN0LmZlZVRva2VuKTtcbiAgICBpZiAocmVxdWVzdC5rZXlBdXRob3JpemF0aW9uKVxuICAgICAgICByZXF1ZXN0X3JwYy5rZXlBdXRob3JpemF0aW9uID0gS2V5QXV0aG9yaXphdGlvbi50b1JwYyhyZXF1ZXN0LmtleUF1dGhvcml6YXRpb24pO1xuICAgIGlmICh0eXBlb2YgcmVxdWVzdC52YWxpZEJlZm9yZSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgIHJlcXVlc3RfcnBjLnZhbGlkQmVmb3JlID0gSGV4LmZyb21OdW1iZXIocmVxdWVzdC52YWxpZEJlZm9yZSk7XG4gICAgaWYgKHR5cGVvZiByZXF1ZXN0LnZhbGlkQWZ0ZXIgIT09ICd1bmRlZmluZWQnKVxuICAgICAgICByZXF1ZXN0X3JwYy52YWxpZEFmdGVyID0gSGV4LmZyb21OdW1iZXIocmVxdWVzdC52YWxpZEFmdGVyKTtcbiAgICBjb25zdCBub25jZUtleSA9ICgoKSA9PiB7XG4gICAgICAgIGlmIChyZXF1ZXN0Lm5vbmNlS2V5ID09PSAncmFuZG9tJylcbiAgICAgICAgICAgIHJldHVybiBIZXgucmFuZG9tKDYpO1xuICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3Qubm9uY2VLZXkgPT09ICdiaWdpbnQnKVxuICAgICAgICAgICAgcmV0dXJuIEhleC5mcm9tTnVtYmVyKHJlcXVlc3Qubm9uY2VLZXkpO1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0pKCk7XG4gICAgaWYgKG5vbmNlS2V5KVxuICAgICAgICByZXF1ZXN0X3JwYy5ub25jZUtleSA9IG5vbmNlS2V5O1xuICAgIGlmICh0eXBlb2YgcmVxdWVzdC5jYWxscyAhPT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgdHlwZW9mIHJlcXVlc3QuZmVlVG9rZW4gIT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgIHR5cGVvZiByZXF1ZXN0LmtleUF1dGhvcml6YXRpb24gIT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgIHR5cGVvZiByZXF1ZXN0Lm5vbmNlS2V5ICE9PSAndW5kZWZpbmVkJyB8fFxuICAgICAgICB0eXBlb2YgcmVxdWVzdC52YWxpZEJlZm9yZSAhPT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgdHlwZW9mIHJlcXVlc3QudmFsaWRBZnRlciAhPT0gJ3VuZGVmaW5lZCcgfHxcbiAgICAgICAgcmVxdWVzdC50eXBlID09PSAndGVtcG8nKSB7XG4gICAgICAgIHJlcXVlc3RfcnBjLnR5cGUgPSBUcmFuc2FjdGlvbi50b1JwY1R5cGUudGVtcG87XG4gICAgICAgIGRlbGV0ZSByZXF1ZXN0X3JwYy5kYXRhO1xuICAgICAgICBkZWxldGUgcmVxdWVzdF9ycGMuaW5wdXQ7XG4gICAgICAgIGRlbGV0ZSByZXF1ZXN0X3JwYy50bztcbiAgICAgICAgZGVsZXRlIHJlcXVlc3RfcnBjLnZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gcmVxdWVzdF9ycGM7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UcmFuc2FjdGlvblJlcXVlc3QuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/ox/_esm/tempo/TransactionRequest.js\n\n}");

/***/ },

/***/ "./node_modules/ox/_esm/tempo/TxEnvelopeTempo.js"
/*!*******************************************************!*\
  !*** ./node_modules/ox/_esm/tempo/TxEnvelopeTempo.js ***!
  \*******************************************************/
(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval("{__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   CallsEmptyError: () => (/* binding */ CallsEmptyError),\n/* harmony export */   InvalidValidityWindowError: () => (/* binding */ InvalidValidityWindowError),\n/* harmony export */   assert: () => (/* binding */ assert),\n/* harmony export */   deserialize: () => (/* binding */ deserialize),\n/* harmony export */   feePayerMagic: () => (/* binding */ feePayerMagic),\n/* harmony export */   from: () => (/* binding */ from),\n/* harmony export */   getFeePayerSignPayload: () => (/* binding */ getFeePayerSignPayload),\n/* harmony export */   getSignPayload: () => (/* binding */ getSignPayload),\n/* harmony export */   hash: () => (/* binding */ hash),\n/* harmony export */   serialize: () => (/* binding */ serialize),\n/* harmony export */   serializedType: () => (/* binding */ serializedType),\n/* harmony export */   type: () => (/* binding */ type),\n/* harmony export */   validate: () => (/* binding */ validate)\n/* harmony export */ });\n/* harmony import */ var _core_AccessList_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../core/AccessList.js */ \"./node_modules/ox/_esm/core/AccessList.js\");\n/* harmony import */ var _core_Address_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../core/Address.js */ \"./node_modules/ox/_esm/core/Address.js\");\n/* harmony import */ var _core_Errors_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../core/Errors.js */ \"./node_modules/ox/_esm/core/Errors.js\");\n/* harmony import */ var _core_Hash_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../core/Hash.js */ \"./node_modules/ox/_esm/core/Hash.js\");\n/* harmony import */ var _core_Hex_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../core/Hex.js */ \"./node_modules/ox/_esm/core/Hex.js\");\n/* harmony import */ var _core_Rlp_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../core/Rlp.js */ \"./node_modules/ox/_esm/core/Rlp.js\");\n/* harmony import */ var _core_Secp256k1_js__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../core/Secp256k1.js */ \"./node_modules/ox/_esm/core/Secp256k1.js\");\n/* harmony import */ var _core_Signature_js__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../core/Signature.js */ \"./node_modules/ox/_esm/core/Signature.js\");\n/* harmony import */ var _core_TxEnvelope_js__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../core/TxEnvelope.js */ \"./node_modules/ox/_esm/core/TxEnvelope.js\");\n/* harmony import */ var _AuthorizationTempo_js__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./AuthorizationTempo.js */ \"./node_modules/ox/_esm/tempo/AuthorizationTempo.js\");\n/* harmony import */ var _KeyAuthorization_js__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./KeyAuthorization.js */ \"./node_modules/ox/_esm/tempo/KeyAuthorization.js\");\n/* harmony import */ var _SignatureEnvelope_js__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./SignatureEnvelope.js */ \"./node_modules/ox/_esm/tempo/SignatureEnvelope.js\");\n/* harmony import */ var _TokenId_js__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./TokenId.js */ \"./node_modules/ox/_esm/tempo/TokenId.js\");\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst feePayerMagic = '0x78';\nconst serializedType = '0x76';\nconst type = 'tempo';\n/**\n * Asserts a {@link ox#TxEnvelopeTempo.TxEnvelopeTempo} is valid.\n *\n * @example\n * ```ts twoslash\n * import { TxEnvelopeTempo } from 'ox/tempo'\n *\n * TxEnvelopeTempo.assert({\n *   calls: [{ to: '0x0000000000000000000000000000000000000000', value: 0n }],\n *   chainId: 1,\n *   maxFeePerGas: 1000000000n,\n * })\n * ```\n *\n * @param envelope - The transaction envelope to assert.\n */\nfunction assert(envelope) {\n    const { calls, chainId, maxFeePerGas, maxPriorityFeePerGas, validBefore, validAfter, } = envelope;\n    // Calls must not be empty\n    if (!calls || calls.length === 0)\n        throw new CallsEmptyError();\n    // validBefore must be greater than validAfter if both are set\n    if (typeof validBefore === 'number' &&\n        typeof validAfter === 'number' &&\n        validBefore <= validAfter) {\n        throw new InvalidValidityWindowError({\n            validBefore: validBefore,\n            validAfter: validAfter,\n        });\n    }\n    // Validate each call\n    if (calls)\n        for (const call of calls)\n            if (call.to)\n                _core_Address_js__WEBPACK_IMPORTED_MODULE_1__.assert(call.to, { strict: false });\n    // Validate chain ID\n    if (chainId <= 0)\n        throw new _core_TxEnvelope_js__WEBPACK_IMPORTED_MODULE_8__.InvalidChainIdError({ chainId });\n    // Validate max fee per gas\n    if (maxFeePerGas && BigInt(maxFeePerGas) > 2n ** 256n - 1n)\n        throw new _core_TxEnvelope_js__WEBPACK_IMPORTED_MODULE_8__.FeeCapTooHighError({\n            feeCap: maxFeePerGas,\n        });\n    if (maxPriorityFeePerGas &&\n        maxFeePerGas &&\n        maxPriorityFeePerGas > maxFeePerGas)\n        throw new _core_TxEnvelope_js__WEBPACK_IMPORTED_MODULE_8__.TipAboveFeeCapError({\n            maxFeePerGas,\n            maxPriorityFeePerGas,\n        });\n}\n/**\n * Deserializes a {@link ox#TxEnvelopeTempo.TxEnvelopeTempo} from its serialized form.\n *\n * @example\n * ```ts twoslash\n * import { TxEnvelopeTempo } from 'ox/tempo'\n *\n * const envelope = TxEnvelopeTempo.deserialize('0x76f84a0182031184773594008477359400809470997970c51812dc3a010c7d01b50e0d17dc79c8880de0b6b3a764000080c0808080')\n * // @log: {\n * // @log:   type: 'tempo',\n * // @log:   nonce: 785n,\n * // @log:   maxFeePerGas: 2000000000n,\n * // @log:   gas: 1000000n,\n * // @log:   calls: [{ to: '0x70997970c51812dc3a010c7d01b50e0d17dc79c8', value: 1000000000000000000n }],\n * // @log: }\n * ```\n *\n * @param serialized - The serialized transaction.\n * @returns Deserialized Transaction Envelope.\n */\nfunction deserialize(serialized) {\n    const transactionArray = _core_Rlp_js__WEBPACK_IMPORTED_MODULE_5__.toHex(_core_Hex_js__WEBPACK_IMPORTED_MODULE_4__.slice(serialized, 1));\n    const [chainId, maxPriorityFeePerGas, maxFeePerGas, gas, calls, accessList, nonceKey, nonce, validBefore, validAfter, feeToken, feePayerSignatureOrSender, authorizationList, keyAuthorizationOrSignature, maybeSignature,] = transactionArray;\n    const keyAuthorization = Array.isArray(keyAuthorizationOrSignature)\n        ? keyAuthorizationOrSignature\n        : undefined;\n    const signature = keyAuthorization\n        ? maybeSignature\n        : keyAuthorizationOrSignature;\n    if (!(transactionArray.length === 13 ||\n        transactionArray.length === 14 ||\n        transactionArray.length === 15))\n        throw new _core_TxEnvelope_js__WEBPACK_IMPORTED_MODULE_8__.InvalidSerializedError({\n            attributes: {\n                authorizationList,\n                chainId,\n                maxPriorityFeePerGas,\n                maxFeePerGas,\n                gas,\n                calls,\n                accessList,\n                keyAuthorization,\n                nonceKey,\n                nonce,\n                validBefore,\n                validAfter,\n                feeToken,\n                feePayerSignatureOrSender,\n                ...(transactionArray.length > 12\n                    ? {\n                        signature,\n                    }\n                    : {}),\n            },\n            serialized,\n            type,\n        });\n    let transaction = {\n        chainId: Number(chainId),\n        type,\n    };\n    if (_core_Hex_js__WEBPACK_IMPORTED_MODULE_4__.validate(gas) && gas !== '0x')\n        transaction.gas = BigInt(gas);\n    if (_core_Hex_js__WEBPACK_IMPORTED_MODULE_4__.validate(nonce))\n        transaction.nonce = nonce === '0x' ? 0n : BigInt(nonce);\n    if (_core_Hex_js__WEBPACK_IMPORTED_MODULE_4__.validate(maxFeePerGas) && maxFeePerGas !== '0x')\n        transaction.maxFeePerGas = BigInt(maxFeePerGas);\n    if (_core_Hex_js__WEBPACK_IMPORTED_MODULE_4__.validate(maxPriorityFeePerGas) && maxPriorityFeePerGas !== '0x')\n        transaction.maxPriorityFeePerGas = BigInt(maxPriorityFeePerGas);\n    if (_core_Hex_js__WEBPACK_IMPORTED_MODULE_4__.validate(nonceKey))\n        transaction.nonceKey = nonceKey === '0x' ? 0n : BigInt(nonceKey);\n    if (_core_Hex_js__WEBPACK_IMPORTED_MODULE_4__.validate(validBefore) && validBefore !== '0x')\n        transaction.validBefore = Number(validBefore);\n    if (_core_Hex_js__WEBPACK_IMPORTED_MODULE_4__.validate(validAfter) && validAfter !== '0x')\n        transaction.validAfter = Number(validAfter);\n    if (_core_Hex_js__WEBPACK_IMPORTED_MODULE_4__.validate(feeToken) && feeToken !== '0x')\n        transaction.feeToken = feeToken;\n    // Parse calls array\n    if (calls && calls !== '0x') {\n        const callsArray = calls;\n        transaction.calls = callsArray.map((callTuple) => {\n            const [to, value, data] = callTuple;\n            const call = {};\n            if (to && to !== '0x')\n                call.to = to;\n            if (value && value !== '0x')\n                call.value = BigInt(value);\n            if (data && data !== '0x')\n                call.data = data;\n            return call;\n        });\n    }\n    if (accessList?.length !== 0 && accessList !== '0x')\n        transaction.accessList = _core_AccessList_js__WEBPACK_IMPORTED_MODULE_0__.fromTupleList(accessList);\n    if (authorizationList?.length !== 0 && authorizationList !== '0x')\n        transaction.authorizationList = _AuthorizationTempo_js__WEBPACK_IMPORTED_MODULE_9__.fromTupleList(authorizationList);\n    if (feePayerSignatureOrSender !== '0x' &&\n        feePayerSignatureOrSender !== undefined) {\n        if (feePayerSignatureOrSender === '0x00' ||\n            _core_Address_js__WEBPACK_IMPORTED_MODULE_1__.validate(feePayerSignatureOrSender)) {\n            transaction.feePayerSignature = null;\n            if (_core_Address_js__WEBPACK_IMPORTED_MODULE_1__.validate(feePayerSignatureOrSender))\n                transaction.from = feePayerSignatureOrSender;\n        }\n        else\n            transaction.feePayerSignature = _core_Signature_js__WEBPACK_IMPORTED_MODULE_7__.fromTuple(feePayerSignatureOrSender);\n    }\n    if (keyAuthorization)\n        transaction.keyAuthorization = _KeyAuthorization_js__WEBPACK_IMPORTED_MODULE_10__.fromTuple(keyAuthorization);\n    const signatureEnvelope = signature\n        ? _SignatureEnvelope_js__WEBPACK_IMPORTED_MODULE_11__.deserialize(signature)\n        : undefined;\n    if (signatureEnvelope)\n        transaction = {\n            ...transaction,\n            signature: signatureEnvelope,\n        };\n    // Recover sender address from the signature if not already set.\n    if (!transaction.from && signatureEnvelope) {\n        try {\n            if (signatureEnvelope.type === 'keychain')\n                transaction.from = signatureEnvelope.userAddress;\n            else if (signatureEnvelope.type === 'p256' ||\n                signatureEnvelope.type === 'webAuthn')\n                transaction.from = _core_Address_js__WEBPACK_IMPORTED_MODULE_1__.fromPublicKey(signatureEnvelope.publicKey);\n            else if (signatureEnvelope.type === 'secp256k1')\n                transaction.from = _core_Secp256k1_js__WEBPACK_IMPORTED_MODULE_6__.recoverAddress({\n                    payload: getSignPayload(from(transaction)),\n                    signature: signatureEnvelope.signature,\n                });\n        }\n        catch { }\n    }\n    assert(transaction);\n    return transaction;\n}\n/**\n * Converts an arbitrary transaction object into a Tempo Transaction Envelope.\n *\n * Use this to create transaction envelopes with Tempo-specific features like batched calls,\n * fee tokens, access keys, and scheduled execution. Attach a signature using the `signature`\n * option after signing with {@link ox#TxEnvelopeTempo.(getSignPayload:function)}.\n *\n * [Tempo Transaction Specification](https://docs.tempo.xyz/protocol/transactions/spec-tempo-transaction)\n *\n * @example\n * ```ts twoslash\n * import { Value } from 'ox'\n * import { TxEnvelopeTempo } from 'ox/tempo'\n *\n * const envelope = TxEnvelopeTempo.from({ // [!code focus]\n *   chainId: 1, // [!code focus]\n *   calls: [{ // [!code focus]\n *     data: '0xdeadbeef', // [!code focus]\n *     to: '0x0000000000000000000000000000000000000000', // [!code focus]\n *   }], // [!code focus]\n *   maxFeePerGas: Value.fromGwei('10'), // [!code focus]\n *   maxPriorityFeePerGas: Value.fromGwei('1'), // [!code focus]\n * }) // [!code focus]\n * ```\n *\n * @example\n * ### Attaching Signatures\n *\n * It is possible to attach a `signature` to the transaction envelope.\n *\n * ```ts twoslash\n * // @noErrors\n * import { Secp256k1, Value } from 'ox'\n * import { TxEnvelopeTempo } from 'ox/tempo'\n *\n * const envelope = TxEnvelopeTempo.from({\n *   chainId: 1,\n *   calls: [{\n *     data: '0xdeadbeef',\n *     to: '0x0000000000000000000000000000000000000000',\n *   }],\n *   maxFeePerGas: Value.fromGwei('10'),\n *   maxPriorityFeePerGas: Value.fromGwei('1'),\n * })\n *\n * const signature = Secp256k1.sign({\n *   payload: TxEnvelopeTempo.getSignPayload(envelope),\n *   privateKey: '0x...',\n * })\n *\n * const envelope_signed = TxEnvelopeTempo.from(envelope, { // [!code focus]\n *   signature, // [!code focus]\n * }) // [!code focus]\n * // @log: {\n * // @log:   chainId: 1,\n * // @log:   calls: [{ to: '0x0000000000000000000000000000000000000000', value: 1000000000000000000n }],\n * // @log:   maxFeePerGas: 10000000000n,\n * // @log:   maxPriorityFeePerGas: 1000000000n,\n * // @log:   type: 'tempo',\n * // @log:   r: 125...n,\n * // @log:   s: 642...n,\n * // @log:   yParity: 0,\n * // @log: }\n * ```\n *\n * @example\n * ### From Serialized\n *\n * It is possible to instantiate a Tempo Transaction Envelope from a {@link ox#TxEnvelopeTempo.Serialized} value.\n *\n * ```ts twoslash\n * import { TxEnvelopeTempo } from 'ox/tempo'\n *\n * const envelope = TxEnvelopeTempo.from('0x76f84a0182031184773594008477359400809470997970c51812dc3a010c7d01b50e0d17dc79c8880de0b6b3a764000080c0808080')\n * // @log: {\n * // @log:   chainId: 1,\n * // @log:   calls: [{\n * // @log:     data: '0xdeadbeef',\n * // @log:     to: '0x70997970c51812dc3a010c7d01b50e0d17dc79c8',\n * // @log:   }],\n * // @log:   maxFeePerGas: 10000000000n,\n * // @log:   type: 'tempo',\n * // @log: }\n * ```\n *\n * @param envelope - The transaction object to convert.\n * @param options - Options.\n * @returns A Tempo Transaction Envelope.\n */\nfunction from(envelope, options = {}) {\n    const { feePayerSignature, signature } = options;\n    const envelope_ = (typeof envelope === 'string' ? deserialize(envelope) : envelope);\n    assert(envelope_);\n    return {\n        ...envelope_,\n        ...(signature ? { signature: _SignatureEnvelope_js__WEBPACK_IMPORTED_MODULE_11__.from(signature) } : {}),\n        ...(feePayerSignature\n            ? { feePayerSignature: _core_Signature_js__WEBPACK_IMPORTED_MODULE_7__.from(feePayerSignature) }\n            : {}),\n        type: 'tempo',\n    };\n}\n/**\n * Serializes a {@link ox#TxEnvelopeTempo.TxEnvelopeTempo}.\n *\n * RLP-encodes the transaction with type prefix `0x76`. For fee sponsorship, use `format: 'feePayer'`\n * to serialize with the fee payer magic `0x78` and the sender address.\n *\n * [RLP Encoding](https://docs.tempo.xyz/protocol/transactions/spec-tempo-transaction#rlp-encoding)\n *\n * @example\n * ```ts twoslash\n * // @noErrors\n * import { Value } from 'ox'\n * import { TxEnvelopeTempo } from 'ox/tempo'\n *\n * const envelope = TxEnvelopeTempo.from({\n *   chainId: 1,\n *   calls: [{\n *     data: '0xdeadbeef',\n *     to: '0x0000000000000000000000000000000000000000',\n *   }],\n *   maxFeePerGas: Value.fromGwei('10'),\n * })\n *\n * const serialized = TxEnvelopeTempo.serialize(envelope) // [!code focus]\n * ```\n *\n * @example\n * ### Attaching Signatures\n *\n * It is possible to attach a `signature` to the serialized Transaction Envelope.\n *\n * ```ts twoslash\n * // @noErrors\n * import { Secp256k1, Value } from 'ox'\n * import { TxEnvelopeTempo } from 'ox/tempo'\n *\n * const envelope = TxEnvelopeTempo.from({\n *   chainId: 1,\n *   calls: [{\n *     data: '0xdeadbeef',\n *     to: '0x0000000000000000000000000000000000000000',\n *   }],\n *   maxFeePerGas: Value.fromGwei('10'),\n * })\n *\n * const signature = Secp256k1.sign({\n *   payload: TxEnvelopeTempo.getSignPayload(envelope),\n *   privateKey: '0x...',\n * })\n *\n * const serialized = TxEnvelopeTempo.serialize(envelope, { // [!code focus]\n *   signature, // [!code focus]\n * }) // [!code focus]\n *\n * // ... send `serialized` transaction to JSON-RPC `eth_sendRawTransaction`\n * ```\n *\n * @param envelope - The Transaction Envelope to serialize.\n * @param options - Options.\n * @returns The serialized Transaction Envelope.\n */\nfunction serialize(envelope, options = {}) {\n    const { accessList, authorizationList, calls, chainId, feeToken, gas, keyAuthorization, nonce, nonceKey, maxFeePerGas, maxPriorityFeePerGas, validBefore, validAfter, } = envelope;\n    assert(envelope);\n    const accessTupleList = _core_AccessList_js__WEBPACK_IMPORTED_MODULE_0__.toTupleList(accessList);\n    const signature = options.signature || envelope.signature;\n    const authorizationTupleList = _AuthorizationTempo_js__WEBPACK_IMPORTED_MODULE_9__.toTupleList(authorizationList);\n    // Encode calls as RLP list of [to, value, data] tuples\n    const callsTupleList = calls.map((call) => [\n        call.to ?? '0x',\n        call.value ? _core_Hex_js__WEBPACK_IMPORTED_MODULE_4__.fromNumber(call.value) : '0x',\n        call.data ?? '0x',\n    ]);\n    const feePayerSignatureOrSender = (() => {\n        // Explicit sender address provided  use as-is.\n        if (options.sender)\n            return options.sender;\n        // When serializing in fee payer format and a signature is present,\n        // derive the sender address from the signature so the fee payer proxy\n        // knows which account to cover fees for.\n        //\n        // - secp256k1: recover address via ecrecover from the sign payload.\n        // - p256/webAuthn: derive address from the embedded public key.\n        // - keychain: use the explicit `userAddress` on the signature.\n        if (options.format === 'feePayer' && signature) {\n            const sig = _SignatureEnvelope_js__WEBPACK_IMPORTED_MODULE_11__.from(signature);\n            if (sig.type === 'keychain')\n                return sig.userAddress;\n            if (sig.type === 'p256' || sig.type === 'webAuthn')\n                return _core_Address_js__WEBPACK_IMPORTED_MODULE_1__.fromPublicKey(sig.publicKey);\n            if (sig.type === 'secp256k1')\n                return _core_Secp256k1_js__WEBPACK_IMPORTED_MODULE_6__.recoverAddress({\n                    payload: getSignPayload(from(envelope)),\n                    signature: sig.signature,\n                });\n        }\n        const feePayerSignature = typeof options.feePayerSignature !== 'undefined'\n            ? options.feePayerSignature\n            : envelope.feePayerSignature;\n        // `null` indicates the envelope is intended to be signed by a fee payer\n        // but hasn't been signed yet  encode as a single zero byte marker.\n        if (feePayerSignature === null)\n            return '0x00';\n        // No fee payer involvement  omit from the envelope.\n        if (!feePayerSignature)\n            return '0x';\n        // Fee payer has signed  encode the signature as an RLP tuple.\n        return _core_Signature_js__WEBPACK_IMPORTED_MODULE_7__.toTuple(feePayerSignature);\n    })();\n    const serialized = [\n        _core_Hex_js__WEBPACK_IMPORTED_MODULE_4__.fromNumber(chainId),\n        maxPriorityFeePerGas ? _core_Hex_js__WEBPACK_IMPORTED_MODULE_4__.fromNumber(maxPriorityFeePerGas) : '0x',\n        maxFeePerGas ? _core_Hex_js__WEBPACK_IMPORTED_MODULE_4__.fromNumber(maxFeePerGas) : '0x',\n        gas ? _core_Hex_js__WEBPACK_IMPORTED_MODULE_4__.fromNumber(gas) : '0x',\n        callsTupleList,\n        accessTupleList,\n        nonceKey ? _core_Hex_js__WEBPACK_IMPORTED_MODULE_4__.fromNumber(nonceKey) : '0x',\n        nonce ? _core_Hex_js__WEBPACK_IMPORTED_MODULE_4__.fromNumber(nonce) : '0x',\n        typeof validBefore === 'number' ? _core_Hex_js__WEBPACK_IMPORTED_MODULE_4__.fromNumber(validBefore) : '0x',\n        typeof validAfter === 'number' ? _core_Hex_js__WEBPACK_IMPORTED_MODULE_4__.fromNumber(validAfter) : '0x',\n        typeof feeToken === 'bigint' || typeof feeToken === 'string'\n            ? _TokenId_js__WEBPACK_IMPORTED_MODULE_12__.toAddress(feeToken)\n            : '0x',\n        feePayerSignatureOrSender,\n        authorizationTupleList,\n        ...(keyAuthorization ? [_KeyAuthorization_js__WEBPACK_IMPORTED_MODULE_10__.toTuple(keyAuthorization)] : []),\n        ...(signature\n            ? [_SignatureEnvelope_js__WEBPACK_IMPORTED_MODULE_11__.serialize(_SignatureEnvelope_js__WEBPACK_IMPORTED_MODULE_11__.from(signature))]\n            : []),\n    ];\n    return _core_Hex_js__WEBPACK_IMPORTED_MODULE_4__.concat(options.format === 'feePayer' ? feePayerMagic : serializedType, _core_Rlp_js__WEBPACK_IMPORTED_MODULE_5__.fromHex(serialized));\n}\n/**\n * Returns the payload to sign for a {@link ox#TxEnvelopeTempo.TxEnvelopeTempo}.\n *\n * Computes the keccak256 hash of the unsigned serialized transaction. Sign this payload\n * with secp256k1, P256, or WebAuthn, then attach the signature via {@link ox#TxEnvelopeTempo.(from:function)}.\n *\n * [Tempo Transaction Specification](https://docs.tempo.xyz/protocol/transactions/spec-tempo-transaction)\n *\n * @example\n * The example below demonstrates how to compute the sign payload which can be used\n * with ECDSA signing utilities like {@link ox#Secp256k1.(sign:function)}.\n *\n * ```ts twoslash\n * // @noErrors\n * import { Secp256k1 } from 'ox'\n * import { TxEnvelopeTempo } from 'ox/tempo'\n *\n * const envelope = TxEnvelopeTempo.from({\n *   chainId: 1,\n *   calls: [{\n *     data: '0xdeadbeef',\n *     to: '0x70997970c51812dc3a010c7d01b50e0d17dc79c8',\n *   }],\n *   nonce: 0n,\n *   maxFeePerGas: 1000000000n,\n *   gas: 21000n,\n * })\n *\n * const payload = TxEnvelopeTempo.getSignPayload(envelope) // [!code focus]\n * // @log: '0x...'\n *\n * const signature = Secp256k1.sign({ payload, privateKey: '0x...' })\n * ```\n *\n * @param envelope - The transaction envelope to get the sign payload for.\n * @returns The sign payload.\n */\nfunction getSignPayload(envelope) {\n    return hash(envelope, { presign: true });\n}\n/**\n * Hashes a {@link ox#TxEnvelopeTempo.TxEnvelopeTempo}. This is the \"transaction hash\".\n *\n * @example\n * ```ts twoslash\n * // @noErrors\n * import { Secp256k1 } from 'ox'\n * import { TxEnvelopeTempo } from 'ox/tempo'\n *\n * const envelope = TxEnvelopeTempo.from({\n *   chainId: 1,\n *   calls: [{\n *     data: '0xdeadbeef',\n *     to: '0x70997970c51812dc3a010c7d01b50e0d17dc79c8',\n *   }],\n *   nonce: 0n,\n *   maxFeePerGas: 1000000000n,\n *   gas: 21000n,\n * })\n *\n * const signature = Secp256k1.sign({\n *   payload: TxEnvelopeTempo.getSignPayload(envelope),\n *   privateKey: '0x...'\n * })\n *\n * const envelope_signed = TxEnvelopeTempo.from(envelope, { signature })\n *\n * const hash = TxEnvelopeTempo.hash(envelope_signed) // [!code focus]\n * ```\n *\n * @param envelope - The Tempo Transaction Envelope to hash.\n * @param options - Options.\n * @returns The hash of the transaction envelope.\n */\nfunction hash(envelope, options = {}) {\n    const serialized = serialize({\n        ...envelope,\n        ...(options.presign\n            ? {\n                signature: undefined,\n            }\n            : {}),\n    });\n    return _core_Hash_js__WEBPACK_IMPORTED_MODULE_3__.keccak256(serialized);\n}\n/**\n * Returns the fee payer payload to sign for a {@link ox#TxEnvelopeTempo.TxEnvelopeTempo}.\n *\n * Fee sponsorship uses a dual-signature scheme: the sender signs the transaction, then a fee payer\n * signs over the transaction with the sender's address to commit to paying fees. The fee payer's\n * signature includes the `feeToken` and `sender_address`, using magic byte `0x78` for domain separation.\n *\n * [Fee Payer Signature](https://docs.tempo.xyz/protocol/transactions/spec-tempo-transaction#fee-payer-signature)\n * [Fee Sponsorship Guide](https://docs.tempo.xyz/protocol/transactions#fee-sponsorship)\n *\n * @example\n * ```ts twoslash\n * // @noErrors\n * import { Secp256k1 } from 'ox'\n * import { TxEnvelopeTempo } from 'ox/tempo'\n *\n * const envelope = TxEnvelopeTempo.from({\n *   chainId: 1,\n *   calls: [{\n *     data: '0xdeadbeef',\n *     to: '0x70997970c51812dc3a010c7d01b50e0d17dc79c8',\n *   }],\n *   nonce: 0n,\n *   maxFeePerGas: 1000000000n,\n *   gas: 21000n,\n * })\n *\n * const payload = TxEnvelopeTempo.getFeePayerSignPayload(envelope, {\n *   sender: '0xd8da6bf26964af9d7eed9e03e53415d37aa96045'\n * }) // [!code focus]\n * // @log: '0x...'\n *\n * const signature = Secp256k1.sign({ payload, privateKey: '0x...' })\n * ```\n *\n * @param envelope - The transaction envelope to get the fee payer sign payload for.\n * @param options - Options.\n * @returns The fee payer sign payload.\n */\nfunction getFeePayerSignPayload(envelope, options) {\n    const { sender } = options;\n    const serialized = serialize({ ...envelope, signature: undefined }, {\n        sender,\n        format: 'feePayer',\n    });\n    return _core_Hash_js__WEBPACK_IMPORTED_MODULE_3__.keccak256(serialized);\n}\n/**\n * Validates a {@link ox#TxEnvelopeTempo.TxEnvelopeTempo}. Returns `true` if the envelope is valid, `false` otherwise.\n *\n * @example\n * ```ts twoslash\n * import { TxEnvelopeTempo } from 'ox/tempo'\n *\n * const valid = TxEnvelopeTempo.validate({\n *   calls: [{\n *     data: '0xdeadbeef',\n *     to: '0x0000000000000000000000000000000000000000',\n *   }],\n *   chainId: 1,\n *   maxFeePerGas: 1000000000n,\n * })\n * // @log: true\n * ```\n *\n * @param envelope - The transaction envelope to validate.\n */\nfunction validate(envelope) {\n    try {\n        assert(envelope);\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\n/**\n * Thrown when a transaction's calls list is empty.\n *\n * @example\n * ```ts twoslash\n * import { TxEnvelopeTempo } from 'ox/tempo'\n *\n * TxEnvelopeTempo.assert({\n *   calls: [],\n *   chainId: 1,\n * })\n * // @error: TxEnvelopeTempo.CallsEmptyError: Calls list cannot be empty.\n * ```\n */\nclass CallsEmptyError extends _core_Errors_js__WEBPACK_IMPORTED_MODULE_2__.BaseError {\n    constructor() {\n        super('Calls list cannot be empty.');\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'TxEnvelopeTempo.CallsEmptyError'\n        });\n    }\n}\n/**\n * Thrown when validBefore is not greater than validAfter.\n *\n * @example\n * ```ts twoslash\n * import { TxEnvelopeTempo } from 'ox/tempo'\n *\n * TxEnvelopeTempo.assert({\n *   calls: [{ to: '0x0000000000000000000000000000000000000000' }],\n *   chainId: 1,\n *   validBefore: 100,\n *   validAfter: 200,\n * })\n * // @error: TxEnvelopeTempo.InvalidValidityWindowError: validBefore (100) must be greater than validAfter (200).\n * ```\n */\nclass InvalidValidityWindowError extends _core_Errors_js__WEBPACK_IMPORTED_MODULE_2__.BaseError {\n    constructor({ validBefore, validAfter, }) {\n        super(`validBefore (${validBefore}) must be greater than validAfter (${validAfter}).`);\n        Object.defineProperty(this, \"name\", {\n            enumerable: true,\n            configurable: true,\n            writable: true,\n            value: 'TxEnvelopeTempo.InvalidValidityWindowError'\n        });\n    }\n}\n//# sourceMappingURL=TxEnvelopeTempo.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvb3gvX2VzbS90ZW1wby9UeEVudmVsb3BlVGVtcG8uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvb3gvX2VzbS90ZW1wby9UeEVudmVsb3BlVGVtcG8uanM/OWI3NSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgKiBhcyBBY2Nlc3NMaXN0IGZyb20gJy4uL2NvcmUvQWNjZXNzTGlzdC5qcyc7XG5pbXBvcnQgKiBhcyBBZGRyZXNzIGZyb20gJy4uL2NvcmUvQWRkcmVzcy5qcyc7XG5pbXBvcnQgKiBhcyBFcnJvcnMgZnJvbSAnLi4vY29yZS9FcnJvcnMuanMnO1xuaW1wb3J0ICogYXMgSGFzaCBmcm9tICcuLi9jb3JlL0hhc2guanMnO1xuaW1wb3J0ICogYXMgSGV4IGZyb20gJy4uL2NvcmUvSGV4LmpzJztcbmltcG9ydCAqIGFzIFJscCBmcm9tICcuLi9jb3JlL1JscC5qcyc7XG5pbXBvcnQgKiBhcyBTZWNwMjU2azEgZnJvbSAnLi4vY29yZS9TZWNwMjU2azEuanMnO1xuaW1wb3J0ICogYXMgU2lnbmF0dXJlIGZyb20gJy4uL2NvcmUvU2lnbmF0dXJlLmpzJztcbmltcG9ydCAqIGFzIFRyYW5zYWN0aW9uRW52ZWxvcGUgZnJvbSAnLi4vY29yZS9UeEVudmVsb3BlLmpzJztcbmltcG9ydCAqIGFzIEF1dGhvcml6YXRpb25UZW1wbyBmcm9tICcuL0F1dGhvcml6YXRpb25UZW1wby5qcyc7XG5pbXBvcnQgKiBhcyBLZXlBdXRob3JpemF0aW9uIGZyb20gJy4vS2V5QXV0aG9yaXphdGlvbi5qcyc7XG5pbXBvcnQgKiBhcyBTaWduYXR1cmVFbnZlbG9wZSBmcm9tICcuL1NpZ25hdHVyZUVudmVsb3BlLmpzJztcbmltcG9ydCAqIGFzIFRva2VuSWQgZnJvbSAnLi9Ub2tlbklkLmpzJztcbmV4cG9ydCBjb25zdCBmZWVQYXllck1hZ2ljID0gJzB4NzgnO1xuZXhwb3J0IGNvbnN0IHNlcmlhbGl6ZWRUeXBlID0gJzB4NzYnO1xuZXhwb3J0IGNvbnN0IHR5cGUgPSAndGVtcG8nO1xuLyoqXG4gKiBBc3NlcnRzIGEge0BsaW5rIG94I1R4RW52ZWxvcGVUZW1wby5UeEVudmVsb3BlVGVtcG99IGlzIHZhbGlkLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0cyB0d29zbGFzaFxuICogaW1wb3J0IHsgVHhFbnZlbG9wZVRlbXBvIH0gZnJvbSAnb3gvdGVtcG8nXG4gKlxuICogVHhFbnZlbG9wZVRlbXBvLmFzc2VydCh7XG4gKiAgIGNhbGxzOiBbeyB0bzogJzB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcsIHZhbHVlOiAwbiB9XSxcbiAqICAgY2hhaW5JZDogMSxcbiAqICAgbWF4RmVlUGVyR2FzOiAxMDAwMDAwMDAwbixcbiAqIH0pXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gZW52ZWxvcGUgLSBUaGUgdHJhbnNhY3Rpb24gZW52ZWxvcGUgdG8gYXNzZXJ0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0KGVudmVsb3BlKSB7XG4gICAgY29uc3QgeyBjYWxscywgY2hhaW5JZCwgbWF4RmVlUGVyR2FzLCBtYXhQcmlvcml0eUZlZVBlckdhcywgdmFsaWRCZWZvcmUsIHZhbGlkQWZ0ZXIsIH0gPSBlbnZlbG9wZTtcbiAgICAvLyBDYWxscyBtdXN0IG5vdCBiZSBlbXB0eVxuICAgIGlmICghY2FsbHMgfHwgY2FsbHMubGVuZ3RoID09PSAwKVxuICAgICAgICB0aHJvdyBuZXcgQ2FsbHNFbXB0eUVycm9yKCk7XG4gICAgLy8gdmFsaWRCZWZvcmUgbXVzdCBiZSBncmVhdGVyIHRoYW4gdmFsaWRBZnRlciBpZiBib3RoIGFyZSBzZXRcbiAgICBpZiAodHlwZW9mIHZhbGlkQmVmb3JlID09PSAnbnVtYmVyJyAmJlxuICAgICAgICB0eXBlb2YgdmFsaWRBZnRlciA9PT0gJ251bWJlcicgJiZcbiAgICAgICAgdmFsaWRCZWZvcmUgPD0gdmFsaWRBZnRlcikge1xuICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFZhbGlkaXR5V2luZG93RXJyb3Ioe1xuICAgICAgICAgICAgdmFsaWRCZWZvcmU6IHZhbGlkQmVmb3JlLFxuICAgICAgICAgICAgdmFsaWRBZnRlcjogdmFsaWRBZnRlcixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIFZhbGlkYXRlIGVhY2ggY2FsbFxuICAgIGlmIChjYWxscylcbiAgICAgICAgZm9yIChjb25zdCBjYWxsIG9mIGNhbGxzKVxuICAgICAgICAgICAgaWYgKGNhbGwudG8pXG4gICAgICAgICAgICAgICAgQWRkcmVzcy5hc3NlcnQoY2FsbC50bywgeyBzdHJpY3Q6IGZhbHNlIH0pO1xuICAgIC8vIFZhbGlkYXRlIGNoYWluIElEXG4gICAgaWYgKGNoYWluSWQgPD0gMClcbiAgICAgICAgdGhyb3cgbmV3IFRyYW5zYWN0aW9uRW52ZWxvcGUuSW52YWxpZENoYWluSWRFcnJvcih7IGNoYWluSWQgfSk7XG4gICAgLy8gVmFsaWRhdGUgbWF4IGZlZSBwZXIgZ2FzXG4gICAgaWYgKG1heEZlZVBlckdhcyAmJiBCaWdJbnQobWF4RmVlUGVyR2FzKSA+IDJuICoqIDI1Nm4gLSAxbilcbiAgICAgICAgdGhyb3cgbmV3IFRyYW5zYWN0aW9uRW52ZWxvcGUuRmVlQ2FwVG9vSGlnaEVycm9yKHtcbiAgICAgICAgICAgIGZlZUNhcDogbWF4RmVlUGVyR2FzLFxuICAgICAgICB9KTtcbiAgICBpZiAobWF4UHJpb3JpdHlGZWVQZXJHYXMgJiZcbiAgICAgICAgbWF4RmVlUGVyR2FzICYmXG4gICAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzID4gbWF4RmVlUGVyR2FzKVxuICAgICAgICB0aHJvdyBuZXcgVHJhbnNhY3Rpb25FbnZlbG9wZS5UaXBBYm92ZUZlZUNhcEVycm9yKHtcbiAgICAgICAgICAgIG1heEZlZVBlckdhcyxcbiAgICAgICAgICAgIG1heFByaW9yaXR5RmVlUGVyR2FzLFxuICAgICAgICB9KTtcbn1cbi8qKlxuICogRGVzZXJpYWxpemVzIGEge0BsaW5rIG94I1R4RW52ZWxvcGVUZW1wby5UeEVudmVsb3BlVGVtcG99IGZyb20gaXRzIHNlcmlhbGl6ZWQgZm9ybS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHMgdHdvc2xhc2hcbiAqIGltcG9ydCB7IFR4RW52ZWxvcGVUZW1wbyB9IGZyb20gJ294L3RlbXBvJ1xuICpcbiAqIGNvbnN0IGVudmVsb3BlID0gVHhFbnZlbG9wZVRlbXBvLmRlc2VyaWFsaXplKCcweDc2Zjg0YTAxODIwMzExODQ3NzM1OTQwMDg0NzczNTk0MDA4MDk0NzA5OTc5NzBjNTE4MTJkYzNhMDEwYzdkMDFiNTBlMGQxN2RjNzljODg4MGRlMGI2YjNhNzY0MDAwMDgwYzA4MDgwODAnKVxuICogLy8gQGxvZzoge1xuICogLy8gQGxvZzogICB0eXBlOiAndGVtcG8nLFxuICogLy8gQGxvZzogICBub25jZTogNzg1bixcbiAqIC8vIEBsb2c6ICAgbWF4RmVlUGVyR2FzOiAyMDAwMDAwMDAwbixcbiAqIC8vIEBsb2c6ICAgZ2FzOiAxMDAwMDAwbixcbiAqIC8vIEBsb2c6ICAgY2FsbHM6IFt7IHRvOiAnMHg3MDk5Nzk3MGM1MTgxMmRjM2EwMTBjN2QwMWI1MGUwZDE3ZGM3OWM4JywgdmFsdWU6IDEwMDAwMDAwMDAwMDAwMDAwMDBuIH1dLFxuICogLy8gQGxvZzogfVxuICogYGBgXG4gKlxuICogQHBhcmFtIHNlcmlhbGl6ZWQgLSBUaGUgc2VyaWFsaXplZCB0cmFuc2FjdGlvbi5cbiAqIEByZXR1cm5zIERlc2VyaWFsaXplZCBUcmFuc2FjdGlvbiBFbnZlbG9wZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlc2VyaWFsaXplKHNlcmlhbGl6ZWQpIHtcbiAgICBjb25zdCB0cmFuc2FjdGlvbkFycmF5ID0gUmxwLnRvSGV4KEhleC5zbGljZShzZXJpYWxpemVkLCAxKSk7XG4gICAgY29uc3QgW2NoYWluSWQsIG1heFByaW9yaXR5RmVlUGVyR2FzLCBtYXhGZWVQZXJHYXMsIGdhcywgY2FsbHMsIGFjY2Vzc0xpc3QsIG5vbmNlS2V5LCBub25jZSwgdmFsaWRCZWZvcmUsIHZhbGlkQWZ0ZXIsIGZlZVRva2VuLCBmZWVQYXllclNpZ25hdHVyZU9yU2VuZGVyLCBhdXRob3JpemF0aW9uTGlzdCwga2V5QXV0aG9yaXphdGlvbk9yU2lnbmF0dXJlLCBtYXliZVNpZ25hdHVyZSxdID0gdHJhbnNhY3Rpb25BcnJheTtcbiAgICBjb25zdCBrZXlBdXRob3JpemF0aW9uID0gQXJyYXkuaXNBcnJheShrZXlBdXRob3JpemF0aW9uT3JTaWduYXR1cmUpXG4gICAgICAgID8ga2V5QXV0aG9yaXphdGlvbk9yU2lnbmF0dXJlXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IHNpZ25hdHVyZSA9IGtleUF1dGhvcml6YXRpb25cbiAgICAgICAgPyBtYXliZVNpZ25hdHVyZVxuICAgICAgICA6IGtleUF1dGhvcml6YXRpb25PclNpZ25hdHVyZTtcbiAgICBpZiAoISh0cmFuc2FjdGlvbkFycmF5Lmxlbmd0aCA9PT0gMTMgfHxcbiAgICAgICAgdHJhbnNhY3Rpb25BcnJheS5sZW5ndGggPT09IDE0IHx8XG4gICAgICAgIHRyYW5zYWN0aW9uQXJyYXkubGVuZ3RoID09PSAxNSkpXG4gICAgICAgIHRocm93IG5ldyBUcmFuc2FjdGlvbkVudmVsb3BlLkludmFsaWRTZXJpYWxpemVkRXJyb3Ioe1xuICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb25MaXN0LFxuICAgICAgICAgICAgICAgIGNoYWluSWQsXG4gICAgICAgICAgICAgICAgbWF4UHJpb3JpdHlGZWVQZXJHYXMsXG4gICAgICAgICAgICAgICAgbWF4RmVlUGVyR2FzLFxuICAgICAgICAgICAgICAgIGdhcyxcbiAgICAgICAgICAgICAgICBjYWxscyxcbiAgICAgICAgICAgICAgICBhY2Nlc3NMaXN0LFxuICAgICAgICAgICAgICAgIGtleUF1dGhvcml6YXRpb24sXG4gICAgICAgICAgICAgICAgbm9uY2VLZXksXG4gICAgICAgICAgICAgICAgbm9uY2UsXG4gICAgICAgICAgICAgICAgdmFsaWRCZWZvcmUsXG4gICAgICAgICAgICAgICAgdmFsaWRBZnRlcixcbiAgICAgICAgICAgICAgICBmZWVUb2tlbixcbiAgICAgICAgICAgICAgICBmZWVQYXllclNpZ25hdHVyZU9yU2VuZGVyLFxuICAgICAgICAgICAgICAgIC4uLih0cmFuc2FjdGlvbkFycmF5Lmxlbmd0aCA+IDEyXG4gICAgICAgICAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDoge30pLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNlcmlhbGl6ZWQsXG4gICAgICAgICAgICB0eXBlLFxuICAgICAgICB9KTtcbiAgICBsZXQgdHJhbnNhY3Rpb24gPSB7XG4gICAgICAgIGNoYWluSWQ6IE51bWJlcihjaGFpbklkKSxcbiAgICAgICAgdHlwZSxcbiAgICB9O1xuICAgIGlmIChIZXgudmFsaWRhdGUoZ2FzKSAmJiBnYXMgIT09ICcweCcpXG4gICAgICAgIHRyYW5zYWN0aW9uLmdhcyA9IEJpZ0ludChnYXMpO1xuICAgIGlmIChIZXgudmFsaWRhdGUobm9uY2UpKVxuICAgICAgICB0cmFuc2FjdGlvbi5ub25jZSA9IG5vbmNlID09PSAnMHgnID8gMG4gOiBCaWdJbnQobm9uY2UpO1xuICAgIGlmIChIZXgudmFsaWRhdGUobWF4RmVlUGVyR2FzKSAmJiBtYXhGZWVQZXJHYXMgIT09ICcweCcpXG4gICAgICAgIHRyYW5zYWN0aW9uLm1heEZlZVBlckdhcyA9IEJpZ0ludChtYXhGZWVQZXJHYXMpO1xuICAgIGlmIChIZXgudmFsaWRhdGUobWF4UHJpb3JpdHlGZWVQZXJHYXMpICYmIG1heFByaW9yaXR5RmVlUGVyR2FzICE9PSAnMHgnKVxuICAgICAgICB0cmFuc2FjdGlvbi5tYXhQcmlvcml0eUZlZVBlckdhcyA9IEJpZ0ludChtYXhQcmlvcml0eUZlZVBlckdhcyk7XG4gICAgaWYgKEhleC52YWxpZGF0ZShub25jZUtleSkpXG4gICAgICAgIHRyYW5zYWN0aW9uLm5vbmNlS2V5ID0gbm9uY2VLZXkgPT09ICcweCcgPyAwbiA6IEJpZ0ludChub25jZUtleSk7XG4gICAgaWYgKEhleC52YWxpZGF0ZSh2YWxpZEJlZm9yZSkgJiYgdmFsaWRCZWZvcmUgIT09ICcweCcpXG4gICAgICAgIHRyYW5zYWN0aW9uLnZhbGlkQmVmb3JlID0gTnVtYmVyKHZhbGlkQmVmb3JlKTtcbiAgICBpZiAoSGV4LnZhbGlkYXRlKHZhbGlkQWZ0ZXIpICYmIHZhbGlkQWZ0ZXIgIT09ICcweCcpXG4gICAgICAgIHRyYW5zYWN0aW9uLnZhbGlkQWZ0ZXIgPSBOdW1iZXIodmFsaWRBZnRlcik7XG4gICAgaWYgKEhleC52YWxpZGF0ZShmZWVUb2tlbikgJiYgZmVlVG9rZW4gIT09ICcweCcpXG4gICAgICAgIHRyYW5zYWN0aW9uLmZlZVRva2VuID0gZmVlVG9rZW47XG4gICAgLy8gUGFyc2UgY2FsbHMgYXJyYXlcbiAgICBpZiAoY2FsbHMgJiYgY2FsbHMgIT09ICcweCcpIHtcbiAgICAgICAgY29uc3QgY2FsbHNBcnJheSA9IGNhbGxzO1xuICAgICAgICB0cmFuc2FjdGlvbi5jYWxscyA9IGNhbGxzQXJyYXkubWFwKChjYWxsVHVwbGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IFt0bywgdmFsdWUsIGRhdGFdID0gY2FsbFR1cGxlO1xuICAgICAgICAgICAgY29uc3QgY2FsbCA9IHt9O1xuICAgICAgICAgICAgaWYgKHRvICYmIHRvICE9PSAnMHgnKVxuICAgICAgICAgICAgICAgIGNhbGwudG8gPSB0bztcbiAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZSAhPT0gJzB4JylcbiAgICAgICAgICAgICAgICBjYWxsLnZhbHVlID0gQmlnSW50KHZhbHVlKTtcbiAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEgIT09ICcweCcpXG4gICAgICAgICAgICAgICAgY2FsbC5kYXRhID0gZGF0YTtcbiAgICAgICAgICAgIHJldHVybiBjYWxsO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGFjY2Vzc0xpc3Q/Lmxlbmd0aCAhPT0gMCAmJiBhY2Nlc3NMaXN0ICE9PSAnMHgnKVxuICAgICAgICB0cmFuc2FjdGlvbi5hY2Nlc3NMaXN0ID0gQWNjZXNzTGlzdC5mcm9tVHVwbGVMaXN0KGFjY2Vzc0xpc3QpO1xuICAgIGlmIChhdXRob3JpemF0aW9uTGlzdD8ubGVuZ3RoICE9PSAwICYmIGF1dGhvcml6YXRpb25MaXN0ICE9PSAnMHgnKVxuICAgICAgICB0cmFuc2FjdGlvbi5hdXRob3JpemF0aW9uTGlzdCA9IEF1dGhvcml6YXRpb25UZW1wby5mcm9tVHVwbGVMaXN0KGF1dGhvcml6YXRpb25MaXN0KTtcbiAgICBpZiAoZmVlUGF5ZXJTaWduYXR1cmVPclNlbmRlciAhPT0gJzB4JyAmJlxuICAgICAgICBmZWVQYXllclNpZ25hdHVyZU9yU2VuZGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGZlZVBheWVyU2lnbmF0dXJlT3JTZW5kZXIgPT09ICcweDAwJyB8fFxuICAgICAgICAgICAgQWRkcmVzcy52YWxpZGF0ZShmZWVQYXllclNpZ25hdHVyZU9yU2VuZGVyKSkge1xuICAgICAgICAgICAgdHJhbnNhY3Rpb24uZmVlUGF5ZXJTaWduYXR1cmUgPSBudWxsO1xuICAgICAgICAgICAgaWYgKEFkZHJlc3MudmFsaWRhdGUoZmVlUGF5ZXJTaWduYXR1cmVPclNlbmRlcikpXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24uZnJvbSA9IGZlZVBheWVyU2lnbmF0dXJlT3JTZW5kZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdHJhbnNhY3Rpb24uZmVlUGF5ZXJTaWduYXR1cmUgPSBTaWduYXR1cmUuZnJvbVR1cGxlKGZlZVBheWVyU2lnbmF0dXJlT3JTZW5kZXIpO1xuICAgIH1cbiAgICBpZiAoa2V5QXV0aG9yaXphdGlvbilcbiAgICAgICAgdHJhbnNhY3Rpb24ua2V5QXV0aG9yaXphdGlvbiA9IEtleUF1dGhvcml6YXRpb24uZnJvbVR1cGxlKGtleUF1dGhvcml6YXRpb24pO1xuICAgIGNvbnN0IHNpZ25hdHVyZUVudmVsb3BlID0gc2lnbmF0dXJlXG4gICAgICAgID8gU2lnbmF0dXJlRW52ZWxvcGUuZGVzZXJpYWxpemUoc2lnbmF0dXJlKVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICBpZiAoc2lnbmF0dXJlRW52ZWxvcGUpXG4gICAgICAgIHRyYW5zYWN0aW9uID0ge1xuICAgICAgICAgICAgLi4udHJhbnNhY3Rpb24sXG4gICAgICAgICAgICBzaWduYXR1cmU6IHNpZ25hdHVyZUVudmVsb3BlLFxuICAgICAgICB9O1xuICAgIC8vIFJlY292ZXIgc2VuZGVyIGFkZHJlc3MgZnJvbSB0aGUgc2lnbmF0dXJlIGlmIG5vdCBhbHJlYWR5IHNldC5cbiAgICBpZiAoIXRyYW5zYWN0aW9uLmZyb20gJiYgc2lnbmF0dXJlRW52ZWxvcGUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmIChzaWduYXR1cmVFbnZlbG9wZS50eXBlID09PSAna2V5Y2hhaW4nKVxuICAgICAgICAgICAgICAgIHRyYW5zYWN0aW9uLmZyb20gPSBzaWduYXR1cmVFbnZlbG9wZS51c2VyQWRkcmVzcztcbiAgICAgICAgICAgIGVsc2UgaWYgKHNpZ25hdHVyZUVudmVsb3BlLnR5cGUgPT09ICdwMjU2JyB8fFxuICAgICAgICAgICAgICAgIHNpZ25hdHVyZUVudmVsb3BlLnR5cGUgPT09ICd3ZWJBdXRobicpXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24uZnJvbSA9IEFkZHJlc3MuZnJvbVB1YmxpY0tleShzaWduYXR1cmVFbnZlbG9wZS5wdWJsaWNLZXkpO1xuICAgICAgICAgICAgZWxzZSBpZiAoc2lnbmF0dXJlRW52ZWxvcGUudHlwZSA9PT0gJ3NlY3AyNTZrMScpXG4gICAgICAgICAgICAgICAgdHJhbnNhY3Rpb24uZnJvbSA9IFNlY3AyNTZrMS5yZWNvdmVyQWRkcmVzcyh7XG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IGdldFNpZ25QYXlsb2FkKGZyb20odHJhbnNhY3Rpb24pKSxcbiAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlOiBzaWduYXR1cmVFbnZlbG9wZS5zaWduYXR1cmUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggeyB9XG4gICAgfVxuICAgIGFzc2VydCh0cmFuc2FjdGlvbik7XG4gICAgcmV0dXJuIHRyYW5zYWN0aW9uO1xufVxuLyoqXG4gKiBDb252ZXJ0cyBhbiBhcmJpdHJhcnkgdHJhbnNhY3Rpb24gb2JqZWN0IGludG8gYSBUZW1wbyBUcmFuc2FjdGlvbiBFbnZlbG9wZS5cbiAqXG4gKiBVc2UgdGhpcyB0byBjcmVhdGUgdHJhbnNhY3Rpb24gZW52ZWxvcGVzIHdpdGggVGVtcG8tc3BlY2lmaWMgZmVhdHVyZXMgbGlrZSBiYXRjaGVkIGNhbGxzLFxuICogZmVlIHRva2VucywgYWNjZXNzIGtleXMsIGFuZCBzY2hlZHVsZWQgZXhlY3V0aW9uLiBBdHRhY2ggYSBzaWduYXR1cmUgdXNpbmcgdGhlIGBzaWduYXR1cmVgXG4gKiBvcHRpb24gYWZ0ZXIgc2lnbmluZyB3aXRoIHtAbGluayBveCNUeEVudmVsb3BlVGVtcG8uKGdldFNpZ25QYXlsb2FkOmZ1bmN0aW9uKX0uXG4gKlxuICogW1RlbXBvIFRyYW5zYWN0aW9uIFNwZWNpZmljYXRpb25dKGh0dHBzOi8vZG9jcy50ZW1wby54eXovcHJvdG9jb2wvdHJhbnNhY3Rpb25zL3NwZWMtdGVtcG8tdHJhbnNhY3Rpb24pXG4gKlxuICogQGV4YW1wbGVcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBWYWx1ZSB9IGZyb20gJ294J1xuICogaW1wb3J0IHsgVHhFbnZlbG9wZVRlbXBvIH0gZnJvbSAnb3gvdGVtcG8nXG4gKlxuICogY29uc3QgZW52ZWxvcGUgPSBUeEVudmVsb3BlVGVtcG8uZnJvbSh7IC8vIFshY29kZSBmb2N1c11cbiAqICAgY2hhaW5JZDogMSwgLy8gWyFjb2RlIGZvY3VzXVxuICogICBjYWxsczogW3sgLy8gWyFjb2RlIGZvY3VzXVxuICogICAgIGRhdGE6ICcweGRlYWRiZWVmJywgLy8gWyFjb2RlIGZvY3VzXVxuICogICAgIHRvOiAnMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJywgLy8gWyFjb2RlIGZvY3VzXVxuICogICB9XSwgLy8gWyFjb2RlIGZvY3VzXVxuICogICBtYXhGZWVQZXJHYXM6IFZhbHVlLmZyb21Hd2VpKCcxMCcpLCAvLyBbIWNvZGUgZm9jdXNdXG4gKiAgIG1heFByaW9yaXR5RmVlUGVyR2FzOiBWYWx1ZS5mcm9tR3dlaSgnMScpLCAvLyBbIWNvZGUgZm9jdXNdXG4gKiB9KSAvLyBbIWNvZGUgZm9jdXNdXG4gKiBgYGBcbiAqXG4gKiBAZXhhbXBsZVxuICogIyMjIEF0dGFjaGluZyBTaWduYXR1cmVzXG4gKlxuICogSXQgaXMgcG9zc2libGUgdG8gYXR0YWNoIGEgYHNpZ25hdHVyZWAgdG8gdGhlIHRyYW5zYWN0aW9uIGVudmVsb3BlLlxuICpcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiAvLyBAbm9FcnJvcnNcbiAqIGltcG9ydCB7IFNlY3AyNTZrMSwgVmFsdWUgfSBmcm9tICdveCdcbiAqIGltcG9ydCB7IFR4RW52ZWxvcGVUZW1wbyB9IGZyb20gJ294L3RlbXBvJ1xuICpcbiAqIGNvbnN0IGVudmVsb3BlID0gVHhFbnZlbG9wZVRlbXBvLmZyb20oe1xuICogICBjaGFpbklkOiAxLFxuICogICBjYWxsczogW3tcbiAqICAgICBkYXRhOiAnMHhkZWFkYmVlZicsXG4gKiAgICAgdG86ICcweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnLFxuICogICB9XSxcbiAqICAgbWF4RmVlUGVyR2FzOiBWYWx1ZS5mcm9tR3dlaSgnMTAnKSxcbiAqICAgbWF4UHJpb3JpdHlGZWVQZXJHYXM6IFZhbHVlLmZyb21Hd2VpKCcxJyksXG4gKiB9KVxuICpcbiAqIGNvbnN0IHNpZ25hdHVyZSA9IFNlY3AyNTZrMS5zaWduKHtcbiAqICAgcGF5bG9hZDogVHhFbnZlbG9wZVRlbXBvLmdldFNpZ25QYXlsb2FkKGVudmVsb3BlKSxcbiAqICAgcHJpdmF0ZUtleTogJzB4Li4uJyxcbiAqIH0pXG4gKlxuICogY29uc3QgZW52ZWxvcGVfc2lnbmVkID0gVHhFbnZlbG9wZVRlbXBvLmZyb20oZW52ZWxvcGUsIHsgLy8gWyFjb2RlIGZvY3VzXVxuICogICBzaWduYXR1cmUsIC8vIFshY29kZSBmb2N1c11cbiAqIH0pIC8vIFshY29kZSBmb2N1c11cbiAqIC8vIEBsb2c6IHtcbiAqIC8vIEBsb2c6ICAgY2hhaW5JZDogMSxcbiAqIC8vIEBsb2c6ICAgY2FsbHM6IFt7IHRvOiAnMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJywgdmFsdWU6IDEwMDAwMDAwMDAwMDAwMDAwMDBuIH1dLFxuICogLy8gQGxvZzogICBtYXhGZWVQZXJHYXM6IDEwMDAwMDAwMDAwbixcbiAqIC8vIEBsb2c6ICAgbWF4UHJpb3JpdHlGZWVQZXJHYXM6IDEwMDAwMDAwMDBuLFxuICogLy8gQGxvZzogICB0eXBlOiAndGVtcG8nLFxuICogLy8gQGxvZzogICByOiAxMjUuLi5uLFxuICogLy8gQGxvZzogICBzOiA2NDIuLi5uLFxuICogLy8gQGxvZzogICB5UGFyaXR5OiAwLFxuICogLy8gQGxvZzogfVxuICogYGBgXG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBGcm9tIFNlcmlhbGl6ZWRcbiAqXG4gKiBJdCBpcyBwb3NzaWJsZSB0byBpbnN0YW50aWF0ZSBhIFRlbXBvIFRyYW5zYWN0aW9uIEVudmVsb3BlIGZyb20gYSB7QGxpbmsgb3gjVHhFbnZlbG9wZVRlbXBvLlNlcmlhbGl6ZWR9IHZhbHVlLlxuICpcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiBpbXBvcnQgeyBUeEVudmVsb3BlVGVtcG8gfSBmcm9tICdveC90ZW1wbydcbiAqXG4gKiBjb25zdCBlbnZlbG9wZSA9IFR4RW52ZWxvcGVUZW1wby5mcm9tKCcweDc2Zjg0YTAxODIwMzExODQ3NzM1OTQwMDg0NzczNTk0MDA4MDk0NzA5OTc5NzBjNTE4MTJkYzNhMDEwYzdkMDFiNTBlMGQxN2RjNzljODg4MGRlMGI2YjNhNzY0MDAwMDgwYzA4MDgwODAnKVxuICogLy8gQGxvZzoge1xuICogLy8gQGxvZzogICBjaGFpbklkOiAxLFxuICogLy8gQGxvZzogICBjYWxsczogW3tcbiAqIC8vIEBsb2c6ICAgICBkYXRhOiAnMHhkZWFkYmVlZicsXG4gKiAvLyBAbG9nOiAgICAgdG86ICcweDcwOTk3OTcwYzUxODEyZGMzYTAxMGM3ZDAxYjUwZTBkMTdkYzc5YzgnLFxuICogLy8gQGxvZzogICB9XSxcbiAqIC8vIEBsb2c6ICAgbWF4RmVlUGVyR2FzOiAxMDAwMDAwMDAwMG4sXG4gKiAvLyBAbG9nOiAgIHR5cGU6ICd0ZW1wbycsXG4gKiAvLyBAbG9nOiB9XG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gZW52ZWxvcGUgLSBUaGUgdHJhbnNhY3Rpb24gb2JqZWN0IHRvIGNvbnZlcnQuXG4gKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBBIFRlbXBvIFRyYW5zYWN0aW9uIEVudmVsb3BlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZnJvbShlbnZlbG9wZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgeyBmZWVQYXllclNpZ25hdHVyZSwgc2lnbmF0dXJlIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IGVudmVsb3BlXyA9ICh0eXBlb2YgZW52ZWxvcGUgPT09ICdzdHJpbmcnID8gZGVzZXJpYWxpemUoZW52ZWxvcGUpIDogZW52ZWxvcGUpO1xuICAgIGFzc2VydChlbnZlbG9wZV8pO1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLmVudmVsb3BlXyxcbiAgICAgICAgLi4uKHNpZ25hdHVyZSA/IHsgc2lnbmF0dXJlOiBTaWduYXR1cmVFbnZlbG9wZS5mcm9tKHNpZ25hdHVyZSkgfSA6IHt9KSxcbiAgICAgICAgLi4uKGZlZVBheWVyU2lnbmF0dXJlXG4gICAgICAgICAgICA/IHsgZmVlUGF5ZXJTaWduYXR1cmU6IFNpZ25hdHVyZS5mcm9tKGZlZVBheWVyU2lnbmF0dXJlKSB9XG4gICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgdHlwZTogJ3RlbXBvJyxcbiAgICB9O1xufVxuLyoqXG4gKiBTZXJpYWxpemVzIGEge0BsaW5rIG94I1R4RW52ZWxvcGVUZW1wby5UeEVudmVsb3BlVGVtcG99LlxuICpcbiAqIFJMUC1lbmNvZGVzIHRoZSB0cmFuc2FjdGlvbiB3aXRoIHR5cGUgcHJlZml4IGAweDc2YC4gRm9yIGZlZSBzcG9uc29yc2hpcCwgdXNlIGBmb3JtYXQ6ICdmZWVQYXllcidgXG4gKiB0byBzZXJpYWxpemUgd2l0aCB0aGUgZmVlIHBheWVyIG1hZ2ljIGAweDc4YCBhbmQgdGhlIHNlbmRlciBhZGRyZXNzLlxuICpcbiAqIFtSTFAgRW5jb2RpbmddKGh0dHBzOi8vZG9jcy50ZW1wby54eXovcHJvdG9jb2wvdHJhbnNhY3Rpb25zL3NwZWMtdGVtcG8tdHJhbnNhY3Rpb24jcmxwLWVuY29kaW5nKVxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0cyB0d29zbGFzaFxuICogLy8gQG5vRXJyb3JzXG4gKiBpbXBvcnQgeyBWYWx1ZSB9IGZyb20gJ294J1xuICogaW1wb3J0IHsgVHhFbnZlbG9wZVRlbXBvIH0gZnJvbSAnb3gvdGVtcG8nXG4gKlxuICogY29uc3QgZW52ZWxvcGUgPSBUeEVudmVsb3BlVGVtcG8uZnJvbSh7XG4gKiAgIGNoYWluSWQ6IDEsXG4gKiAgIGNhbGxzOiBbe1xuICogICAgIGRhdGE6ICcweGRlYWRiZWVmJyxcbiAqICAgICB0bzogJzB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcsXG4gKiAgIH1dLFxuICogICBtYXhGZWVQZXJHYXM6IFZhbHVlLmZyb21Hd2VpKCcxMCcpLFxuICogfSlcbiAqXG4gKiBjb25zdCBzZXJpYWxpemVkID0gVHhFbnZlbG9wZVRlbXBvLnNlcmlhbGl6ZShlbnZlbG9wZSkgLy8gWyFjb2RlIGZvY3VzXVxuICogYGBgXG4gKlxuICogQGV4YW1wbGVcbiAqICMjIyBBdHRhY2hpbmcgU2lnbmF0dXJlc1xuICpcbiAqIEl0IGlzIHBvc3NpYmxlIHRvIGF0dGFjaCBhIGBzaWduYXR1cmVgIHRvIHRoZSBzZXJpYWxpemVkIFRyYW5zYWN0aW9uIEVudmVsb3BlLlxuICpcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiAvLyBAbm9FcnJvcnNcbiAqIGltcG9ydCB7IFNlY3AyNTZrMSwgVmFsdWUgfSBmcm9tICdveCdcbiAqIGltcG9ydCB7IFR4RW52ZWxvcGVUZW1wbyB9IGZyb20gJ294L3RlbXBvJ1xuICpcbiAqIGNvbnN0IGVudmVsb3BlID0gVHhFbnZlbG9wZVRlbXBvLmZyb20oe1xuICogICBjaGFpbklkOiAxLFxuICogICBjYWxsczogW3tcbiAqICAgICBkYXRhOiAnMHhkZWFkYmVlZicsXG4gKiAgICAgdG86ICcweDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAnLFxuICogICB9XSxcbiAqICAgbWF4RmVlUGVyR2FzOiBWYWx1ZS5mcm9tR3dlaSgnMTAnKSxcbiAqIH0pXG4gKlxuICogY29uc3Qgc2lnbmF0dXJlID0gU2VjcDI1NmsxLnNpZ24oe1xuICogICBwYXlsb2FkOiBUeEVudmVsb3BlVGVtcG8uZ2V0U2lnblBheWxvYWQoZW52ZWxvcGUpLFxuICogICBwcml2YXRlS2V5OiAnMHguLi4nLFxuICogfSlcbiAqXG4gKiBjb25zdCBzZXJpYWxpemVkID0gVHhFbnZlbG9wZVRlbXBvLnNlcmlhbGl6ZShlbnZlbG9wZSwgeyAvLyBbIWNvZGUgZm9jdXNdXG4gKiAgIHNpZ25hdHVyZSwgLy8gWyFjb2RlIGZvY3VzXVxuICogfSkgLy8gWyFjb2RlIGZvY3VzXVxuICpcbiAqIC8vIC4uLiBzZW5kIGBzZXJpYWxpemVkYCB0cmFuc2FjdGlvbiB0byBKU09OLVJQQyBgZXRoX3NlbmRSYXdUcmFuc2FjdGlvbmBcbiAqIGBgYFxuICpcbiAqIEBwYXJhbSBlbnZlbG9wZSAtIFRoZSBUcmFuc2FjdGlvbiBFbnZlbG9wZSB0byBzZXJpYWxpemUuXG4gKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbnMuXG4gKiBAcmV0dXJucyBUaGUgc2VyaWFsaXplZCBUcmFuc2FjdGlvbiBFbnZlbG9wZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlcmlhbGl6ZShlbnZlbG9wZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29uc3QgeyBhY2Nlc3NMaXN0LCBhdXRob3JpemF0aW9uTGlzdCwgY2FsbHMsIGNoYWluSWQsIGZlZVRva2VuLCBnYXMsIGtleUF1dGhvcml6YXRpb24sIG5vbmNlLCBub25jZUtleSwgbWF4RmVlUGVyR2FzLCBtYXhQcmlvcml0eUZlZVBlckdhcywgdmFsaWRCZWZvcmUsIHZhbGlkQWZ0ZXIsIH0gPSBlbnZlbG9wZTtcbiAgICBhc3NlcnQoZW52ZWxvcGUpO1xuICAgIGNvbnN0IGFjY2Vzc1R1cGxlTGlzdCA9IEFjY2Vzc0xpc3QudG9UdXBsZUxpc3QoYWNjZXNzTGlzdCk7XG4gICAgY29uc3Qgc2lnbmF0dXJlID0gb3B0aW9ucy5zaWduYXR1cmUgfHwgZW52ZWxvcGUuc2lnbmF0dXJlO1xuICAgIGNvbnN0IGF1dGhvcml6YXRpb25UdXBsZUxpc3QgPSBBdXRob3JpemF0aW9uVGVtcG8udG9UdXBsZUxpc3QoYXV0aG9yaXphdGlvbkxpc3QpO1xuICAgIC8vIEVuY29kZSBjYWxscyBhcyBSTFAgbGlzdCBvZiBbdG8sIHZhbHVlLCBkYXRhXSB0dXBsZXNcbiAgICBjb25zdCBjYWxsc1R1cGxlTGlzdCA9IGNhbGxzLm1hcCgoY2FsbCkgPT4gW1xuICAgICAgICBjYWxsLnRvID8/ICcweCcsXG4gICAgICAgIGNhbGwudmFsdWUgPyBIZXguZnJvbU51bWJlcihjYWxsLnZhbHVlKSA6ICcweCcsXG4gICAgICAgIGNhbGwuZGF0YSA/PyAnMHgnLFxuICAgIF0pO1xuICAgIGNvbnN0IGZlZVBheWVyU2lnbmF0dXJlT3JTZW5kZXIgPSAoKCkgPT4ge1xuICAgICAgICAvLyBFeHBsaWNpdCBzZW5kZXIgYWRkcmVzcyBwcm92aWRlZCDigJQgdXNlIGFzLWlzLlxuICAgICAgICBpZiAob3B0aW9ucy5zZW5kZXIpXG4gICAgICAgICAgICByZXR1cm4gb3B0aW9ucy5zZW5kZXI7XG4gICAgICAgIC8vIFdoZW4gc2VyaWFsaXppbmcgaW4gZmVlIHBheWVyIGZvcm1hdCBhbmQgYSBzaWduYXR1cmUgaXMgcHJlc2VudCxcbiAgICAgICAgLy8gZGVyaXZlIHRoZSBzZW5kZXIgYWRkcmVzcyBmcm9tIHRoZSBzaWduYXR1cmUgc28gdGhlIGZlZSBwYXllciBwcm94eVxuICAgICAgICAvLyBrbm93cyB3aGljaCBhY2NvdW50IHRvIGNvdmVyIGZlZXMgZm9yLlxuICAgICAgICAvL1xuICAgICAgICAvLyAtIHNlY3AyNTZrMTogcmVjb3ZlciBhZGRyZXNzIHZpYSBlY3JlY292ZXIgZnJvbSB0aGUgc2lnbiBwYXlsb2FkLlxuICAgICAgICAvLyAtIHAyNTYvd2ViQXV0aG46IGRlcml2ZSBhZGRyZXNzIGZyb20gdGhlIGVtYmVkZGVkIHB1YmxpYyBrZXkuXG4gICAgICAgIC8vIC0ga2V5Y2hhaW46IHVzZSB0aGUgZXhwbGljaXQgYHVzZXJBZGRyZXNzYCBvbiB0aGUgc2lnbmF0dXJlLlxuICAgICAgICBpZiAob3B0aW9ucy5mb3JtYXQgPT09ICdmZWVQYXllcicgJiYgc2lnbmF0dXJlKSB7XG4gICAgICAgICAgICBjb25zdCBzaWcgPSBTaWduYXR1cmVFbnZlbG9wZS5mcm9tKHNpZ25hdHVyZSk7XG4gICAgICAgICAgICBpZiAoc2lnLnR5cGUgPT09ICdrZXljaGFpbicpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHNpZy51c2VyQWRkcmVzcztcbiAgICAgICAgICAgIGlmIChzaWcudHlwZSA9PT0gJ3AyNTYnIHx8IHNpZy50eXBlID09PSAnd2ViQXV0aG4nKVxuICAgICAgICAgICAgICAgIHJldHVybiBBZGRyZXNzLmZyb21QdWJsaWNLZXkoc2lnLnB1YmxpY0tleSk7XG4gICAgICAgICAgICBpZiAoc2lnLnR5cGUgPT09ICdzZWNwMjU2azEnKVxuICAgICAgICAgICAgICAgIHJldHVybiBTZWNwMjU2azEucmVjb3ZlckFkZHJlc3Moe1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkOiBnZXRTaWduUGF5bG9hZChmcm9tKGVudmVsb3BlKSksXG4gICAgICAgICAgICAgICAgICAgIHNpZ25hdHVyZTogc2lnLnNpZ25hdHVyZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBmZWVQYXllclNpZ25hdHVyZSA9IHR5cGVvZiBvcHRpb25zLmZlZVBheWVyU2lnbmF0dXJlICE9PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgPyBvcHRpb25zLmZlZVBheWVyU2lnbmF0dXJlXG4gICAgICAgICAgICA6IGVudmVsb3BlLmZlZVBheWVyU2lnbmF0dXJlO1xuICAgICAgICAvLyBgbnVsbGAgaW5kaWNhdGVzIHRoZSBlbnZlbG9wZSBpcyBpbnRlbmRlZCB0byBiZSBzaWduZWQgYnkgYSBmZWUgcGF5ZXJcbiAgICAgICAgLy8gYnV0IGhhc24ndCBiZWVuIHNpZ25lZCB5ZXQg4oCUIGVuY29kZSBhcyBhIHNpbmdsZSB6ZXJvIGJ5dGUgbWFya2VyLlxuICAgICAgICBpZiAoZmVlUGF5ZXJTaWduYXR1cmUgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gJzB4MDAnO1xuICAgICAgICAvLyBObyBmZWUgcGF5ZXIgaW52b2x2ZW1lbnQg4oCUIG9taXQgZnJvbSB0aGUgZW52ZWxvcGUuXG4gICAgICAgIGlmICghZmVlUGF5ZXJTaWduYXR1cmUpXG4gICAgICAgICAgICByZXR1cm4gJzB4JztcbiAgICAgICAgLy8gRmVlIHBheWVyIGhhcyBzaWduZWQg4oCUIGVuY29kZSB0aGUgc2lnbmF0dXJlIGFzIGFuIFJMUCB0dXBsZS5cbiAgICAgICAgcmV0dXJuIFNpZ25hdHVyZS50b1R1cGxlKGZlZVBheWVyU2lnbmF0dXJlKTtcbiAgICB9KSgpO1xuICAgIGNvbnN0IHNlcmlhbGl6ZWQgPSBbXG4gICAgICAgIEhleC5mcm9tTnVtYmVyKGNoYWluSWQpLFxuICAgICAgICBtYXhQcmlvcml0eUZlZVBlckdhcyA/IEhleC5mcm9tTnVtYmVyKG1heFByaW9yaXR5RmVlUGVyR2FzKSA6ICcweCcsXG4gICAgICAgIG1heEZlZVBlckdhcyA/IEhleC5mcm9tTnVtYmVyKG1heEZlZVBlckdhcykgOiAnMHgnLFxuICAgICAgICBnYXMgPyBIZXguZnJvbU51bWJlcihnYXMpIDogJzB4JyxcbiAgICAgICAgY2FsbHNUdXBsZUxpc3QsXG4gICAgICAgIGFjY2Vzc1R1cGxlTGlzdCxcbiAgICAgICAgbm9uY2VLZXkgPyBIZXguZnJvbU51bWJlcihub25jZUtleSkgOiAnMHgnLFxuICAgICAgICBub25jZSA/IEhleC5mcm9tTnVtYmVyKG5vbmNlKSA6ICcweCcsXG4gICAgICAgIHR5cGVvZiB2YWxpZEJlZm9yZSA9PT0gJ251bWJlcicgPyBIZXguZnJvbU51bWJlcih2YWxpZEJlZm9yZSkgOiAnMHgnLFxuICAgICAgICB0eXBlb2YgdmFsaWRBZnRlciA9PT0gJ251bWJlcicgPyBIZXguZnJvbU51bWJlcih2YWxpZEFmdGVyKSA6ICcweCcsXG4gICAgICAgIHR5cGVvZiBmZWVUb2tlbiA9PT0gJ2JpZ2ludCcgfHwgdHlwZW9mIGZlZVRva2VuID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgPyBUb2tlbklkLnRvQWRkcmVzcyhmZWVUb2tlbilcbiAgICAgICAgICAgIDogJzB4JyxcbiAgICAgICAgZmVlUGF5ZXJTaWduYXR1cmVPclNlbmRlcixcbiAgICAgICAgYXV0aG9yaXphdGlvblR1cGxlTGlzdCxcbiAgICAgICAgLi4uKGtleUF1dGhvcml6YXRpb24gPyBbS2V5QXV0aG9yaXphdGlvbi50b1R1cGxlKGtleUF1dGhvcml6YXRpb24pXSA6IFtdKSxcbiAgICAgICAgLi4uKHNpZ25hdHVyZVxuICAgICAgICAgICAgPyBbU2lnbmF0dXJlRW52ZWxvcGUuc2VyaWFsaXplKFNpZ25hdHVyZUVudmVsb3BlLmZyb20oc2lnbmF0dXJlKSldXG4gICAgICAgICAgICA6IFtdKSxcbiAgICBdO1xuICAgIHJldHVybiBIZXguY29uY2F0KG9wdGlvbnMuZm9ybWF0ID09PSAnZmVlUGF5ZXInID8gZmVlUGF5ZXJNYWdpYyA6IHNlcmlhbGl6ZWRUeXBlLCBSbHAuZnJvbUhleChzZXJpYWxpemVkKSk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIHBheWxvYWQgdG8gc2lnbiBmb3IgYSB7QGxpbmsgb3gjVHhFbnZlbG9wZVRlbXBvLlR4RW52ZWxvcGVUZW1wb30uXG4gKlxuICogQ29tcHV0ZXMgdGhlIGtlY2NhazI1NiBoYXNoIG9mIHRoZSB1bnNpZ25lZCBzZXJpYWxpemVkIHRyYW5zYWN0aW9uLiBTaWduIHRoaXMgcGF5bG9hZFxuICogd2l0aCBzZWNwMjU2azEsIFAyNTYsIG9yIFdlYkF1dGhuLCB0aGVuIGF0dGFjaCB0aGUgc2lnbmF0dXJlIHZpYSB7QGxpbmsgb3gjVHhFbnZlbG9wZVRlbXBvLihmcm9tOmZ1bmN0aW9uKX0uXG4gKlxuICogW1RlbXBvIFRyYW5zYWN0aW9uIFNwZWNpZmljYXRpb25dKGh0dHBzOi8vZG9jcy50ZW1wby54eXovcHJvdG9jb2wvdHJhbnNhY3Rpb25zL3NwZWMtdGVtcG8tdHJhbnNhY3Rpb24pXG4gKlxuICogQGV4YW1wbGVcbiAqIFRoZSBleGFtcGxlIGJlbG93IGRlbW9uc3RyYXRlcyBob3cgdG8gY29tcHV0ZSB0aGUgc2lnbiBwYXlsb2FkIHdoaWNoIGNhbiBiZSB1c2VkXG4gKiB3aXRoIEVDRFNBIHNpZ25pbmcgdXRpbGl0aWVzIGxpa2Uge0BsaW5rIG94I1NlY3AyNTZrMS4oc2lnbjpmdW5jdGlvbil9LlxuICpcbiAqIGBgYHRzIHR3b3NsYXNoXG4gKiAvLyBAbm9FcnJvcnNcbiAqIGltcG9ydCB7IFNlY3AyNTZrMSB9IGZyb20gJ294J1xuICogaW1wb3J0IHsgVHhFbnZlbG9wZVRlbXBvIH0gZnJvbSAnb3gvdGVtcG8nXG4gKlxuICogY29uc3QgZW52ZWxvcGUgPSBUeEVudmVsb3BlVGVtcG8uZnJvbSh7XG4gKiAgIGNoYWluSWQ6IDEsXG4gKiAgIGNhbGxzOiBbe1xuICogICAgIGRhdGE6ICcweGRlYWRiZWVmJyxcbiAqICAgICB0bzogJzB4NzA5OTc5NzBjNTE4MTJkYzNhMDEwYzdkMDFiNTBlMGQxN2RjNzljOCcsXG4gKiAgIH1dLFxuICogICBub25jZTogMG4sXG4gKiAgIG1heEZlZVBlckdhczogMTAwMDAwMDAwMG4sXG4gKiAgIGdhczogMjEwMDBuLFxuICogfSlcbiAqXG4gKiBjb25zdCBwYXlsb2FkID0gVHhFbnZlbG9wZVRlbXBvLmdldFNpZ25QYXlsb2FkKGVudmVsb3BlKSAvLyBbIWNvZGUgZm9jdXNdXG4gKiAvLyBAbG9nOiAnMHguLi4nXG4gKlxuICogY29uc3Qgc2lnbmF0dXJlID0gU2VjcDI1NmsxLnNpZ24oeyBwYXlsb2FkLCBwcml2YXRlS2V5OiAnMHguLi4nIH0pXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gZW52ZWxvcGUgLSBUaGUgdHJhbnNhY3Rpb24gZW52ZWxvcGUgdG8gZ2V0IHRoZSBzaWduIHBheWxvYWQgZm9yLlxuICogQHJldHVybnMgVGhlIHNpZ24gcGF5bG9hZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNpZ25QYXlsb2FkKGVudmVsb3BlKSB7XG4gICAgcmV0dXJuIGhhc2goZW52ZWxvcGUsIHsgcHJlc2lnbjogdHJ1ZSB9KTtcbn1cbi8qKlxuICogSGFzaGVzIGEge0BsaW5rIG94I1R4RW52ZWxvcGVUZW1wby5UeEVudmVsb3BlVGVtcG99LiBUaGlzIGlzIHRoZSBcInRyYW5zYWN0aW9uIGhhc2hcIi5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHMgdHdvc2xhc2hcbiAqIC8vIEBub0Vycm9yc1xuICogaW1wb3J0IHsgU2VjcDI1NmsxIH0gZnJvbSAnb3gnXG4gKiBpbXBvcnQgeyBUeEVudmVsb3BlVGVtcG8gfSBmcm9tICdveC90ZW1wbydcbiAqXG4gKiBjb25zdCBlbnZlbG9wZSA9IFR4RW52ZWxvcGVUZW1wby5mcm9tKHtcbiAqICAgY2hhaW5JZDogMSxcbiAqICAgY2FsbHM6IFt7XG4gKiAgICAgZGF0YTogJzB4ZGVhZGJlZWYnLFxuICogICAgIHRvOiAnMHg3MDk5Nzk3MGM1MTgxMmRjM2EwMTBjN2QwMWI1MGUwZDE3ZGM3OWM4JyxcbiAqICAgfV0sXG4gKiAgIG5vbmNlOiAwbixcbiAqICAgbWF4RmVlUGVyR2FzOiAxMDAwMDAwMDAwbixcbiAqICAgZ2FzOiAyMTAwMG4sXG4gKiB9KVxuICpcbiAqIGNvbnN0IHNpZ25hdHVyZSA9IFNlY3AyNTZrMS5zaWduKHtcbiAqICAgcGF5bG9hZDogVHhFbnZlbG9wZVRlbXBvLmdldFNpZ25QYXlsb2FkKGVudmVsb3BlKSxcbiAqICAgcHJpdmF0ZUtleTogJzB4Li4uJ1xuICogfSlcbiAqXG4gKiBjb25zdCBlbnZlbG9wZV9zaWduZWQgPSBUeEVudmVsb3BlVGVtcG8uZnJvbShlbnZlbG9wZSwgeyBzaWduYXR1cmUgfSlcbiAqXG4gKiBjb25zdCBoYXNoID0gVHhFbnZlbG9wZVRlbXBvLmhhc2goZW52ZWxvcGVfc2lnbmVkKSAvLyBbIWNvZGUgZm9jdXNdXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gZW52ZWxvcGUgLSBUaGUgVGVtcG8gVHJhbnNhY3Rpb24gRW52ZWxvcGUgdG8gaGFzaC5cbiAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucy5cbiAqIEByZXR1cm5zIFRoZSBoYXNoIG9mIHRoZSB0cmFuc2FjdGlvbiBlbnZlbG9wZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhhc2goZW52ZWxvcGUsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IHNlcmlhbGl6ZWQgPSBzZXJpYWxpemUoe1xuICAgICAgICAuLi5lbnZlbG9wZSxcbiAgICAgICAgLi4uKG9wdGlvbnMucHJlc2lnblxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgc2lnbmF0dXJlOiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICA6IHt9KSxcbiAgICB9KTtcbiAgICByZXR1cm4gSGFzaC5rZWNjYWsyNTYoc2VyaWFsaXplZCk7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGZlZSBwYXllciBwYXlsb2FkIHRvIHNpZ24gZm9yIGEge0BsaW5rIG94I1R4RW52ZWxvcGVUZW1wby5UeEVudmVsb3BlVGVtcG99LlxuICpcbiAqIEZlZSBzcG9uc29yc2hpcCB1c2VzIGEgZHVhbC1zaWduYXR1cmUgc2NoZW1lOiB0aGUgc2VuZGVyIHNpZ25zIHRoZSB0cmFuc2FjdGlvbiwgdGhlbiBhIGZlZSBwYXllclxuICogc2lnbnMgb3ZlciB0aGUgdHJhbnNhY3Rpb24gd2l0aCB0aGUgc2VuZGVyJ3MgYWRkcmVzcyB0byBjb21taXQgdG8gcGF5aW5nIGZlZXMuIFRoZSBmZWUgcGF5ZXInc1xuICogc2lnbmF0dXJlIGluY2x1ZGVzIHRoZSBgZmVlVG9rZW5gIGFuZCBgc2VuZGVyX2FkZHJlc3NgLCB1c2luZyBtYWdpYyBieXRlIGAweDc4YCBmb3IgZG9tYWluIHNlcGFyYXRpb24uXG4gKlxuICogW0ZlZSBQYXllciBTaWduYXR1cmVdKGh0dHBzOi8vZG9jcy50ZW1wby54eXovcHJvdG9jb2wvdHJhbnNhY3Rpb25zL3NwZWMtdGVtcG8tdHJhbnNhY3Rpb24jZmVlLXBheWVyLXNpZ25hdHVyZSlcbiAqIFtGZWUgU3BvbnNvcnNoaXAgR3VpZGVdKGh0dHBzOi8vZG9jcy50ZW1wby54eXovcHJvdG9jb2wvdHJhbnNhY3Rpb25zI2ZlZS1zcG9uc29yc2hpcClcbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHMgdHdvc2xhc2hcbiAqIC8vIEBub0Vycm9yc1xuICogaW1wb3J0IHsgU2VjcDI1NmsxIH0gZnJvbSAnb3gnXG4gKiBpbXBvcnQgeyBUeEVudmVsb3BlVGVtcG8gfSBmcm9tICdveC90ZW1wbydcbiAqXG4gKiBjb25zdCBlbnZlbG9wZSA9IFR4RW52ZWxvcGVUZW1wby5mcm9tKHtcbiAqICAgY2hhaW5JZDogMSxcbiAqICAgY2FsbHM6IFt7XG4gKiAgICAgZGF0YTogJzB4ZGVhZGJlZWYnLFxuICogICAgIHRvOiAnMHg3MDk5Nzk3MGM1MTgxMmRjM2EwMTBjN2QwMWI1MGUwZDE3ZGM3OWM4JyxcbiAqICAgfV0sXG4gKiAgIG5vbmNlOiAwbixcbiAqICAgbWF4RmVlUGVyR2FzOiAxMDAwMDAwMDAwbixcbiAqICAgZ2FzOiAyMTAwMG4sXG4gKiB9KVxuICpcbiAqIGNvbnN0IHBheWxvYWQgPSBUeEVudmVsb3BlVGVtcG8uZ2V0RmVlUGF5ZXJTaWduUGF5bG9hZChlbnZlbG9wZSwge1xuICogICBzZW5kZXI6ICcweGQ4ZGE2YmYyNjk2NGFmOWQ3ZWVkOWUwM2U1MzQxNWQzN2FhOTYwNDUnXG4gKiB9KSAvLyBbIWNvZGUgZm9jdXNdXG4gKiAvLyBAbG9nOiAnMHguLi4nXG4gKlxuICogY29uc3Qgc2lnbmF0dXJlID0gU2VjcDI1NmsxLnNpZ24oeyBwYXlsb2FkLCBwcml2YXRlS2V5OiAnMHguLi4nIH0pXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0gZW52ZWxvcGUgLSBUaGUgdHJhbnNhY3Rpb24gZW52ZWxvcGUgdG8gZ2V0IHRoZSBmZWUgcGF5ZXIgc2lnbiBwYXlsb2FkIGZvci5cbiAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9ucy5cbiAqIEByZXR1cm5zIFRoZSBmZWUgcGF5ZXIgc2lnbiBwYXlsb2FkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RmVlUGF5ZXJTaWduUGF5bG9hZChlbnZlbG9wZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IHsgc2VuZGVyIH0gPSBvcHRpb25zO1xuICAgIGNvbnN0IHNlcmlhbGl6ZWQgPSBzZXJpYWxpemUoeyAuLi5lbnZlbG9wZSwgc2lnbmF0dXJlOiB1bmRlZmluZWQgfSwge1xuICAgICAgICBzZW5kZXIsXG4gICAgICAgIGZvcm1hdDogJ2ZlZVBheWVyJyxcbiAgICB9KTtcbiAgICByZXR1cm4gSGFzaC5rZWNjYWsyNTYoc2VyaWFsaXplZCk7XG59XG4vKipcbiAqIFZhbGlkYXRlcyBhIHtAbGluayBveCNUeEVudmVsb3BlVGVtcG8uVHhFbnZlbG9wZVRlbXBvfS4gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudmVsb3BlIGlzIHZhbGlkLCBgZmFsc2VgIG90aGVyd2lzZS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHMgdHdvc2xhc2hcbiAqIGltcG9ydCB7IFR4RW52ZWxvcGVUZW1wbyB9IGZyb20gJ294L3RlbXBvJ1xuICpcbiAqIGNvbnN0IHZhbGlkID0gVHhFbnZlbG9wZVRlbXBvLnZhbGlkYXRlKHtcbiAqICAgY2FsbHM6IFt7XG4gKiAgICAgZGF0YTogJzB4ZGVhZGJlZWYnLFxuICogICAgIHRvOiAnMHgwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwJyxcbiAqICAgfV0sXG4gKiAgIGNoYWluSWQ6IDEsXG4gKiAgIG1heEZlZVBlckdhczogMTAwMDAwMDAwMG4sXG4gKiB9KVxuICogLy8gQGxvZzogdHJ1ZVxuICogYGBgXG4gKlxuICogQHBhcmFtIGVudmVsb3BlIC0gVGhlIHRyYW5zYWN0aW9uIGVudmVsb3BlIHRvIHZhbGlkYXRlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGUoZW52ZWxvcGUpIHtcbiAgICB0cnkge1xuICAgICAgICBhc3NlcnQoZW52ZWxvcGUpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuLyoqXG4gKiBUaHJvd24gd2hlbiBhIHRyYW5zYWN0aW9uJ3MgY2FsbHMgbGlzdCBpcyBlbXB0eS5cbiAqXG4gKiBAZXhhbXBsZVxuICogYGBgdHMgdHdvc2xhc2hcbiAqIGltcG9ydCB7IFR4RW52ZWxvcGVUZW1wbyB9IGZyb20gJ294L3RlbXBvJ1xuICpcbiAqIFR4RW52ZWxvcGVUZW1wby5hc3NlcnQoe1xuICogICBjYWxsczogW10sXG4gKiAgIGNoYWluSWQ6IDEsXG4gKiB9KVxuICogLy8gQGVycm9yOiBUeEVudmVsb3BlVGVtcG8uQ2FsbHNFbXB0eUVycm9yOiBDYWxscyBsaXN0IGNhbm5vdCBiZSBlbXB0eS5cbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgQ2FsbHNFbXB0eUVycm9yIGV4dGVuZHMgRXJyb3JzLkJhc2VFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCdDYWxscyBsaXN0IGNhbm5vdCBiZSBlbXB0eS4nKTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwibmFtZVwiLCB7XG4gICAgICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogJ1R4RW52ZWxvcGVUZW1wby5DYWxsc0VtcHR5RXJyb3InXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8qKlxuICogVGhyb3duIHdoZW4gdmFsaWRCZWZvcmUgaXMgbm90IGdyZWF0ZXIgdGhhbiB2YWxpZEFmdGVyLlxuICpcbiAqIEBleGFtcGxlXG4gKiBgYGB0cyB0d29zbGFzaFxuICogaW1wb3J0IHsgVHhFbnZlbG9wZVRlbXBvIH0gZnJvbSAnb3gvdGVtcG8nXG4gKlxuICogVHhFbnZlbG9wZVRlbXBvLmFzc2VydCh7XG4gKiAgIGNhbGxzOiBbeyB0bzogJzB4MDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMCcgfV0sXG4gKiAgIGNoYWluSWQ6IDEsXG4gKiAgIHZhbGlkQmVmb3JlOiAxMDAsXG4gKiAgIHZhbGlkQWZ0ZXI6IDIwMCxcbiAqIH0pXG4gKiAvLyBAZXJyb3I6IFR4RW52ZWxvcGVUZW1wby5JbnZhbGlkVmFsaWRpdHlXaW5kb3dFcnJvcjogdmFsaWRCZWZvcmUgKDEwMCkgbXVzdCBiZSBncmVhdGVyIHRoYW4gdmFsaWRBZnRlciAoMjAwKS5cbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgSW52YWxpZFZhbGlkaXR5V2luZG93RXJyb3IgZXh0ZW5kcyBFcnJvcnMuQmFzZUVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcih7IHZhbGlkQmVmb3JlLCB2YWxpZEFmdGVyLCB9KSB7XG4gICAgICAgIHN1cGVyKGB2YWxpZEJlZm9yZSAoJHt2YWxpZEJlZm9yZX0pIG11c3QgYmUgZ3JlYXRlciB0aGFuIHZhbGlkQWZ0ZXIgKCR7dmFsaWRBZnRlcn0pLmApO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcywgXCJuYW1lXCIsIHtcbiAgICAgICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgIHZhbHVlOiAnVHhFbnZlbG9wZVRlbXBvLkludmFsaWRWYWxpZGl0eVdpbmRvd0Vycm9yJ1xuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1UeEVudmVsb3BlVGVtcG8uanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./node_modules/ox/_esm/tempo/TxEnvelopeTempo.js\n\n}");

/***/ }

}]);